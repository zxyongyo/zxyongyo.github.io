<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>70é“JavaScriptå¸¸è§é¢è¯•é¢˜ | zxyong</title><meta name="author" content="zxyong"><meta name="copyright" content="zxyong"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="70é“JavaScriptå¸¸è§é¢è¯•é¢˜">
<meta property="og:type" content="article">
<meta property="og:title" content="70é“JavaScriptå¸¸è§é¢è¯•é¢˜">
<meta property="og:url" content="https://zxyongyo.github.io/posts/2944b23d/index.html">
<meta property="og:site_name" content="zxyong">
<meta property="og:description" content="70é“JavaScriptå¸¸è§é¢è¯•é¢˜">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302161005641.webp">
<meta property="article:published_time" content="2023-02-16T02:02:43.000Z">
<meta property="article:modified_time" content="2023-02-28T06:30:36.486Z">
<meta property="article:author" content="zxyong">
<meta property="article:tag" content="JS">
<meta property="article:tag" content="å‰ç«¯">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302161005641.webp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zxyongyo.github.io/posts/2944b23d/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#00c4b6","bgDark":"#121212","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '70é“JavaScriptå¸¸è§é¢è¯•é¢˜',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-02-28 14:30:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="baidu-site-verification" content="code-MYWxbyJPTW" /><meta name="google-site-verification" content="ijDsSlahav6pu_aNpiKunWi6XYhNUUcMnq472XGz6Gk" /><meta name="generator" content="Hexo 5.4.2"></head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "/img/loading.gif" data-lazy-src="/img/avator.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">5</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/" target="_self"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/categories/" target="_self"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/archives/" target="_self"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/" target="_self"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> å…¶ä»–</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="https://zxyongyo.github.io/bing-daily-wallpaper/" target="_blank"><i class="fa-fw fas fa-image"></i><span> å¿…åº”ç¾å›¾</span></a></li><li><a class="site-page child" href="https://zxyongyo.github.io/border-radius-previewer/" target="_blank"><i class="fa-fw fas fa-fill"></i><span> Border-radius Previewer</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302161005641.webp')"><nav id="nav"><span id="blog-info"><a href="/" title="zxyong"><span class="site-name">zxyong</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/" target="_self"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/categories/" target="_self"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/archives/" target="_self"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/" target="_self"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> å…¶ä»–</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="https://zxyongyo.github.io/bing-daily-wallpaper/" target="_blank"><i class="fa-fw fas fa-image"></i><span> å¿…åº”ç¾å›¾</span></a></li><li><a class="site-page child" href="https://zxyongyo.github.io/border-radius-previewer/" target="_blank"><i class="fa-fw fas fa-fill"></i><span> Border-radius Previewer</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">70é“JavaScriptå¸¸è§é¢è¯•é¢˜</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-02-16T02:02:43.000Z" title="å‘è¡¨äº 2023-02-16 10:02:43">2023-02-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-02-28T06:30:36.486Z" title="æ›´æ–°äº 2023-02-28 14:30:36">2023-02-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/JS/">JS</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="70é“JavaScriptå¸¸è§é¢è¯•é¢˜"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="1-undefined-å’Œ-null-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#1-undefined-å’Œ-null-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="1. undefined å’Œ null æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>1. <code>undefined</code> å’Œ <code>null</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>åœ¨äº†è§£ <code>undefined</code> å’Œ <code>null</code>  çš„åŒºåˆ«å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä»–ä»¬çš„ç›¸ä¼¼ä¹‹å¤„ï¼š</p>
<ul>
<li><p>å®ƒä»¬åŒå±äº JavaScript çš„ <strong>7ç§</strong> <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Primitive">åŸå§‹æ•°æ®ç±»å‹</a>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> primitiveTypes = [<span class="string">&#x27;string&#x27;</span>, <span class="string">&#x27;number&#x27;</span>, <span class="string">&#x27;bigint&#x27;</span>, <span class="string">&#x27;symbol&#x27;</span>, <span class="string">&#x27;null&#x27;</span>, <span class="string">&#x27;undefined&#x27;</span>, <span class="string">&#x27;boolean&#x27;</span>];</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨å¯¹å®ƒä»¬ä½¿ç”¨ <code>Boolean(value)</code> æˆ– <code>!!value</code> è½¬ä¸ºå¸ƒå°”å€¼æ—¶ï¼Œéƒ½ä¼šè¢«è½¬ä¸º <code>false</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="literal">null</span>); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="literal">undefined</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="literal">null</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="literal">undefined</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>ç„¶åæ¥çœ‹å®ƒä»¬çš„ä¸åŒä¹‹å¤„ï¼š</p>
<ul>
<li><p><code>undefined</code> æ˜¯æœªåˆ†é…å€¼çš„å˜é‡çš„é»˜è®¤å€¼ï¼Œæˆ–æ˜¯ä¸€ä¸ªæ²¡æœ‰æ˜¾å¼è¿”å›å€¼çš„å‡½æ•°çš„è¿”å›å€¼ï¼Œåˆæˆ–æ˜¯ä¸€ä¸ªå¯¹è±¡ä¸­ä¸å­˜åœ¨çš„å±æ€§çš„å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> _thisIsUndefined;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">doNothing</span> = (<span class="params"></span>) =&gt; &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    a : <span class="string">&quot;ay&quot;</span>,</span><br><span class="line">    b : <span class="string">&quot;bee&quot;</span>,</span><br><span class="line">    c : <span class="string">&quot;si&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(_thisIsUndefined); <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">doNothing</span>()); <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="string">&quot;d&quot;</span>]); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>null</code> è¡¨ç¤ºä¸€ä¸ªä¸å­˜åœ¨çš„å€¼æˆ–æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡çš„å¼•ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">null</span>) <span class="comment">// object</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>==</code> æ¯”è¾ƒ <code>undefined</code> å’Œ <code>null</code> æ—¶ä¼šå¾—åˆ° <code>true</code>ï¼Œå½“ä½¿ç”¨ <code>===</code> æ¯”è¾ƒæ—¶ä¼šå¾—åˆ° <code>false</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">undefined</span> ==  <span class="literal">null</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">undefined</span> === <span class="literal">null</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="2-amp-amp-è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ"><a href="#2-amp-amp-è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ" class="headerlink" title="2. &amp;&amp; è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ"></a>2. <code>&amp;&amp;</code> è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ</h2><p><code>&amp;&amp;</code> (é€»è¾‘ä¸) è¿ç®—ç¬¦å½“ä¸”ä»…å½“æ‰€æœ‰è¡¨è¾¾å¼éƒ½ä¸º <code>true</code> æ—¶è¿”å› <code>true</code> å¦åˆ™è¿”å› <code>false</code>ï¼›</p>
<p>å½“æ“ä½œå¯¹è±¡ä¸æ˜¯å¸ƒå°”å€¼æ—¶ï¼Œå®ƒä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸º <strong>å‡</strong> çš„æ“ä½œå¯¹è±¡å¹¶è¿”å›å®ƒï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ä»»ä½•ä¸ºå‡çš„æ“ä½œå¯¹è±¡ï¼Œ<strong>åˆ™è¿”å›æœ€åä¸€ä¸ª</strong>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">false</span> &amp;&amp; <span class="number">1</span> &amp;&amp; []); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;abc&quot;</span> &amp;&amp; <span class="literal">true</span> &amp;&amp; <span class="number">1</span>); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h2 id="3-è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ"><a href="#3-è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ" class="headerlink" title="3. || è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ"></a>3. <code>||</code> è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ</h2><p><code>||</code>(é€»è¾‘æˆ–)è¿ç®—ç¬¦å½“ä¸”ä»…å½“æ‰€æœ‰è¡¨è¾¾å¼éƒ½ä¸º <code>false</code> æ—¶è¿”å› <code>false</code> å¦åˆ™è¿”å› <code>true</code>ï¼›</p>
<p>å½“æ“ä½œå¯¹è±¡ä¸æ˜¯å¸ƒå°”å€¼æ—¶ï¼Œå®ƒä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸º <strong>çœŸ</strong> çš„æ“ä½œå¯¹è±¡å¹¶è¿”å›å®ƒï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ä»»ä½•ä¸ºçœŸçš„æ“ä½œå¯¹è±¡ï¼Œ<strong>åˆ™è¿”å›æœ€åä¸€ä¸ª</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">true</span> || <span class="number">1</span> || <span class="string">&quot;abc&quot;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">false</span> || <span class="string">&quot;&quot;</span> || <span class="number">1</span>); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h2 id="4-ç”¨ä¸€å…ƒåŠ è¿ç®—ç¬¦ï¼ˆ-ï¼‰æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æœ€å¿«æ–¹æ³•å—ï¼Ÿ"><a href="#4-ç”¨ä¸€å…ƒåŠ è¿ç®—ç¬¦ï¼ˆ-ï¼‰æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æœ€å¿«æ–¹æ³•å—ï¼Ÿ" class="headerlink" title="4. ç”¨ä¸€å…ƒåŠ è¿ç®—ç¬¦ï¼ˆ+ï¼‰æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æœ€å¿«æ–¹æ³•å—ï¼Ÿ"></a>4. ç”¨ä¸€å…ƒåŠ è¿ç®—ç¬¦ï¼ˆ+ï¼‰æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æœ€å¿«æ–¹æ³•å—ï¼Ÿ</h2><p>æ˜¯çš„ï¼Œæ ¹æ® <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Unary_plus">MDNæè¿° </a>ï¼Œ<strong>ä¸€å…ƒåŠ ï¼ˆ+ï¼‰</strong> è¿ç®—ç¬¦ä¼šåœ¨æ“ä½œå€¼ä¹‹å‰å°è¯•å°†å®ƒè½¬ä¸ºæ•°å­—ï¼Œå¦‚æœç›®æ ‡å·²ç»æ˜¯æ•°å­—å°±ä»€ä¹ˆä¹Ÿä¸åšã€‚</p>
<h2 id="5-ä»€ä¹ˆæ˜¯-DOMï¼Ÿ"><a href="#5-ä»€ä¹ˆæ˜¯-DOMï¼Ÿ" class="headerlink" title="5. ä»€ä¹ˆæ˜¯ DOMï¼Ÿ"></a>5. ä»€ä¹ˆæ˜¯ DOMï¼Ÿ</h2><p><strong>DOM</strong> ä»£è¡¨ <strong>æ–‡æ¡£å¯¹è±¡æ¨¡å‹</strong>ï¼ˆDocument Object Modelï¼‰ï¼Œæ˜¯ç”¨æ¥å‘ˆç°ä»¥åŠä¸ä»»ä½• HTML å’Œ XML æ–‡æ¡£äº¤äº’çš„ APIã€‚</p>
<p>å½“æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯»å–ï¼ˆè§£æï¼‰HTML æ—¶ï¼Œä¼šåŸºäºæˆ‘ä»¬çš„ HTMLæ–‡æ¡£ åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå°±æ˜¯ DOMï¼Œå®ƒæ˜¯è½½å…¥åˆ°æµè§ˆå™¨ä¸­çš„æ–‡æ¡£æ¨¡å‹ï¼Œä»¥èŠ‚ç‚¹æ ‘çš„å½¢å¼æ¥è¡¨ç°æ–‡æ¡£ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨æ–‡æ¡£çš„æ„æˆéƒ¨åˆ†ï¼ˆå¦‚ï¼šé¡µé¢å…ƒç´ ã€å­—ç¬¦ä¸²ã€æˆ–æ³¨é‡Šç­‰ï¼‰ã€‚</p>
<p>å‡å¦‚æœ‰ä»¥ä¸‹ HTMLï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document Object Model<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç­‰åŒçš„ DOM åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302171032104.png" alt="DOM tree"></p>
<p><code>JavaScript</code> ä¸­çš„ <code>document</code> å¯¹è±¡ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ¥å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•æ¥å®Œæˆé€‰ä¸­DOMå…ƒç´ æˆ–æ›´æ–°å…ƒç´ çš„å†…å®¹ç­‰æ“ä½œã€‚</p>
<h2 id="6-ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­ï¼Ÿ"><a href="#6-ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­ï¼Ÿ" class="headerlink" title="6. ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­ï¼Ÿ"></a>6. ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­ï¼Ÿ</h2><p>å½“äº‹ä»¶åœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šè§¦å‘æ—¶ï¼Œè¿™ä¸ªäº‹ä»¶å¹¶ä¸åªåœ¨å½“å‰å…ƒç´ ä¸Šè§¦å‘ã€‚</p>
<p>å½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘åä¼šç»å†<strong>ä¸‰ä¸ªé˜¶æ®µ</strong>ï¼š</p>
<ul>
<li><strong>æ•è·é˜¶æ®µ</strong>ï¼šäº‹ä»¶å¯¹è±¡ä» <code>window</code> å¼€å§‹ä¾æ¬¡å‘ä¸‹ä¼ é€’ï¼Œç›´åˆ°ç›®æ ‡çš„çˆ¶çº§å…ƒç´ ï¼Œä»å¤–å‘å†…æ•è·äº‹ä»¶å¯¹è±¡ï¼›</li>
<li><strong>ç›®æ ‡é˜¶æ®µ</strong>ï¼šåˆ°è¾¾ç›®æ ‡äº‹ä»¶ä½ç½®ï¼Œè§¦å‘äº‹ä»¶ï¼›</li>
<li><strong>å†’æ³¡é˜¶æ®µ</strong>ï¼šä»ç›®æ ‡çš„çˆ¶çº§å¼€å§‹ä¾æ¬¡å‘ä¸Šä¼ é€’ï¼Œç›´åˆ° <code>window</code> åœæ­¢ï¼Œä»å†…å‘å¤–å†’æ³¡äº‹ä»¶å¯¹è±¡ã€‚</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210428110115.jpg" alt="Event flow"></p>
<blockquote>
<p><strong>è¯¦ç»†è¯·æŸ¥çœ‹ <a href="/posts/81781fa3/">å½»åº•å¼„æ‡‚ js ä¸­äº‹ä»¶å†’æ³¡å’Œæ•è·ğŸˆ</a></strong></p>
</blockquote>
<h2 id="7-ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡ï¼Ÿ"><a href="#7-ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡ï¼Ÿ" class="headerlink" title="7. ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡ï¼Ÿ"></a>7. ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡ï¼Ÿ</h2><p>å½“äº‹ä»¶åœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šè§¦å‘æ—¶ï¼Œè¿™ä¸ªäº‹ä»¶å¹¶ä¸åªåœ¨å½“å‰å…ƒç´ ä¸Šè§¦å‘ã€‚</p>
<p>åœ¨å†’æ³¡é˜¶æ®µäº‹ä»¶ä¼šä»ç›®æ ‡çš„çˆ¶çº§ä¾æ¬¡å‘ä¸Šä¼ é€’ç›´åˆ° <code>window</code> ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšäº‹ä»¶å†’æ³¡ã€‚</p>
<p>å¦‚æœæœ‰è¿™æ ·çš„ HTML ç‰‡æ®µï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grandparent&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>js ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addEvent</span>(<span class="params">el, event, callback, isCapture = <span class="literal">false</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!el || !event || !callback || <span class="keyword">typeof</span> callback !== <span class="string">&#x27;function&#x27;</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> el === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(el);</span><br><span class="line">  &#125;;</span><br><span class="line">  el.<span class="title function_">addEventListener</span>(event, callback, isCapture);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addEvent</span>(<span class="variable language_">document</span>, <span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> child = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.child&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> parent = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.parent&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> grandparent = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.grandparent&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(child, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;child&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(parent, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;parent&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(grandparent, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;grandparent&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="variable language_">document</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;document&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;html&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="variable language_">window</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;window&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>addEventListener</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•° <code>useCapture</code> é»˜è®¤ä¸º <code>false</code>ï¼Œè¡¨ç¤ºäº‹ä»¶å°†åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ç‚¹å‡» <code>class</code> ä¸º <code>child</code> çš„å…ƒç´ ï¼Œæ§åˆ¶å°å°†ä¾æ¬¡æ‰“å° <code>child</code>ã€<code>parent</code>ã€<code>grandparent</code>ã€ <code>html</code>ã€<code>document</code> å’Œ <code>window</code>ï¼Œè¿™å°±æ˜¯äº‹ä»¶å†’æ³¡ã€‚</p>
<h2 id="8-ä»€ä¹ˆæ˜¯äº‹ä»¶æ•è·ï¼Ÿ"><a href="#8-ä»€ä¹ˆæ˜¯äº‹ä»¶æ•è·ï¼Ÿ" class="headerlink" title="8. ä»€ä¹ˆæ˜¯äº‹ä»¶æ•è·ï¼Ÿ"></a>8. ä»€ä¹ˆæ˜¯äº‹ä»¶æ•è·ï¼Ÿ</h2><p>å½“äº‹ä»¶åœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šè§¦å‘æ—¶ï¼Œè¿™ä¸ªäº‹ä»¶å¹¶ä¸åªåœ¨å½“å‰å…ƒç´ ä¸Šè§¦å‘ã€‚</p>
<p>åœ¨æ•è·é˜¶æ®µäº‹ä»¶ä¼šä» <code>window</code>  ä¾æ¬¡å‘ä¸‹ä¼ é€’ï¼Œç›´åˆ°ç›®æ ‡çš„çˆ¶å…ƒç´ ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšäº‹ä»¶æ•è·ã€‚</p>
<p>å¦‚æœæœ‰è¿™æ ·çš„ HTML ç‰‡æ®µï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grandparent&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>js ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addEvent</span>(<span class="params">el, event, callback, isCapture = <span class="literal">false</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!el || !event || !callback || <span class="keyword">typeof</span> callback !== <span class="string">&#x27;function&#x27;</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> el === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(el);</span><br><span class="line">  &#125;;</span><br><span class="line">  el.<span class="title function_">addEventListener</span>(event, callback, isCapture);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addEvent</span>(<span class="variable language_">document</span>, <span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> child = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.child&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> parent = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.parent&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> grandparent = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.grandparent&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(child, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;child&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(parent, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;parent&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(grandparent, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;grandparent&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="variable language_">document</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;document&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;html&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="variable language_">window</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;window&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>addEventListener</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•° <code>useCapture</code> ä¸º <code>true</code> æ—¶ï¼Œè¡¨ç¤ºäº‹ä»¶å°†åœ¨æ•è·é˜¶æ®µæ‰§è¡Œã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ç‚¹å‡» <code>class</code> ä¸º <code>child</code> çš„å…ƒç´ ï¼Œæ§åˆ¶å°å°†ä¾æ¬¡æ‰“å° <code>window</code>ã€<code>document</code>ã€<code>html</code>ã€ <code>grandparent</code> ã€<code>parent</code>  å’Œ <code>child</code>ï¼Œè¿™å°±æ˜¯äº‹ä»¶æ•è·ã€‚</p>
<h2 id="9-event-preventDefault-å’Œ-event-stopPropagation-æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#9-event-preventDefault-å’Œ-event-stopPropagation-æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="9. event.preventDefault() å’Œ event.stopPropagation() æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>9. <code>event.preventDefault()</code> å’Œ <code>event.stopPropagation()</code> æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul>
<li><p><code>event.preventDefault()</code> æ–¹æ³•ç”¨æ¥é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚</p>
<p>ä¾‹å¦‚ï¼šåœ¨ä¸€ä¸ª <code>checkbox</code> å…ƒç´ çš„ <code>click</code> äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨ <code>event.preventDefault()</code>ï¼Œè¯¥  <code>checkbox</code> å°†æ— æ³•è¢«é€‰ä¸­ï¼›æˆ–åœ¨ä¸€ä¸ª <code>form</code> å…ƒç´ çš„ <code>submit</code> äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨ <code>event.preventDefault()</code>ï¼Œè¯¥ <code>form</code> çš„é»˜è®¤æäº¤è¡Œä¸ºå°†è¢«é˜»æ­¢ã€‚</p>
</li>
<li><p><code>event.stopPropagation)()</code> æ–¹æ³•ç”¨æ¥é˜»æ­¢äº‹ä»¶ä¼ æ’­ï¼Œæˆ–è€…è¯´æ˜¯é˜»æ­¢äº‹ä»¶åœ¨å†’æ³¡æˆ–æ•è·é˜¶æ®µæ‰§è¡Œã€‚</p>
</li>
</ul>
<h2 id="10-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶ä¸­æ˜¯å¦ä½¿ç”¨äº†-event-prevenDefault-æ–¹æ³•ï¼Ÿ"><a href="#10-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶ä¸­æ˜¯å¦ä½¿ç”¨äº†-event-prevenDefault-æ–¹æ³•ï¼Ÿ" class="headerlink" title="10. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶ä¸­æ˜¯å¦ä½¿ç”¨äº† event.prevenDefault() æ–¹æ³•ï¼Ÿ"></a>10. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶ä¸­æ˜¯å¦ä½¿ç”¨äº† <code>event.prevenDefault()</code> æ–¹æ³•ï¼Ÿ</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>event</code> å¯¹è±¡ä¸Šçš„ <code>defaultPrevented</code> å±æ€§æ¥åˆ¤æ–­ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥äº‹ä»¶æ˜¯å¦è°ƒç”¨äº† <code>prevenDefault()</code> æ–¹æ³•ã€‚</p>
<h2 id="11-ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸­-obj-someProp-x-ä¼šæŠ¥é”™ï¼Ÿ"><a href="#11-ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸­-obj-someProp-x-ä¼šæŠ¥é”™ï¼Ÿ" class="headerlink" title="11. ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸­ obj.someProp.x ä¼šæŠ¥é”™ï¼Ÿ"></a>11. ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸­ <code>obj.someProp.x</code> ä¼šæŠ¥é”™ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">someProp</span>.<span class="property">x</span>) <span class="comment">// Uncaught TypeError: Cannot read properties of undefined (reading &#x27;x&#x27;)</span></span><br></pre></td></tr></table></figure>

<p><code>someProp</code> åœ¨ <code>obj</code> ä¸­å¹¶ä¸å­˜åœ¨ï¼Œæ‰€ä»¥å®ƒçš„å€¼ä¸º <code>undefined</code>ï¼Œ<code>undefined</code> ä¸Šæ²¡æœ‰ä»»ä½•å±æ€§å¯ä»¥è¯»å–ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚</p>
<h2 id="12-event-target-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#12-event-target-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="12. event.target æ˜¯ä»€ä¹ˆï¼Ÿ"></a>12. <code>event.target</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>event.target</code> æ˜¯è§¦å‘äº‹ä»¶çš„å¯¹è±¡ï¼ˆæŸä¸ªdomå…ƒç´ ï¼‰çš„å¼•ç”¨ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onclick</span>=<span class="string">&quot;handleClick(event)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center;margin:15px; border:1px solid red;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin: 25px; border:1px solid royalblue;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin:25px;border:1px solid skyblue;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">&quot;margin:10px&quot;</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">target</span>); <span class="comment">// &lt;button style=&quot;margin:10px&quot;&gt;Button&lt;/button&gt;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šå®ä¾‹ï¼Œå½“æˆ‘ä»¬ç‚¹å‡» <code>button</code> æ—¶ï¼Œå°½ç®¡äº‹ä»¶å¤„ç†å‡½æ•°è¢«æ·»åŠ åœ¨æœ€å¤–å±‚çš„ <code>div</code>ï¼Œ<code>event.target</code> ä¹Ÿè¿˜æ˜¯ <code>button</code> å…ƒç´ ã€‚</p>
<h2 id="13-event-currentTarget-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#13-event-currentTarget-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="13. event.currentTarget æ˜¯ä»€ä¹ˆï¼Ÿ"></a>13. <code>event.currentTarget</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>event.currentTarget</code> æŒ‡çš„æ˜¯äº‹ä»¶çš„å½“å‰ç›®æ ‡ï¼Œå®ƒ<strong>æ€»æ˜¯æŒ‡å‘äº‹ä»¶ç»‘å®šçš„å…ƒç´ </strong>ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onclick</span>=<span class="string">&quot;handleClick(event)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center;margin:15px; border:1px solid red;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin: 25px; border:1px solid royalblue;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin:25px;border:1px solid skyblue;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">&quot;margin:10px&quot;</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">currentTarget</span>); <span class="comment">// &lt;div onclick=&quot;handleClick(event)&quot; style=&quot;text-align: center;margin:15px; border:1px solid red;border-radius:3px;&quot;&gt;...&lt;/div&gt;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿˜æ˜¯è¿™ä¸ªä¾‹å­ï¼Œç‚¹å‡» <code>button</code> æ—¶ï¼Œ<code>event.currentTarget</code> æŒ‡å‘æœ€å¤–å±‚ç»‘å®šç‚¹å‡»äº‹ä»¶çš„ <code>div</code> çš„å¼•ç”¨ã€‚</p>
<h2 id="14-å’Œ-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#14-å’Œ-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="14. == å’Œ === æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>14. <code>==</code> å’Œ <code>===</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p><code>==</code> ä¼šæŠŠè¦æ¯”è¾ƒçš„å€¼å¼ºåˆ¶è½¬æ¢ä¸ºåŒç±»å‹ï¼Œå†æ¯”è¾ƒå€¼ï¼›<code>===</code> ä¸ä¼šå¯¹æ“ä½œå¯¹è±¡è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼Œè€Œæ˜¯æ¯”è¾ƒæ“ä½œå¯¹è±¡çš„å€¼å’Œç±»å‹ã€‚</p>
<p>å¼ºåˆ¶ç±»å‹è½¬æ¢æ˜¯æŒ‡å°†å€¼ä»ä¸€ç§æ•°æ®ç±»å‹è‡ªåŠ¨æˆ–éšå¼åœ°è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹ï¼Œåœ¨ä½¿ç”¨ <code>==</code> æ¯”è¾ƒä¸¤ä¸ªå€¼æ—¶ä¼šå¯¹å®ƒä»¬è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼›å‡å¦‚æˆ‘ä»¬è¦æ¯”è¾ƒ <code>x == y</code>ï¼š</p>
<ol>
<li>å¦‚æœ <code>x</code> å’Œ <code>y</code> ç±»å‹ç›¸åŒï¼Œåˆ™æ¯”è¾ƒå®ƒä»¬çš„å€¼ï¼›</li>
<li>å¦‚æœ <code>x</code> ä¸º <code>null</code> <code>y</code> ä¸º <code>undefined</code>ï¼Œåˆ™è¿”å› <code>true</code>ï¼›</li>
<li>å¦‚æœ <code>x</code> ä¸º <code>undefined</code> <code>y</code> ä¸º <code>null</code>ï¼Œåˆ™è¿”å› <code>true</code>ï¼›</li>
<li>å¦‚æœ <code>x</code> æ˜¯ <code>number</code> ç±»å‹ï¼Œ<code>y</code> æ˜¯ <code>string</code> ç±»å‹ï¼Œåˆ™è¿”å› <code>x == Number(y)</code>ï¼›</li>
<li>å¦‚æœ <code>x</code> æ˜¯ <code>string</code> ç±»å‹ï¼Œ<code>y</code> æ˜¯ <code>number</code> ç±»å‹ï¼Œåˆ™è¿”å› <code>Number(x) == y</code>ï¼›</li>
<li>å¦‚æœ <code>x</code> æ˜¯ <code>boolean</code> ç±»å‹ï¼Œ<code>y</code> ä¸æ˜¯ <code>boolean</code> ç±»å‹ï¼Œåˆ™è¿”å› <code>number(x) == y</code>ï¼›</li>
<li>å¦‚æœ <code>x</code> ä¸æ˜¯ <code>boolean</code> ç±»å‹ï¼Œ<code>y</code> æ˜¯ <code>boolean</code> ç±»å‹ï¼Œåˆ™è¿”å› <code>x == number(y)</code>ï¼›</li>
<li>å¦‚æœ <code>x</code> æ˜¯åŸºæœ¬ç±»å‹ï¼Œ<code>y</code> æ˜¯ <code>object</code> ï¼Œåˆ™è¿”å› <code>x == toPrimitive(y)</code>ï¼›</li>
<li>å¦‚æœ <code>x</code> æ˜¯ <code>object</code> ï¼Œ<code>y</code> æ˜¯åŸºæœ¬ç±»å‹ï¼Œåˆ™è¿”å› <code>toPrimitive(x) == y</code>ï¼›</li>
<li>å¦åˆ™ï¼Œè¿”å› <code>false</code>ã€‚</li>
</ol>
<blockquote>
<p><code>toPrimitive</code> æ˜¯æŒ‡å®šäº†ä¸€ç§æ¥å—é¦–é€‰ç±»å‹å¹¶è¿”å›å¯¹è±¡åŸå§‹å€¼çš„è¡¨ç¤ºçš„æ–¹æ³•ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ [MDN - Symbol.toPrimitive</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span> == <span class="number">5</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> == <span class="string">&#x27;1&#x27;</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">null</span> == <span class="literal">undefined</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> == <span class="literal">false</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1,2&#x27;</span> == [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;[object Object]&#x27;</span> == &#123;&#125;) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>æŠŠ <code>==</code> æ”¹ä¸º <code>===</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span> === <span class="number">5</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> === <span class="string">&#x27;1&#x27;</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">null</span> === <span class="literal">undefined</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> === <span class="literal">false</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1,2&#x27;</span> === [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;[object Object]&#x27;</span> === &#123;&#125;) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="15-ä¸ºä»€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªç›¸ä¼¼çš„å¯¹è±¡æ—¶ä¼šè¿”å›-falseï¼Ÿ"><a href="#15-ä¸ºä»€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªç›¸ä¼¼çš„å¯¹è±¡æ—¶ä¼šè¿”å›-falseï¼Ÿ" class="headerlink" title="15. ä¸ºä»€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªç›¸ä¼¼çš„å¯¹è±¡æ—¶ä¼šè¿”å› falseï¼Ÿ"></a>15. ä¸ºä»€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªç›¸ä¼¼çš„å¯¹è±¡æ—¶ä¼šè¿”å› <code>false</code>ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">let</span> b = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">let</span> c = a</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a == b) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === b) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a == c) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === c) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>JS ä»¥ä¸åŒçš„æ–¹å¼æ¯”è¾ƒå¯¹è±¡å’ŒåŸºæœ¬ç±»å‹ï¼›js é€šè¿‡å€¼æ¯”è¾ƒåŸºæœ¬ç±»å‹ï¼Œè€Œæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œjsé€šè¿‡æ¯”è¾ƒå¯¹è±¡çš„å¼•ç”¨æˆ–å†…å­˜åœ°å€å¯¹å®ƒä»¬è¿›è¡Œæ¯”è¾ƒã€‚<code>a</code> å’Œ <code>b</code> æ˜¯åˆ†åˆ«å¯¹ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒä»¬å€¼çš„å†…å­˜åœ°å€å¹¶ä¸åŒï¼›è€Œ <code>a</code> å’Œ <code>c</code> æŒ‡å‘åŒä¸€ä¸ªå¼•ç”¨æˆ–å†…å­˜åœ°å€ã€‚</p>
<h2 id="16-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#16-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="16. !! æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>16. <code>!!</code> æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>!!</code> æ“ä½œç¬¦å¯ä»¥å°†å³ä¾§å€¼å¼ºåˆ¶è½¬æ¢ä¸º <code>boolean</code> ç±»å‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="literal">null</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="literal">undefined</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="string">&#x27;&#x27;</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="number">0</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="title class_">NaN</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="string">&#x27; &#x27;</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!&#123;&#125;) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!![]) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="number">1</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!![].<span class="property">length</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="17-å¦‚ä½•è®¡ç®—ä¸€è¡Œä¸­çš„å¤šä¸ªè¡¨è¾¾å¼ï¼Ÿ"><a href="#17-å¦‚ä½•è®¡ç®—ä¸€è¡Œä¸­çš„å¤šä¸ªè¡¨è¾¾å¼ï¼Ÿ" class="headerlink" title="17. å¦‚ä½•è®¡ç®—ä¸€è¡Œä¸­çš„å¤šä¸ªè¡¨è¾¾å¼ï¼Ÿ"></a>17. å¦‚ä½•è®¡ç®—ä¸€è¡Œä¸­çš„å¤šä¸ªè¡¨è¾¾å¼ï¼Ÿ</h2><p>å¯ä»¥ä½¿ç”¨ <code>,</code> è¿ç®—ç¬¦ï¼Œå®ƒä»å·¦åˆ°å³è®¡ç®—å¹¶è¿”å›æœ€å³ä¾§çš„å€¼æˆ–è®¡ç®—ç»“æœã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">x = (x++, x = <span class="title function_">addFive</span>(x), x *= <span class="number">2</span>, x -= <span class="number">5</span>, x += <span class="number">10</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x) <span class="comment">// 27</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addFive</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num + <span class="number">5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¾¹çš„ç¤ºä¾‹æ‹¬å·ä¸­çš„è¡¨è¾¾å¼ä¼šä»å·¦åˆ°å³ä¾æ¬¡è®¡ç®— <code>x</code> çš„å€¼ï¼Œå¹¶æœ€åä¼šè¿”å›æœ€å³ä¾§è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœã€‚</p>
<h2 id="18-ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ"><a href="#18-ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ" class="headerlink" title="18. ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ"></a>18. ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ</h2><p>å˜é‡æå‡æ˜¯æŒ‡ js ä¸­å˜é‡å’Œå‡½æ•°çš„å£°æ˜ï¼Œä¼šè¢«æå‡è‡³ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚ï¼ˆæ³¨æ„ï¼š<strong>ç”¨ <code>let</code> å’Œ <code>const</code> å£°æ˜çš„å˜é‡æˆ–ç®­å¤´å‡½æ•°å’Œå‡½æ•°è¡¨è¾¾å¼å£°æ˜çš„å‡½æ•°ä¸ä¼šæå‡</strong>ï¼‰</p>
<p>ä¸ºäº†ç†è§£å˜é‡æå‡ï¼Œè¿™é‡Œå¿…é¡»è§£é‡Šä¸€ä¸‹ <strong>JavaScriptæ‰§è¡Œä¸Šä¸‹æ–‡</strong>ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯è¯„ä¼°å’Œæ‰§è¡Œ JavaScript ä»£ç çš„ç¯å¢ƒçš„æŠ½è±¡æ¦‚å¿µã€‚æ¯å½“ Javascript ä»£ç åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå®ƒéƒ½æ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚æ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ç¼–è¯‘å’Œæ‰§è¡Œä¸¤ä¸ªé˜¶æ®µï¼š</p>
<p>åœ¨ç¼–è¯‘é˜¶æ®µï¼Œå®ƒä¼šè·å–æ‰€æœ‰å‡½æ•°å£°æ˜å¹¶å°†å®ƒä»¬æå‡åˆ°ä½œç”¨ä¸é¡¶éƒ¨ï¼Œç„¶åè·å–æ‰€æœ‰å˜é‡å£°æ˜ï¼ˆä½¿ç”¨ varï¼‰æŠŠå®ƒä»¬æå‡è‡³ä½œç”¨åŸŸé¡¶éƒ¨å¹¶åˆå§‹åŒ–ä¸º <code>undefined</code>ã€‚</p>
<p>åœ¨æ‰§è¡Œé˜¶æ®µï¼Œå®ƒä¼šä¸ºä¹‹å‰æå‡çš„å˜é‡èµ‹å€¼ï¼Œæ‰§è¡Œæˆ–è°ƒç”¨å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y) <span class="comment">// undefined</span></span><br><span class="line">y = <span class="number">1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">greet</span>(<span class="string">&quot;Mark&quot;</span>)) <span class="comment">// Hello Mark!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello &#x27;</span> + name + <span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¾¹çš„ä»£ç åœ¨ç¼–è¯‘é˜¶æ®µå¤§æ¦‚åƒè¿™æ ·ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;Hello &#x27;</span> + name + <span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y <span class="comment">// éšå¼çš„èµ‹å€¼ undefined</span></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œé˜¶æ®µï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;Hello &#x27;</span> + name + <span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y)</span><br><span class="line">y = <span class="number">1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">greet</span>(<span class="string">&quot;Mark&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="19-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ"><a href="#19-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ" class="headerlink" title="19. ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ"></a>19. ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ</h2><p>ä½œç”¨åŸŸæ˜¯æŒ‡æˆ‘ä»¬åœ¨ JavaScript ä¸­å¯ä»¥æœ‰æ•ˆè®¿é—®å˜é‡å’Œå‡½æ•°çš„åŒºåŸŸï¼ˆä¹Ÿå°±æ˜¯å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼ŒJavaScript ä¸­æœ‰ä¸‰ç§ä½œç”¨åŸŸï¼š</p>
<ul>
<li><p><strong>å…¨å±€ä½œç”¨åŸŸ</strong> - åœ¨è„šæœ¬æ¨¡å¼ä¸‹è¿è¡Œæ‰€æœ‰ä»£ç çš„é»˜è®¤ä½œç”¨åŸŸï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> g = <span class="string">&#x27;global scope&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">globalFn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(g)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">globalFn</span>() <span class="comment">// global scope</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>æ¨¡å—ä½œç”¨åŸŸ</strong> - åœ¨æ¨¡å—ä¸­è¿è¡Œçš„ä»£ç çš„ä½œç”¨åŸŸã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib.js</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;module scope&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> b = <span class="string">&#x27;exported variable&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; b &#125; <span class="keyword">from</span> <span class="string">&#x27;./lib.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// exported variable</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// Uncaught ReferenceError: a is not defined</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>å‡½æ•°ä½œç”¨åŸŸ</strong> - ç”±å‡½æ•°åˆ›å»ºçš„ä½œç”¨åŸŸï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&#x27;function scope&#x27;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// function scope</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// Uncaught ReferenceError: a is not defined</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>æ­¤å¤–ï¼Œç”¨ <code>let</code> å’Œ <code>const</code> å£°æ˜çš„å˜é‡å¯ä»¥å±äºä¸€ä¸ªé¢å¤–çš„ä½œç”¨åŸŸï¼š</p>
<ul>
<li><p><strong>å—çº§ä½œç”¨åŸŸ</strong> - ç”¨ä¸€å¯¹å¤§æ‹¬å·åˆ›å»ºçš„ä½œç”¨åŸŸã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&#x27;var variable&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> b = <span class="string">&#x27;let variable&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// let variable</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// Uncaught ReferenceError: b is not defined</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>ä½œç”¨åŸŸä¹Ÿæ˜¯ä¸€ç»„æŸ¥æ‰¾å˜é‡çš„è§„åˆ™ã€‚å¦‚æœå˜é‡åœ¨å½“å‰ä½œç”¨åŸŸä¸­ä¸å­˜åœ¨ï¼Œå®ƒä¼šæŸ¥æ‰¾å®ƒçš„ä¸Šçº§ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ï¼Œå¦‚æœè¿˜ä¸å­˜åœ¨å®ƒä¼šä¾æ¬¡å‘ä¸Šæœç´¢ï¼Œç›´åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œå¦‚æœå˜é‡è¢«æ‰¾åˆ°åˆ™å¯ä»¥ä½¿ç”¨ï¼Œå¦åˆ™å°†ä¼šæŠ¥é”™ã€‚å®ƒä¼šä¼˜å…ˆæœç´¢ä½¿ç”¨æœ€è¿‘çš„ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œä¸€æ—¦æ‰¾åˆ°åˆ™åœæ­¢æœç´¢ã€‚è¿™ä¹Ÿå«åš <strong>ä½œç”¨åŸŸé“¾</strong>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Global Scope</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;Comrades&quot;</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;Sayonara&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// outer&#x27;s scope</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&quot;World&quot;</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">inner</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// inner&#x27;s scope</span></span><br><span class="line">        <span class="keyword">var</span> b = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(b + <span class="string">&quot; &quot;</span> + a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">inner</span>()</span><br><span class="line">&#125;  </span><br><span class="line"><span class="title function_">outer</span>() <span class="comment">// Hello World</span></span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302201634511.png" alt="scope chain"></p>
<h2 id="20-ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ"><a href="#20-ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ" class="headerlink" title="20. ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ"></a>20. ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ</h2><p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bar</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz = <span class="title function_">foo</span>()</span><br><span class="line"><span class="title function_">baz</span>() <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>å‡½æ•° <code>bar()</code> çš„è¯æ³•ä½œç”¨åŸŸèƒ½å¤Ÿè®¿é—® <code>foo()</code> çš„å†…éƒ¨ä½œç”¨åŸŸã€‚ç„¶åæˆ‘ä»¬å°† <code>bar() </code> å‡½æ•°æœ¬èº«å½“ä½œä¸€ä¸ªå€¼ç±»å‹è¿›è¡Œä¼ é€’ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°† <code>bar</code> æ‰€å¼•ç”¨çš„å‡½æ•°å¯¹è±¡æœ¬èº«å½“ä½œè¿”å›å€¼ã€‚</p>
<p>åœ¨ <code>foo()</code> æ‰§è¡Œåï¼Œå…¶è¿”å›å€¼ï¼ˆä¹Ÿå°±æ˜¯å†…éƒ¨çš„ <code>bar()</code> å‡½æ•°ï¼‰èµ‹å€¼ç»™å˜é‡ <code>baz</code> å¹¶è°ƒç”¨ <code>baz()</code>ï¼Œå®é™…ä¸Šåªæ˜¯é€šè¿‡ä¸åŒçš„æ ‡è¯†ç¬¦å¼•ç”¨è°ƒç”¨äº†å†…éƒ¨çš„å‡½æ•° <code>bar()</code>ã€‚</p>
<p><code>bar()</code> æ˜¾ç„¶å¯ä»¥è¢«æ­£å¸¸æ‰§è¡Œã€‚ä½†æ˜¯åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒåœ¨è‡ªå·±å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹æ‰§è¡Œã€‚</p>
<p>åœ¨ <code>foo()</code> æ‰§è¡Œåï¼Œé€šå¸¸ä¼šæœŸå¾… <code>foo()</code> çš„æ•´ä¸ªå†…éƒ¨ä½œç”¨åŸŸéƒ½è¢«é”€æ¯ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“å¼•æ“æœ‰åƒåœ¾å›æ”¶å™¨ç”¨æ¥é‡Šæ”¾ä¸å†ä½¿ç”¨çš„å†…å­˜ç©ºé—´ã€‚ç”±äºçœ‹ä¸Šå» <code>foo()</code> çš„å†…å®¹ä¸ä¼šå†è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶åœ°ä¼šè€ƒè™‘å¯¹å…¶è¿›è¡Œå›æ”¶ã€‚</p>
<p>è€Œé—­åŒ…çš„â€œç¥å¥‡â€ä¹‹å¤„æ­£æ˜¯å¯ä»¥é˜»æ­¢è¿™ä»¶äº‹æƒ…çš„å‘ç”Ÿã€‚äº‹å®ä¸Šå†…éƒ¨ä½œç”¨åŸŸä¾ç„¶å­˜åœ¨ï¼Œå› æ­¤æ²¡æœ‰è¢«å›æ”¶ã€‚è°åœ¨ä½¿ç”¨è¿™ä¸ªå†…éƒ¨ä½œç”¨åŸŸï¼ŸåŸæ¥æ˜¯ <code>bar()</code> æœ¬èº«åœ¨ä½¿ç”¨ã€‚</p>
<p>æ‹œ <code>bar()</code> æ‰€å£°æ˜çš„ä½ç½®æ‰€èµï¼Œå®ƒæ‹¥æœ‰æ¶µç›– <code>foo()</code> å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œä½¿å¾—è¯¥ä½œç”¨åŸŸèƒ½å¤Ÿä¸€ç›´å­˜æ´»ï¼Œä»¥ä¾› <code>bar()</code> åœ¨ä¹‹åä»»ä½•æ—¶é—´è¿›è¡Œå¼•ç”¨ã€‚</p>
<p><code>bar()</code> ä¾ç„¶æŒæœ‰å¯¹è¯¥ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè€Œè¿™ä¸ªå¼•ç”¨å°±å«ä½œé—­åŒ…ã€‚</p>
<blockquote>
<p>å¼•ç”¨è‡ª <a target="_blank" rel="noopener" href="https://book.douban.com/subject/26351021/">ã€Šä½ ä¸çŸ¥é“çš„JavaScriptï¼ˆä¸Šå·ï¼‰ã€‹</a></p>
</blockquote>
<h2 id="21-JS-ä¸­éƒ½æœ‰å“ªäº›â€å‡å€¼â€ï¼Ÿ"><a href="#21-JS-ä¸­éƒ½æœ‰å“ªäº›â€å‡å€¼â€ï¼Ÿ" class="headerlink" title="21. JS ä¸­éƒ½æœ‰å“ªäº›â€å‡å€¼â€ï¼Ÿ"></a>21. JS ä¸­éƒ½æœ‰å“ªäº›â€å‡å€¼â€ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> falsyValues = [<span class="string">&#x27;&#x27;</span>, <span class="number">0</span>, <span class="literal">null</span>, <span class="literal">undefined</span>, <span class="title class_">NaN</span>, <span class="literal">false</span>]</span><br></pre></td></tr></table></figure>

<p>å‡å€¼ æ˜¯æŒ‡è½¬ä¸º <code>boolean</code> åä¸º <code>false</code> çš„å€¼ã€‚ </p>
<h2 id="22-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯â€å‡å€¼â€ï¼Ÿ"><a href="#22-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯â€å‡å€¼â€ï¼Ÿ" class="headerlink" title="22. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯â€å‡å€¼â€ï¼Ÿ"></a>22. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯â€å‡å€¼â€ï¼Ÿ</h2><p>ä½¿ç”¨ <code>Boolean()</code> å‡½æ•°æˆ– <code>!!</code> æ“ä½œç¬¦ã€‚</p>
<h2 id="23-use-strict-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#23-use-strict-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="23. use strict æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>23. <code>use strict</code> æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>use strict</code> æ˜¯ <code>ES5</code> çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨æ¥å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å¯ä»¥å¸®æˆ‘ä»¬æå‰è§„é¿ä¸€äº›ä»£ç å¯èƒ½çš„é”™è¯¯ã€‚</p>
<ul>
<li><p>é™åˆ¶åˆ†é…æœªå£°æ˜çš„å˜é‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">returnY</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span></span><br><span class="line">    y = <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">returnY</span>() <span class="comment">// Uncaught ReferenceError: y is not defined</span></span><br></pre></td></tr></table></figure></li>
<li><p>é™åˆ¶ä¸ºåªè¯»æˆ–ä¸å¯å†™çš„å…¨å±€å˜é‡èµ‹å€¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">NaN</span> = <span class="title class_">NaN</span></span><br><span class="line"><span class="keyword">var</span> <span class="literal">undefined</span> = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Infinity</span> = <span class="string">&#x27;a&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;x&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;1&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> obj.<span class="property">x</span></span><br></pre></td></tr></table></figure></li>
<li><p>é‡å¤çš„å‡½æ•°å‚æ•°åï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line">      </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a, b, b, c</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨ <code>eval()</code> å‡½æ•°åˆ›å»ºå˜é‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line">      </span><br><span class="line"><span class="built_in">eval</span>(<span class="string">&#x27;var a = 1&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br></pre></td></tr></table></figure></li>
<li><p><code>this</code> çš„é»˜è®¤å€¼å°†æ˜¯ <code>undefined</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line">      </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">returnThis</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">returnThis</span>()) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li>
<li><p>è¿˜æœ‰<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">æ›´å¤šçš„ç‰¹æ€§</a>å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚</p>
</li>
</ul>
<h2 id="24-JS-ä¸­çš„-this-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#24-JS-ä¸­çš„-this-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="24. JS ä¸­çš„ this æ˜¯ä»€ä¹ˆï¼Ÿ"></a>24. JS ä¸­çš„ <code>this</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹ï¼Œ<code>this</code> å§‹ç»ˆæŒ‡å‘å…¨å±€å¯¹è±¡ <code>window</code>ï¼ˆåœ¨æµè§ˆå™¨ä¸­ï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span> === <span class="variable language_">window</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">a</span>) <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">b</span> = <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// &#x27;xxx&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">b</span>) <span class="comment">// &#x27;xxx&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å‡½æ•°ä¸­çš„ <code>this</code> å…³é”®å­—åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚<code>this</code> ä¸èƒ½åœ¨æ‰§è¡ŒæœŸé—´è¢«èµ‹å€¼ï¼Œå¹¶ä¸”åœ¨æ¯æ¬¡å‡½æ•°è¢«è°ƒç”¨æ—¶ <code>this</code> çš„å€¼ä¹Ÿå¯èƒ½ä¼šä¸åŒã€‚æ­¤å¤–åœ¨ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼ä¸­ä¹Ÿä¼šæœ‰ä¸€äº›å·®åˆ«ã€‚å¦å¤–ï¼Œåœ¨è°ƒç”¨å‡½æ•°æ—¶è¿˜å¯ä»¥é€šè¿‡ <code>bind(), call(), apply()</code> æ–¹æ³•æ”¹å˜å‡½æ•°ä¸­ <code>this</code> çš„å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">f1</span>() === <span class="variable language_">window</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¦‚æœè¿›å…¥æ‰§è¡Œç¯å¢ƒæ—¶æ²¡æœ‰è®¾ç½® <code>this</code> çš„å€¼ï¼Œ<code>this</code> å°†ä¿æŒä¸º <code>undefined</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">f2</span>()) <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="title function_">f2</span>()) <span class="comment">// Window</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>call()</code> å’Œ <code>apply()</code> æ”¹å˜å‡½æ•°å†… <code>this</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>: <span class="string">&#x27;obj a&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;global a&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">whatsThis</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">whatsThis</span>() <span class="comment">// global a</span></span><br><span class="line">whatsThis.<span class="title function_">call</span>(obj) <span class="comment">// obj a</span></span><br><span class="line">whatsThis.<span class="title function_">apply</span>(obj) <span class="comment">// obj a</span></span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨ <code>f.bind(someObject)</code> ä¼šåˆ›å»ºä¸€ä¸ªä¸ <code>f</code> å…·æœ‰ç›¸åŒå‡½æ•°ä½“å’Œä½œç”¨åŸŸçš„å‡½æ•°ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªæ–°å‡½æ•°ä¸­ï¼Œ<code>this</code> å°†æ°¸ä¹…åœ°è¢«ç»‘å®šåˆ°äº† <code>bind</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ— è®ºè¿™ä¸ªå‡½æ•°æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> g = f.<span class="title function_">bind</span>(&#123;<span class="attr">a</span>: <span class="string">&#x27;azerty&#x27;</span>&#125;)</span><br><span class="line"><span class="title function_">g</span>() <span class="comment">// azerty</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> h = g.<span class="title function_">bind</span>(&#123;<span class="attr">a</span>: <span class="string">&#x27;yoo&#x27;</span>&#125;) <span class="comment">// bind åªç”Ÿæ•ˆä¸€æ¬¡</span></span><br><span class="line"><span class="title function_">h</span>() <span class="comment">// azerty</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">a</span>: <span class="number">38</span>, <span class="attr">f</span>: f, <span class="attr">g</span>: g, <span class="attr">h</span>: h &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="property">a</span>)</span><br><span class="line">o.<span class="title function_">f</span>() <span class="comment">// 38</span></span><br><span class="line">o.<span class="title function_">g</span>() <span class="comment">// azerty</span></span><br><span class="line">o.<span class="title function_">h</span>() <span class="comment">// azerty</span></span><br></pre></td></tr></table></figure>



<p>ç®­å¤´å‡½æ•°ä¸æä¾›è‡ªèº«çš„  <code>this</code> ç»‘å®šï¼ˆç®­å¤´å‡½æ•°ä¸­ <code>this</code> çš„å€¼å°†ä¿æŒä¸ºé—­åˆè¯æ³•ä¸Šä¸‹æ–‡çš„å€¼ï¼‰ã€‚å¦‚æœå°† <code>this</code> ä¼ é€’ç»™ <code>bind(), call(), apply()</code> æ–¹æ³•æ¥è°ƒç”¨ç®­å¤´å‡½æ•°ï¼Œå®ƒå°†è¢«å¿½ç•¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> globalObj = <span class="variable language_">this</span></span><br><span class="line"><span class="keyword">var</span> foo = (<span class="function">() =&gt;</span> <span class="variable language_">this</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">foo</span>() === globalObj) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">foo</span>: foo&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">foo</span> === globalObj) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•ä½¿ç”¨ call æ¥ç»‘å®š this</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="title function_">call</span>(obj) === globalObject); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•ä½¿ç”¨ bind æ¥ç»‘å®š this</span></span><br><span class="line">foo = foo.<span class="title function_">bind</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">foo</span>() === globalObject); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>å½“å‡½æ•°ä½œä¸ºå¯¹è±¡é‡Œçš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œ<code>this</code> è¢«è®¾ç½®ä¸ºè°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    <span class="attr">prop</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="attr">f</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">prop</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">f</span>()) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<p>å½“å‡½æ•°è¢«ç”¨ä½œäº‹ä»¶å¤„ç†å‡½æ•°æ—¶ï¼Œå®ƒçš„ <code>this</code> æŒ‡å‘è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span> === e.<span class="property">currentTarget</span>) <span class="comment">// true</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> button = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, handleClick)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="25-JS-ä¸­å¯¹è±¡çš„-prototype-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#25-JS-ä¸­å¯¹è±¡çš„-prototype-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="25. JS ä¸­å¯¹è±¡çš„ prototype æ˜¯ä»€ä¹ˆï¼Ÿ"></a>25. JS ä¸­å¯¹è±¡çš„ <code>prototype</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>æ¯ä¸ªå®ä¾‹å¯¹è±¡ï¼ˆObjectï¼‰éƒ½æœ‰ä¸€ä¸ªç§æœ‰å±æ€§ï¼ˆ__proto__ï¼‰æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼ˆ<strong>prototype</strong>ï¼‰ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡ä¹Ÿæœ‰è‡ªå·±çš„åŸå‹å¯¹è±¡ï¼Œå±‚å±‚å‘ä¸Šç›´åˆ° <code>null</code>ï¼Œ<code>null</code> æ²¡æœ‰åŸå‹ã€‚</p>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå®ƒä¼šå…ˆåœ¨å¯¹è±¡è‡ªèº«æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™å†åˆ°åŸå‹ä¸ŠæŸ¥æ‰¾ï¼Œå±‚å±‚å‘ä¸Šç›´åˆ°æ‰¾åˆ°æˆ–æŸ¥æ‰¾åˆ° <code>null</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o = &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">toString</span>()) <span class="comment">// [object Object]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">toString</span>() === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">toString</span>()) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="26-ä»€ä¹ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#26-ä»€ä¹ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="26. ä»€ä¹ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>26. ä»€ä¹ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p>ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰æ˜¯ä¸€ä¸ªåœ¨åˆ›å»ºæˆ–å£°æ˜åå°†è¢«ç«‹å³è°ƒç”¨æˆ–æ‰§è¡Œçš„å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;())</span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> <span class="title function_">named</span>(<span class="params">params</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> (<span class="params"><span class="variable language_">global</span></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;)(<span class="variable language_">window</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> utility = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">   <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">//utilities</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šéƒ½æ˜¯åˆ›å»º <em>ç«‹å³æ‰§è¡Œå‡½æ•°</em> æ­£ç¡®çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ <em>ç«‹å³æ‰§è¡Œå‡½æ•°</em> ä¼ é€’å‚æ•°ï¼ˆå¦‚å€’æ•°ç¬¬äºŒä¸ªä¾‹å­ï¼‰ï¼Œä¹Ÿå¯ä»¥æŠŠ <em>ç«‹å³æ‰§è¡Œå‡½æ•°</em> çš„è¿”å›å€¼ä¿å­˜åˆ°ä¸€ä¸ªå˜é‡ï¼Œä»¥ä¾¿ç¨åå¼•ç”¨å®ƒã€‚</p>
<p><em>ç«‹å³æ‰§è¡Œå‡½æ•°</em> çš„æœ€ä½³ç”¨é€”æ˜¯ç”¨æ¥åšä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œä»¥é¿å…ä¸å…¨å±€ä½œç”¨åŸŸä¸‹çš„å…¶å®ƒå˜é‡å‘ç”Ÿå‘½åå†²çªæˆ–æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ã€‚</p>
<p>å‡å¦‚æˆ‘ä»¬ç°åœ¨éœ€è¦å¼•å…¥ä¸€ä¸ªå·¥å…·åŒ… <code>lib.js</code>ï¼Œè¿™ä¸ªå·¥å…·åŒ…æä¾›äº†ä¸¤ä¸ªå…¨å±€æ–¹æ³• <code>createGraph</code> å’Œ <code>drawGraph</code>ï¼Œä½†æ˜¯æˆ‘ä»¬åªéœ€è¦ç”¨ <code>createGraph</code> ï¼Œ <code>drawGraph</code> æ–¹æ³•éœ€è¦è‡ªå·±å®ç°ï¼Œå°±å¯ä»¥ç”¨ <em>ç«‹å³æ‰§è¡Œå‡½æ•°</em> æ¥åˆå§‹åŒ–ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnurl.com/lib.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> graphUtility = (<span class="keyword">function</span> (<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">function</span> <span class="title function_">myDrawGraph</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="comment">// ...</span></span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            createGraph,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">drawGraph</span>: myDrawGraph</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)()</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ä½¿ç”¨</span></span></span><br><span class="line"><span class="language-javascript">    graphUtility.<span class="title function_">createGraph</span>()</span></span><br><span class="line"><span class="language-javascript">    graphUtility.<span class="title function_">drawGraph</span>()</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="27-Function-prototype-call-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#27-Function-prototype-call-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="27. Function.prototype.call æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>27. <code>Function.prototype.call</code> æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>call</code> æ–¹æ³•å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ <code>this</code> å€¼æ¥è°ƒç”¨å‡½æ•°ï¼Œå³ä¼šè®¾ç½®è°ƒç”¨å‡½æ•°æ—¶å‡½æ•°ä½“å†… <code>this</code> çš„å€¼ï¼›å®ƒæ¥æ”¶ä¸€ä¸ªç”¨æ¥æŒ‡å®š <code>this</code> å€¼çš„å‚æ•°ï¼Œå’Œä¸€ä¸ªä¼ é€’ç»™å‡½æ•°çš„å‚æ•°åˆ—è¡¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn.<span class="title function_">call</span>(thisArg, arg1, arg2...)</span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zxyong&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greeting</span>(<span class="params">greetingMessage</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;greetingMessage&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greeting.<span class="title function_">call</span>(person, <span class="string">&#x27;hello&#x27;</span>) <span class="comment">// hello zxyong</span></span><br></pre></td></tr></table></figure>

<h2 id="28-Function-prototype-apply-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#28-Function-prototype-apply-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="28. Function.prototype.apply æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>28. <code>Function.prototype.apply</code> æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>apply</code> æ–¹æ³•å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ <code>this</code> å€¼æ¥è°ƒç”¨å‡½æ•°ï¼Œå³ä¼šè®¾ç½®è°ƒç”¨å‡½æ•°æ—¶å‡½æ•°ä½“å†… <code>this</code> çš„å€¼ï¼›å®ƒæ¥æ”¶ä¸€ä¸ªç”¨æ¥æŒ‡å®š <code>this</code> å€¼çš„å‚æ•°ï¼Œå’Œä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»æ•°ç»„å¯¹è±¡ï¼‰ç”¨æ¥ç»™å‡½æ•°æä¾›å‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn.<span class="title function_">apply</span>(thisArg, argsArray)</span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zxyong&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greeting</span>(<span class="params">greetingMessage</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;greetingMessage&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greeting.<span class="title function_">apply</span>(person, [<span class="string">&#x27;hello&#x27;</span>]) <span class="comment">// hello zxyong</span></span><br></pre></td></tr></table></figure>

<h2 id="29-Function-prototype-call-å’Œ-Function-prototype-apply-æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#29-Function-prototype-call-å’Œ-Function-prototype-apply-æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="29. Function.prototype.call å’Œ Function.prototype.apply æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>29. <code>Function.prototype.call</code> å’Œ <code>Function.prototype.apply</code> æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p><code>call</code> å’Œ <code>apply</code> æ–¹æ³•çš„ä½œç”¨å®Œå…¨ä¸€æ ·ï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯æŒ‡å®šå‡½æ•°å‚æ•°çš„æ–¹å¼ï¼Œ<code>call</code> æ–¹æ³•ä½¿ç”¨å‚æ•°åˆ—è¡¨æ¥æŒ‡å®šå‚æ•°ï¼Œ<code>apply</code> æ–¹æ³•ä½¿ç”¨æ•°ç»„ï¼ˆæˆ–ç±»æ•°ç»„å¯¹è±¡ï¼‰æ¥æŒ‡å®šå‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">result</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">result</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reduceAdd</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = <span class="variable language_">arguments</span>.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        result += <span class="variable language_">arguments</span>[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">result</span> = result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">reduceAdd.<span class="title function_">call</span>(obj1, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">reduceAdd.<span class="title function_">apply</span>(obj2, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">result</span>) <span class="comment">// 15</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2.<span class="property">result</span>) <span class="comment">//15</span></span><br></pre></td></tr></table></figure>

<h2 id="30-Function-prototype-bind-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#30-Function-prototype-bind-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="30. Function.prototype.bind æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>30. <code>Function.prototype.bind</code> æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>bind()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œåœ¨ <code>bind()</code> è¢«è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªæ–°å‡½æ•°çš„ <code>this</code> è¢«æŒ‡å®šä¸º <code>bind()</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆä¸å—æ–¹æ³•è°ƒç”¨çš„å½±å“ï¼‰ï¼Œè€Œå…¶ä½™å‚æ•°å°†ä½œä¸ºæ–°å‡½æ•°çš„é»˜è®¤å‚æ•°ï¼Œä¾›è°ƒç”¨æ—¶ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">9</span></span><br><span class="line"><span class="keyword">var</span> <span class="variable language_">module</span> = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">81</span>,</span><br><span class="line">    <span class="attr">getX</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">x</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">module</span>.<span class="title function_">getX</span>()) <span class="comment">// 81</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> retrieveX = <span class="variable language_">module</span>.<span class="property">getX</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">retrieveX</span>()) <span class="comment">// 9  - å› ä¸ºå‡½æ•°æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸè°ƒç”¨çš„</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> boundGetX = retrieveX.<span class="title function_">bind</span>(<span class="variable language_">module</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">boundGetX</span>()) <span class="comment">// 81</span></span><br></pre></td></tr></table></figure>

<h2 id="31-ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ŸJS-çš„å“ªäº›ç‰¹æ€§è®©å…¶æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹çš„é¦–é€‰ï¼Ÿ"><a href="#31-ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ŸJS-çš„å“ªäº›ç‰¹æ€§è®©å…¶æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹çš„é¦–é€‰ï¼Ÿ" class="headerlink" title="31. ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ŸJS çš„å“ªäº›ç‰¹æ€§è®©å…¶æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹çš„é¦–é€‰ï¼Ÿ"></a>31. ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ŸJS çš„å“ªäº›ç‰¹æ€§è®©å…¶æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹çš„é¦–é€‰ï¼Ÿ</h2><p>å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä¸»è¦æ˜¯åˆ©ç”¨å‡½æ•°æŠŠè¿ç®—è¿‡ç¨‹å°è£…èµ·æ¥ï¼Œé€šè¿‡ç»„åˆå„ç§å‡½æ•°æ¥è®¡ç®—ç»“æœã€‚</p>
<p>å°±åƒ JS çš„ <code>Array</code> æ‹¥æœ‰ <code>map, filter, reduce</code> ç­‰éå¸¸å®ç”¨çš„åŸå‹æ–¹æ³•ã€‚å› ä¸ºå®ƒä»¬éƒ½ä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼Œä½¿å®ƒä»¬æˆä¸ºäº† <em>çº¯å‡½æ•°</em>ï¼Œè€Œä¸” JS æ”¯æŒé«˜é˜¶å‡½æ•°å’Œé—­åŒ…ç­‰éƒ½æ˜¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€çš„ç‰¹å¾ã€‚</p>
<blockquote>
<p>çº¯å‡½æ•°æŒ‡çš„æ˜¯<strong>ç›¸åŒçš„è¾“å…¥ï¼Œæ°¸è¿œä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡º</strong>ã€‚</p>
</blockquote>
<h2 id="32-ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ"><a href="#32-ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ" class="headerlink" title="32. ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ"></a>32. ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ</h2><p>é«˜é˜¶å‡½æ•°æ˜¯æŒ‡å¯ä»¥è¿”å›å‡½æ•°æˆ–æ¥æ”¶å‚æ•°æˆ–å…·æœ‰å‡½æ•°å€¼çš„å‚æ•°çš„å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">higherOrderFunction</span>(<span class="params">param, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">callback</span>(param)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="33-ä¸ºä»€ä¹ˆå‡½æ•°ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Ÿ"><a href="#33-ä¸ºä»€ä¹ˆå‡½æ•°ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Ÿ" class="headerlink" title="33. ä¸ºä»€ä¹ˆå‡½æ•°ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Ÿ"></a>33. ä¸ºä»€ä¹ˆå‡½æ•°ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Ÿ</h2><p>JS ä¸­çš„å‡½æ•°è¢«ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬è¢«è§†ä¸ºè¯­è¨€ä¸­çš„ä»»ä½•å…¶ä»–å€¼ã€‚å®ƒå¯ä»¥åˆ†é…ç»™å˜é‡ï¼Œå®ƒå¯ä»¥æ˜¯å¯¹è±¡çš„å±æ€§ï¼Œå®ƒå¯ä»¥æ˜¯æ•°ç»„ä¸­çš„ä¸€é¡¹ï¼Œå®ƒå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå®ƒå¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ï¼Œå‡½æ•°ä¸ JS ä¸­ä»»ä½•å…¶ä»–å€¼çš„å”¯ä¸€åŒºåˆ«åœ¨äºå®ƒå¯ä»¥è¢«è°ƒç”¨ã€‚</p>
<h2 id="34-æ‰‹åŠ¨å®ç°-Array-prototype-map-æ–¹æ³•ã€‚"><a href="#34-æ‰‹åŠ¨å®ç°-Array-prototype-map-æ–¹æ³•ã€‚" class="headerlink" title="34. æ‰‹åŠ¨å®ç° Array.prototype.map æ–¹æ³•ã€‚"></a>34. æ‰‹åŠ¨å®ç° <code>Array.prototype.map</code> æ–¹æ³•ã€‚</h2><p><code>map()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¿™ä¸ªæ–°æ•°ç»„ç”±åŸæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼ç»„æˆã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">map</span>(<span class="params">arr, mapCallback</span>) &#123;</span><br><span class="line">    <span class="comment">// æŸ¥éªŒå‚æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr) || !arr.<span class="property">length</span> || <span class="keyword">typeof</span> mapCallback !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> result = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = arr.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">            result.<span class="title function_">push</span>(<span class="title function_">mapCallback</span>(arr[i], i, arr))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="35-æ‰‹åŠ¨å®ç°-Array-prototype-filter-æ–¹æ³•ã€‚"><a href="#35-æ‰‹åŠ¨å®ç°-Array-prototype-filter-æ–¹æ³•ã€‚" class="headerlink" title="35. æ‰‹åŠ¨å®ç° Array.prototype.filter æ–¹æ³•ã€‚"></a>35. æ‰‹åŠ¨å®ç° <code>Array.prototype.filter</code> æ–¹æ³•ã€‚</h2><p><code>filter()</code> æ–¹æ³•åˆ›å»ºç»™å®šæ•°ç»„ä¸€éƒ¨åˆ†çš„æµ…æ‹·è´ï¼Œå…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">filter</span>(<span class="params">arr, filterCallback</span>) &#123;</span><br><span class="line">    <span class="comment">// æŸ¥éªŒå‚æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr) || !arr.<span class="property">length</span> || <span class="keyword">typeof</span> filterCallback !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> result = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = arr.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_">filterCallback</span>(arr[i], i, arr)) &#123;</span><br><span class="line">                result.<span class="title function_">push</span>(arr[i])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="36-æ‰‹åŠ¨å®ç°-Array-prototype-reduce-æ–¹æ³•ã€‚"><a href="#36-æ‰‹åŠ¨å®ç°-Array-prototype-reduce-æ–¹æ³•ã€‚" class="headerlink" title="36. æ‰‹åŠ¨å®ç° Array.prototype.reduce æ–¹æ³•ã€‚"></a>36. æ‰‹åŠ¨å®ç° <code>Array.prototype.reduce</code> æ–¹æ³•ã€‚</h2><p><code>reduce()</code> æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æŒ‰åºæ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„ <strong>reducer</strong> å‡½æ•°ï¼Œæ¯ä¸€æ¬¡è¿è¡Œ <strong>reducer</strong> ä¼šå°†å…ˆå‰å…ƒç´ çš„è®¡ç®—ç»“æœä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œæœ€åå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚</p>
<p>ç¬¬ä¸€æ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ï¼Œä¸å­˜åœ¨â€œä¸Šä¸€æ¬¡çš„è®¡ç®—ç»“æœâ€ã€‚å¦‚æœéœ€è¦å›è°ƒå‡½æ•°ä»æ•°ç»„ç´¢å¼•ä¸º 0 çš„å…ƒç´ å¼€å§‹æ‰§è¡Œï¼Œåˆ™éœ€è¦ä¼ é€’åˆå§‹å€¼ã€‚å¦åˆ™ï¼Œæ•°ç»„ç´¢å¼•ä¸º 0 çš„å…ƒç´ å°†è¢«ä½œä¸ºåˆå§‹å€¼ï¼Œè¿­ä»£å™¨å°†ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹æ‰§è¡Œï¼ˆç´¢å¼•ä¸º 1 è€Œä¸æ˜¯ 0ï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">reduce</span>(<span class="params">arr, reduceCallback, initialValue</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr) || !arr.<span class="property">length</span> || <span class="keyword">typeof</span> reduceCallback !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> hasInitialValue = initialValue !== <span class="literal">undefined</span>;</span><br><span class="line">        <span class="keyword">let</span> value = hasInitialValue ? initialValue : arr[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = hasInitialValue ? <span class="number">0</span> : <span class="number">1</span>, len = arr.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">            value = <span class="title function_">reduceCallback</span>(value, arr[i], i, arr); </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="37-arguments-å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#37-arguments-å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="37. arguments å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ"></a>37. <code>arguments</code> å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>arguments</code> å¯¹è±¡æ˜¯ä¼ å…¥å‡½æ•°çš„å‚æ•°å€¼çš„é›†åˆã€‚å®ƒæ˜¯ä¸€ä¸ª<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Indexed_collections#%E4%BD%BF%E7%94%A8%E7%B1%BB%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1">ç±»æ•°ç»„å¯¹è±¡</a>ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Array.prototype.slice</code> å°†å‚æ•°å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
<blockquote>
<p><code>arguments</code> å¯¹è±¡ä¸èƒ½åœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">arrowFn</span> = (<span class="params">...args</span>) =&gt; args</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>)) <span class="comment">// [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">arrowFn</span>(<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>)) <span class="comment">// [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]</span></span><br></pre></td></tr></table></figure>

<h2 id="38-å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼Ÿ"><a href="#38-å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼Ÿ" class="headerlink" title="38. å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼Ÿ"></a>38. å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼Ÿ</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Object.create()</code> æ¥åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o1 = &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o1.<span class="title function_">toString</span>()) <span class="comment">// &#x27;[object Object]&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o2 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o2.<span class="title function_">toString</span>()) <span class="comment">// Uncaught TypeError: o2.toString is not a function</span></span><br></pre></td></tr></table></figure>

<h2 id="39-åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå½“ä½ è°ƒç”¨-fn-æ—¶ä¸ºä»€ä¹ˆ-b-å˜æˆäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Ÿ"><a href="#39-åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå½“ä½ è°ƒç”¨-fn-æ—¶ä¸ºä»€ä¹ˆ-b-å˜æˆäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Ÿ" class="headerlink" title="39. åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå½“ä½ è°ƒç”¨ fn æ—¶ä¸ºä»€ä¹ˆ b å˜æˆäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Ÿ"></a>39. åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå½“ä½ è°ƒç”¨ <code>fn</code> æ—¶ä¸ºä»€ä¹ˆ <code>b</code> å˜æˆäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = b = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">myFunc</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å› ä¸ºèµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰æ˜¯ä»å³åˆ°å·¦ç»„åˆæˆ–æ±‚å€¼çš„ã€‚ä¸Šè¾¹çš„ç¤ºä¾‹å°±ç›¸å½“äºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = (b = <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">myFunc</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆè¡¨è¾¾å¼ <code>b = 0</code> ä¼šå…ˆè¢«æ‰§è¡Œï¼Œå› ä¸ºå˜é‡ <code>b</code> è¿˜æœªå£°æ˜ï¼ŒJS ä¼šæŠŠæœªå£°æ˜å°±èµ‹å€¼çš„å˜é‡æ·»åŠ ä¸ºå…¨å±€å˜é‡ï¼›ç„¶åæŠŠ <code>b = 0</code> çš„è¿”å›å€¼ 0ï¼Œèµ‹å€¼ç»™å˜é‡ <code>a</code>ï¼Œå› ä¸º <code>a</code> å·²ç»ç”¨ <code>let</code> å…³é”®å­—å£°æ˜äº†ï¼Œåˆ™ä¼šæˆä¸ºå‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸‹ä»£ç è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a, b</span><br><span class="line">    a = b = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">myFunc</span>()</span><br></pre></td></tr></table></figure>

<h2 id="40-ECMAScript-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#40-ECMAScript-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="40. ECMAScript æ˜¯ä»€ä¹ˆï¼Ÿ"></a>40. <code>ECMAScript</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>ECMAScript æ˜¯ JavaScriptæ‰€åŸºäºçš„è„šæœ¬è¯­è¨€ï¼ŒJavaScript éµå¾ª ECMAScript æ ‡å‡†çš„è§„èŒƒå˜åŒ–ã€‚</p>
<h2 id="41-ES6-æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ"><a href="#41-ES6-æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ" class="headerlink" title="41. ES6 æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ"></a>41. ES6 æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</h2><ul>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%EF%BC%9F">ç®­å¤´å‡½æ•°</a></li>
<li><a href="#ES6-%E7%9A%84-class-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F">ç±»</a></li>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%9F">æ¨¡æ¿å­—ç¬¦ä¸²</a></li>
<li>å¯¹è±¡å±æ€§çš„ç®€å†™å½¢å¼</li>
<li><a href="#%E5%AF%B9%E8%B1%A1%E8%A7%A3%E6%9E%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F">å¯¹è±¡è§£æ„</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator">Generator</a></li>
<li><a href="#ES6-%E7%9A%84%E6%A8%A1%E5%9D%97%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F">æ¨¡å—åŒ–</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol">Symbol</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">ä»£ç†ï¼ˆProxyï¼‰</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a></li>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%EF%BC%9F">å‡½æ•°é»˜è®¤å‚æ•°</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/let">let</a> å’Œ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/const">const</a> çš„å—ä½œç”¨åŸŸ</li>
</ul>
<h2 id="42-let-const-var-å…³é”®å­—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#42-let-const-var-å…³é”®å­—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="42. let, const, var å…³é”®å­—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>42. <code>let, const, var</code> å…³é”®å­—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>ä½¿ç”¨ <code>var</code> å£°æ˜çš„å˜é‡æœ‰ <em>å£°æ˜æå‡</em>ï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">showX</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (showX) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">false</span>)) <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">true</span>)) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç åœ¨å®é™…æ‰§è¡Œæ—¶å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">showX</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="comment">// å˜é‡å£°æ˜è¢«æå‡è‡³å‡½æ•°ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œå½“å‰é»˜è®¤ä¸º undefined</span></span><br><span class="line">    <span class="keyword">if</span> (showX) &#123;</span><br><span class="line">        x = <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">false</span>)) <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">true</span>)) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<p><code>let</code> å’Œ <code>const</code> å£°æ˜çš„å˜é‡ä¸å­˜åœ¨å˜é‡æå‡ï¼Œè€Œä¸”æœ‰å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥ä¸Šè¾¹çš„ç¤ºä¾‹å¦‚æœç”¨ <code>let</code> æˆ– <code>const</code> å£°æ˜å˜é‡å°±ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">showX</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (showX) &#123;</span><br><span class="line">        <span class="keyword">let</span> x = <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">true</span>)) <span class="comment">// Uncaught ReferenceError: x is not defined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">false</span>)) <span class="comment">// Uncaught ReferenceError: x is not defined</span></span><br></pre></td></tr></table></figure>

<p><code>const</code> å’Œ <code>let</code> çš„ä¸åŒå°±æ˜¯ï¼Œç”¨ <code>const</code> å£°æ˜çš„å˜é‡æ— æ³•é‡æ–°èµ‹å€¼ï¼Œè¿™ä¹Ÿæ„å‘³ç€ç”¨ <code>const</code> å£°æ˜å˜é‡æ—¶å¿…é¡»åŒæ—¶å¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<h2 id="43-ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°ï¼Ÿ"><a href="#43-ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°ï¼Ÿ" class="headerlink" title="43. ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°ï¼Ÿ"></a>43. ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°ï¼Ÿ</h2><p><strong>ç®­å¤´å‡½æ•°è¡¨è¾¾å¼</strong>æ˜¯ ES6 çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒçš„è¯­æ³•æ¯”å‡½æ•°è¡¨è¾¾å¼æ›´ç®€æ´ï¼Œå¹¶ä¸”æ²¡æœ‰è‡ªå·±çš„<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this"><code>this</code></a>ï¼Œ<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments"><code>arguments</code></a>ï¼Œ<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/super"><code>super</code></a>æˆ–<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new.target"><code>new.target</code></a>ã€‚ç®­å¤´å‡½æ•°è¡¨è¾¾å¼æ›´é€‚ç”¨äºé‚£äº›æœ¬æ¥éœ€è¦åŒ¿åå‡½æ•°çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="keyword">var</span> getCurrentDate = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getCurrentDate1</span> = (<span class="params"></span>) =&gt; <span class="keyword">new</span> <span class="title class_">Date</span>() <span class="comment">// ä¸éœ€è¦ return å…³é”®å­—</span></span><br><span class="line"><span class="comment">// æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hello &#x27;</span> + name + <span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">greet1</span> = name =&gt; <span class="string">`hello <span class="subst">$&#123;name&#125;</span>!`</span> <span class="comment">// å½“åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶å¯ä»¥çœç•¥æ‹¬å·</span></span><br></pre></td></tr></table></figure>

<h2 id="44-ES6-çš„-class-å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#44-ES6-çš„-class-å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="44. ES6 çš„ class å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>44. ES6 çš„ <code>class</code> å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>class</code> å…³é”®å­—ç”¨æ¥å£°æ˜ä¸€ä¸ªç±»ï¼Œå®ƒæ˜¯ç¼–å†™æ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼Œåº•å±‚ä»ç„¶æ˜¯ä½¿ç”¨ JS çš„åŸå‹å’ŒåŸºäºåŸå‹çš„ç»§æ‰¿ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">firstName, lastName, age, address</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">firstName</span> = firstName</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">lastName</span> = lastName</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">address</span> = address</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">self</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;[object Person]&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getFullName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">firstName, lastName, age, address</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">lastName</span> = lastName</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">firstName</span> = firstName</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">address</span> = address</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">self</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;[object Person]&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getFullName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.firstName&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.lastName&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="45-ä»€ä¹ˆæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Ÿ"><a href="#45-ä»€ä¹ˆæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Ÿ" class="headerlink" title="45. ä»€ä¹ˆæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Ÿ"></a>45. ä»€ä¹ˆæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Ÿ</h2><p>æ¨¡æ¿å­—ç¬¦ä¸²æ˜¯ ES6 å‡ºç°çš„åˆ›å»ºå­—ç¬¦ä¸²çš„æ–°æ–¹æ³•ï¼Œä½¿ç”¨ä¸¤ä¸ª â€œ<strong>`</strong>â€œ æ¥åˆ›å»ºå­—ç¬¦ä¸²ï¼Œåœ¨å¤„ç†å˜é‡ã€æ¢è¡Œç­‰éƒ½æ›´æ–¹ä¾¿äº†ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">var</span> greet = <span class="string">&#x27;Hi I\&#x27;m Mark&#x27;</span></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">let</span> greet1 = <span class="string">`Hi I\&#x27;m Mark`</span> <span class="comment">// åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨ &#x27; æ—¶ä¸å†éœ€è¦è½¬ä¹‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">var</span> lastWords = <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">    + <span class="string">&#x27;   I  \n&#x27;</span></span><br><span class="line">    + <span class="string">&#x27;   Am  \n&#x27;</span></span><br><span class="line">    + <span class="string">&#x27;Iron Man \n&#x27;</span></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">let</span> lastWords1 = <span class="string">`</span></span><br><span class="line"><span class="string">  I</span></span><br><span class="line"><span class="string">  Am</span></span><br><span class="line"><span class="string">  Iron Man   </span></span><br><span class="line"><span class="string">`</span> <span class="comment">// æ¢è¡Œä¸å†éœ€è¦ \n</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello &#x27;</span> + name + <span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">greet</span> = name =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Hello <span class="subst">$&#123;name&#125;</span> !`</span> <span class="comment">// å˜é‡æˆ–è¡¨è¾¾å¼ä¸å†éœ€è¦ç”¨ + æ‹¼æ¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="46-å¯¹è±¡è§£æ„æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#46-å¯¹è±¡è§£æ„æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="46. å¯¹è±¡è§£æ„æ˜¯ä»€ä¹ˆï¼Ÿ"></a>46. å¯¹è±¡è§£æ„æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>å¯¹è±¡è§£æ„ ä¸€ä¸ªæ˜¯ä»æ•°ç»„æˆ–å¯¹è±¡ä¸­æå–å˜é‡çš„æ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> employee = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;Marko&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;Polo&quot;</span>,</span><br><span class="line">  <span class="attr">position</span>: <span class="string">&quot;Software Developer&quot;</span>,</span><br><span class="line">  <span class="attr">yearHired</span>: <span class="number">2017</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> firstName = employee.<span class="property">firstName</span></span><br><span class="line"><span class="keyword">let</span> lastName = employee.<span class="property">lastName</span></span><br><span class="line"><span class="keyword">let</span> position = employee.<span class="property">position</span></span><br><span class="line"><span class="keyword">let</span> yearHired = employee.<span class="property">yearHired</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ç”¨è§£æ„èµ‹å€¼å¯ç®€å†™ä¸ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> employee = &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&quot;Marko&quot;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&quot;Polo&quot;</span>,</span><br><span class="line">    <span class="attr">position</span>: <span class="string">&quot;Software Developer&quot;</span>,</span><br><span class="line">    <span class="attr">yearHired</span>: <span class="number">2017</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> &#123;firstName, lastName, position, yearHired&#125; = employee</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(firstName, lastName, position, yearHired)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬æƒ³åœ¨è§£æ„èµ‹å€¼çš„åŒæ—¶ä¿®æ”¹å˜é‡åå¯ä»¥å†™ä¸º <code>propertyName:newName</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">    <span class="attr">firstName</span>: fName, </span><br><span class="line">  <span class="attr">lastName</span>: lName, </span><br><span class="line">  position, </span><br><span class="line">  yearHired</span><br><span class="line">&#125; = employee</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fName, lName, position, yearHired)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ç»“æ„æ—¶æ·»åŠ ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå¦‚æœå¯¹è±¡ä¸­å¯¹è±¡çš„å±æ€§å€¼ä¸º <code>undefined</code>ï¼Œåˆ™ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">    <span class="attr">firstName</span>: fName = <span class="string">&#x27;Mark&#x27;</span>, </span><br><span class="line">    <span class="attr">lastName</span>: lName, </span><br><span class="line">    position, </span><br><span class="line">    yearHired</span><br><span class="line">&#125; = employee</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fName, lName, position, yearHired)</span><br></pre></td></tr></table></figure>

<h2 id="47-ES6-çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#47-ES6-çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="47. ES6 çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ"></a>47. ES6 çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>æ¨¡å—å¯ä»¥è®©æˆ‘ä»¬æŠŠä»£ç æ‹†åˆ†ä¸ºå¤šä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œåœ¨éœ€è¦çš„åœ°æ–¹å¼•å…¥ï¼Œèƒ½å¤Ÿæé«˜å¯ç»´æŠ¤æ€§ã€‚åœ¨ ES6 çš„æ¨¡å—ç³»ç»Ÿå‡ºç°ä¹‹å‰å°±æœ‰ CommonJS çš„æ¨¡å—ç³»ç»Ÿã€‚</p>
<p>ES5 CommonJS ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// helper.js</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">isNull</span> = <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> val === <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">isUndefined</span> = <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> val === <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">isNullOrUndefined</span> = <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">exports</span>.<span class="title function_">isNull</span>(val) || <span class="built_in">exports</span>.<span class="title function_">isUndefined</span>(val)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; isNull, isUndefined, isNullOrUndefined &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./helpers.js&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>ES6 Module ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// helper.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">isNull</span>(<span class="params">val</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> val === <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">isUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> val === <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">isNullOrUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">isNull</span>(val) || <span class="title function_">isUndefined</span>(val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; isNull, isUndefined, isNullOrUndefined &#125; <span class="keyword">from</span> <span class="string">&#x27;./helpers.js&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨é»˜è®¤å¯¼å‡ºï¼ˆä¸€ä¸ªæ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºï¼‰ï¼š</p>
<p>ES5 CommonJS ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// helper.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Helpers</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isNull</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> val === <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> val === <span class="literal">undefined</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isNullOrUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">isNull</span>(val) || <span class="variable language_">this</span>.<span class="title function_">isUndefined</span>(val)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">Helpers</span></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Helpers</span> = <span class="built_in">require</span>(<span class="string">&#x27;./helpers.js&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Helpers</span>.<span class="title function_">isNull</span>(<span class="literal">null</span>));</span><br></pre></td></tr></table></figure>

<p>ES6 Module ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// helper.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Helpers</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isNull</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> val === <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> val === <span class="literal">undefined</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isNullOrUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">isNull</span>(val) || <span class="variable language_">this</span>.<span class="title function_">isUndefined</span>(val)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Helpers</span></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Helpers</span> <span class="keyword">from</span> <span class="string">&#x27;.helpers.js&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Helpers</span>.<span class="title function_">isNull</span>(<span class="literal">null</span>))</span><br></pre></td></tr></table></figure>

<h2 id="48-Set-æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#48-Set-æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="48. Set æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>48. <code>Set</code> æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>Set</code> å¯¹è±¡æ˜¯å€¼çš„é›†åˆï¼Œå®ƒå…è®¸ä½ å­˜å‚¨ä»»ä½•ç±»å‹çš„å”¯ä¸€å€¼ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼æˆ–è€…æ˜¯å¯¹è±¡å¼•ç”¨ï¼Œ<code>Set</code> <strong>ä¸­çš„å…ƒç´ æ˜¯å”¯ä¸€çš„</strong>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> set1 = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line"><span class="keyword">const</span> set2 = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>add</code> æ–¹æ³•åœ¨ <code>Set</code> å¯¹è±¡å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå·²ç»æœ‰çš„å…ƒç´ ä¸ä¼šè¢«é‡å¤æ·»åŠ ï¼Œ<code>add</code> æ–¹æ³•ä¼šè¿”å›è¿™ä¸ª <code>Set</code> å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é“¾å¼è°ƒç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line">s.<span class="title function_">add</span>(<span class="string">&#x27;a&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;b&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;c&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s) <span class="comment">// Set(3) &#123;&#x27;c&#x27;, &#x27;a&#x27;, &#x27;b&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>delete</code> æ–¹æ³•ä» <code>Set</code> ä¸­ç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ª <code>boolean</code> å€¼è¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line">s.<span class="title function_">delete</span>(<span class="string">&#x27;a&#x27;</span>) <span class="comment">// è¿”å› true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s) <span class="comment">// Set(2) &#123;&#x27;b&#x27;, &#x27;c&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">s.<span class="title function_">delete</span>(<span class="string">&#x27;a&#x27;</span>) <span class="comment">// è¿”å› falseï¼Œå› ä¸ºå…ƒç´  &#x27;a&#x27; å·²ç»ä¸å­˜åœ¨äº†</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>has</code> æ–¹æ³•æ£€æŸ¥ <code>Set</code> ä¸­æ˜¯å¦æœ‰æŸä¸ªå…ƒç´ ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="title function_">has</span>(<span class="string">&#x27;a&#x27;</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="title function_">has</span>(<span class="string">&#x27;z&#x27;</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="property">size</span>) <span class="comment">// 3  size å±æ€§è¿”å› Set å¯¹è±¡ä¸­çš„å€¼çš„ä¸ªæ•°</span></span><br><span class="line">s.<span class="title function_">clear</span>() <span class="comment">// clear æ–¹æ³•ç”¨æ¥æ¸…ç©º Set</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="property">size</span>) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>Set</code> ç»™æ•°ç»„å»é‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> newArr = [...<span class="keyword">new</span> <span class="title class_">Set</span>(arr)]</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newArr) <span class="comment">// [&#x27;a&#x27;, 1, &#x27;b&#x27;]</span></span><br></pre></td></tr></table></figure>

<h2 id="49-ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ"><a href="#49-ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ" class="headerlink" title="49. ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ"></a>49. ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ</h2><p>å›è°ƒå‡½æ•°æ˜¯ä½œä¸ºå®å‚ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œå°†åœ¨ç¨åçš„æŸä¸ªæ—¶é—´è°ƒç”¨çš„å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<h2 id="50-ä»€ä¹ˆæ˜¯-Promiseï¼Ÿ"><a href="#50-ä»€ä¹ˆæ˜¯-Promiseï¼Ÿ" class="headerlink" title="50. ä»€ä¹ˆæ˜¯ Promiseï¼Ÿ"></a>50. ä»€ä¹ˆæ˜¯ <code>Promise</code>ï¼Ÿ</h2><p><code>Promise</code> æ˜¯ JS ä¸­å¤„ç†å¼‚æ­¥çš„ä¸€ç§æ–¹å¼ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆï¼ˆæˆ–å¤±è´¥ï¼‰åŠå…¶ç»“æœã€‚åœ¨ <code>Promise</code> å‡ºç°ä¹‹å‰æˆ‘ä»¬åªèƒ½ä½¿ç”¨å›è°ƒå‡½æ•°æ¥å¤„ç†å¼‚æ­¥ä»£ç çš„é—®é¢˜ã€‚</p>
<p>ä¸€ä¸ª <code>Promise</code> å¿…ç„¶å¤„äºä¸€ä¸‹ä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼š</p>
<ul>
<li><em>å¾…å®šï¼ˆpendingï¼‰</em>ï¼šåˆå§‹çŠ¶æ€ï¼Œæ—¢æ²¡æœ‰è¢«å…‘ç°ï¼Œä¹Ÿæ²¡æœ‰è¢«æ‹’ç»ã€‚</li>
<li><em>å·²å…‘ç°ï¼ˆfulfilledï¼‰</em>ï¼šæ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚</li>
<li><em>å·²æ‹’ç»ï¼ˆrejectedï¼‰</em>ï¼šæ„å‘³ç€æ“ä½œå¤±è´¥ã€‚</li>
</ul>
<p><code>Promise</code> æ„é€ å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ <code>resolve</code> å’Œ <code>reject</code> å‡½æ•°ã€‚ä¸€èˆ¬å½“å¼‚æ­¥æ“ä½œå®Œæˆä¸”æ²¡æœ‰é”™è¯¯ï¼Œæˆ‘ä»¬è°ƒç”¨ <code>resolve</code> è¿”å›æ‰§è¡Œç»“æœï¼Œå¦‚æœå‘ç”Ÿé”™è¯¯æˆ‘ä»¬è°ƒç”¨ <code>reject</code> è¿”å›é”™è¯¯åŸå› ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>.then</code> æ–¹æ³•è·å–å¼‚æ­¥æ‰§è¡Œçš„ç»“æœï¼Œåœ¨ <code>.catch</code> æ–¹æ³•ä¸­æ•è·æ‰§è¡Œçš„é”™è¯¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">readFileSync</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./index.html&#x27;</span>, &#123;&#125;, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="title function_">reject</span>(err)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">resolve</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">readFileSync</span>()</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="51-async-await-æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#51-async-await-æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="51. async/await æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>51. async/await æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>async/await</code> æ˜¯åœ¨ JS ä¸­ç¼–å†™å¼‚æ­¥æˆ–éé˜»å¡ä»£ç çš„æ–¹æ³•ï¼Œå®ƒæ¯”ä½¿ç”¨ <code>Promise</code> æˆ–å›è°ƒå‡½æ•°æœ‰æ›´æ–¹ä¾¿å’Œæ¸…æ™°çš„è¯­æ³•ã€‚</p>
<p>ä½¿ç”¨ Promiseï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">callApi</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">&quot;url/to/api/endpoint&quot;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> resp.<span class="title function_">json</span>())</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ async/await</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">callApi</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> resp = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&quot;url/to/api/endpoint&quot;</span>)</span><br><span class="line">        <span class="keyword">const</span> data = <span class="keyword">await</span> resp.<span class="title function_">json</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¸¦æœ‰ async å…³é”®å­—çš„å‡½æ•°ä¼šéšå¼çš„è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œawait å…³é”®å­—åªèƒ½åœ¨ async å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p>
</blockquote>
<h2 id="52-Spread-syntaxå’ŒRest-parametersæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#52-Spread-syntaxå’ŒRest-parametersæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="52. Spread syntaxå’ŒRest parametersæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>52. Spread syntaxå’ŒRest parametersæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>å®ƒä»¬éƒ½ä½¿ç”¨ç›¸åŒçš„è¿ç®—ç¬¦ <code>...</code>ï¼Œ<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax">å±•å¼€è¯­æ³• (Spread syntax)</a>ï¼Œå¯ä»¥åœ¨å‡½æ•°è°ƒç”¨/æ•°ç»„æ„é€ æ—¶ï¼Œå°†æ•°ç»„è¡¨è¾¾å¼æˆ–è€… string åœ¨è¯­æ³•å±‚é¢å±•å¼€ï¼›è¿˜å¯ä»¥åœ¨æ„é€ å­—é¢é‡å¯¹è±¡æ—¶ï¼Œå°†å¯¹è±¡è¡¨è¾¾å¼æŒ‰ <code>key-value</code> çš„æ–¹å¼å±•å¼€ã€‚<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters">å‰©ä½™å‚æ•°ï¼ˆRest parametersï¼‰</a>è¯­æ³•å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªä¸å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nums = [<span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">const</span> sum = <span class="title function_">add</span>(...nums)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum) <span class="comment">// 11</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">...rest</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> rest.<span class="title function_">reduce</span>(<span class="function">(<span class="params">total, current</span>) =&gt;</span> total + current)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>)) <span class="comment">// logs 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)) <span class="comment">// logs 15</span></span><br><span class="line"><span class="keyword">const</span> [first, ...others] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(first) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(others) <span class="comment">// [2,3,4,5]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> parts = [<span class="string">&#x27;shoulders&#x27;</span>, <span class="string">&#x27;knees&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> lyrics = [<span class="string">&#x27;head&#x27;</span>, ...parts, <span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;toes&#x27;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(lyrics) <span class="comment">// [&#x27;head&#x27;, &#x27;shoulders&#x27;, &#x27;knees&#x27;, &#x27;and&#x27;, &#x27;toes&#x27;]</span></span><br></pre></td></tr></table></figure>

<h2 id="53-ä»€ä¹ˆæ˜¯é»˜è®¤å‚æ•°ï¼Ÿ"><a href="#53-ä»€ä¹ˆæ˜¯é»˜è®¤å‚æ•°ï¼Ÿ" class="headerlink" title="53. ä»€ä¹ˆæ˜¯é»˜è®¤å‚æ•°ï¼Ÿ"></a>53. ä»€ä¹ˆæ˜¯é»˜è®¤å‚æ•°ï¼Ÿ</h2><p>åœ¨ ES6 ä¸­å£°æ˜å‡½æ•°æ—¶å¯ä»¥ç»™å‚æ•°æ·»åŠ é»˜è®¤å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="comment">// function add(a, b) &#123;</span></span><br><span class="line"><span class="comment">//   a = a || 0</span></span><br><span class="line"><span class="comment">//   b = b || 0</span></span><br><span class="line"><span class="comment">//   return a + b</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a = <span class="number">0</span>, b = <span class="number">0</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºé»˜è®¤å‚æ•°ä½¿ç”¨è§£æ„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getFirst</span>(<span class="params">[first, ...rest] = [<span class="number">0</span>, <span class="number">1</span>]</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> first</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getFirst</span>() <span class="comment">// 0</span></span><br><span class="line"><span class="title function_">getFirst</span>([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]) <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getArr</span>(<span class="params">&#123; nums &#125; = &#123; nums: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>] &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getArr</span>() <span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line"><span class="title function_">getArr</span>(&#123; <span class="attr">nums</span>: [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>] &#125;) <span class="comment">// [5,4,3,2,1]</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è¿˜å¯ä»¥å°†å…ˆå®šä¹‰çš„å‚æ•°ç”¨äºåå®šä¹‰çš„å‚æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doSomethingWithValue</span>(<span class="params">value = <span class="string">&#x27;Hello World&#x27;</span>, callback = () =&gt; &#123; <span class="variable language_">console</span>.log(value) &#125;</span>) &#123;</span><br><span class="line">    <span class="title function_">callback</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">doSomethingWithValue</span>() <span class="comment">// &quot;Hello World&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="54-ä»€ä¹ˆæ˜¯åŒ…è£…å¯¹è±¡ï¼Ÿ"><a href="#54-ä»€ä¹ˆæ˜¯åŒ…è£…å¯¹è±¡ï¼Ÿ" class="headerlink" title="54. ä»€ä¹ˆæ˜¯åŒ…è£…å¯¹è±¡ï¼Ÿ"></a>54. ä»€ä¹ˆæ˜¯åŒ…è£…å¯¹è±¡ï¼Ÿ</h2><p>é™¤äº† <code>null</code> å’Œ <code>undefined</code>ï¼Œåƒ <code>string</code>ï¼Œ<code>number</code> å’Œ <code>boolean</code> ç­‰è¿™äº›åŸå§‹æ•°æ®ç±»å‹ï¼Œå®ƒä»¬è™½ç„¶ä¸æ˜¯ <code>object</code> ä½†ä¹Ÿéƒ½æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;marko&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> name) <span class="comment">//  &quot;string&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name.<span class="title function_">toUpperCase</span>()) <span class="comment">//  &quot;MARKO&quot;</span></span><br></pre></td></tr></table></figure>

<p>åŸå› æ˜¯å®ƒè¢«ä¸´æ—¶çš„è½¬ä¸ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œé™¤äº† <code>null</code> å’Œ <code>undefined</code> æ‰€æœ‰åŸå§‹ç±»å‹éƒ½æœ‰è‡ªå·±çš„åŒ…è£…å¯¹è±¡ï¼Œåˆ›å»ºçš„æ–°å¯¹è±¡åœ¨æˆ‘ä»¬å®Œæˆå±æ€§è®¿é—®æˆ–æ–¹æ³•è°ƒç”¨åä¼šè¢«ç«‹å³æ¸…é™¤ã€‚</p>
<p>å®ƒå®é™…å·¥ä½œæ—¶å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">String</span>(name).<span class="title function_">toUpperCase</span>())</span><br></pre></td></tr></table></figure>

<h2 id="55-éšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#55-éšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="55. éšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>55. éšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>éšå¼è½¬æ¢æ˜¯æŒ‡æ— éœ€æˆ‘ä»¬æ‰‹åŠ¨ç¼–ç ï¼Œåœ¨æ‰§è¡ŒæŸäº›æ“ä½œæ—¶å€¼è‡ªåŠ¨è½¬ä¸ºåˆ«çš„ç±»å‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> + <span class="string">&#x27;6&#x27;</span>) <span class="comment">// 16</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">false</span> + <span class="literal">true</span>) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">6</span> * <span class="string">&#x27;2&#x27;</span>) <span class="comment">// 12</span></span><br></pre></td></tr></table></figure>

<p>æ˜¾ç¤ºè½¬æ¢æ˜¯æŒ‡æˆ‘ä»¬æ‰‹åŠ¨å°†å€¼è½¬æ¢ä¸ºæˆ‘ä»¬æƒ³è¦çš„ç±»å‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> + <span class="title class_">Number</span>(<span class="string">&#x27;6&#x27;</span>)) <span class="comment">// 7</span></span><br></pre></td></tr></table></figure>

<h2 id="56-NaN-æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯-NaNï¼Ÿ"><a href="#56-NaN-æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯-NaNï¼Ÿ" class="headerlink" title="56. NaN æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯ NaNï¼Ÿ"></a>56. <code>NaN</code> æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯ <code>NaN</code>ï¼Ÿ</h2><p><code>NaN</code>ï¼ˆNot a Numberï¼‰è¡¨ç¤ºéæ•°å­—ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(&#123;&#125;)) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>

<p>JS æœ‰ä¸€ä¸ªå†…ç½®æ–¹æ³• <code>isNaN</code>ï¼Œç”¨äºåˆ¤æ–­å€¼æ˜¯å¦ä¸º <code>NaN</code>ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹æ³•æœ‰ä¸€äº›å¥‡æ€ªçš„è¡Œä¸ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>()) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="literal">undefined</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(&#123;&#125;)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="title class_">String</span>(<span class="string">&#x27;a&#x27;</span>))) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="function">() =&gt;</span> &#123;&#125;)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å³ä½¿ç»™å‡ºçš„å€¼ä¸æ˜¯ <code>NaN</code> ä¹Ÿä¼šè¿”å› <code>true</code>ï¼Œæ‰€ä»¥è¿™é‡Œå»ºè®®ä½¿ç”¨ <code>Number.isNaN</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="title class_">Number</span>.<span class="property">NaN</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>()) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="literal">undefined</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(&#123;&#125;)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="title class_">String</span>(<span class="string">&#x27;a&#x27;</span>))) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="function">() =&gt;</span> &#123;&#125;)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>å› ä¸ºåœ¨ JS ä¸­ <code>NaN</code> æ˜¯å”¯ä¸€ä¸€ä¸ªä¸ç­‰äºè‡ªèº«çš„å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•åˆ¤æ–­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">checkIfNaN</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> value !== value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="57-æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Ÿ"><a href="#57-æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Ÿ" class="headerlink" title="57. æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Ÿ"></a>57. æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Ÿ</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Array.isArray()</code> æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Œå®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼è¡¨ç¤ºç›®æ ‡å€¼æ˜¯å¦æ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(<span class="number">5</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(<span class="string">&#x27;&#x27;</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>()) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(<span class="literal">null</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(&#123; <span class="attr">length</span>: <span class="number">5</span> &#125;)) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>([])) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>) <span class="comment">// true  é²œä¸ºäººçŸ¥çš„äº‹ Array.prototype ä¹Ÿæ˜¯æ•°ç»„</span></span><br></pre></td></tr></table></figure>

<h2 id="58-æ€ä¹ˆä¸ä½¿ç”¨-åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦å¶æ•°ï¼Ÿ"><a href="#58-æ€ä¹ˆä¸ä½¿ç”¨-åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦å¶æ•°ï¼Ÿ" class="headerlink" title="58. æ€ä¹ˆä¸ä½¿ç”¨ % åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦å¶æ•°ï¼Ÿ"></a>58. æ€ä¹ˆä¸ä½¿ç”¨ <code>%</code> åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦å¶æ•°ï¼Ÿ</h2><p>å¯ä»¥ä½¿ç”¨<strong>æŒ‰ä½ä¸</strong>ï¼ˆ<code>&amp;</code>ï¼‰è¿ç®—ç¬¦ï¼Œå®ƒåœ¨ä¸¤ä¸ªæ“ä½œæ•°å¯¹åº”çš„äºŒè¿›ä½éƒ½ä¸º1æ—¶ï¼Œè¯¥ä½çš„ç»“æœæ‰ä¸º1ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">5</span> <span class="comment">// 00000000000000000000000000000101</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="number">4</span> <span class="comment">// 00000000000000000000000000000100</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="number">1</span> <span class="comment">// 00000000000000000000000000000011</span></span><br><span class="line"><span class="comment">// a &amp; c       00000000000000000000000000000001</span></span><br><span class="line"><span class="comment">// b &amp; c       00000000000000000000000000000000</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a &amp; c) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b &amp; c) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>&amp;</code> æ¥åˆ¤æ–­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isEven</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (num &amp; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">3</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">8</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">0</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¿™ä¸ªæ–¹æ³•éš¾ä»¥ç†è§£ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªé€’å½’å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isEven</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt; <span class="number">0</span> || num === <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">isEven</span>(num - <span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">3</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">8</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">0</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="59-å¦‚ä½•åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Ÿ"><a href="#59-å¦‚ä½•åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Ÿ" class="headerlink" title="59. å¦‚ä½•åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Ÿ"></a>59. å¦‚ä½•åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Ÿ</h2><ul>
<li><p>ä½¿ç”¨ <code>in</code> è¿ç®—ç¬¦ï¼Œè¯­æ³•ä¸º <code>propName in obj</code> å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">prop</span>: <span class="string">&#x27;bwahahah&#x27;</span>,</span><br><span class="line">    <span class="attr">prop2</span>: <span class="string">&#x27;hweasa&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;prop&#x27;</span> <span class="keyword">in</span> obj) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;prop1&#x27;</span> <span class="keyword">in</span> obj) <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨å¯¹è±¡çš„ <code>hasOwnProperty</code> æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;prop2&#x27;</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;prop1&#x27;</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨ <code>obj[propName]</code>ï¼Œå¦‚æœå¯¹è±¡ä¸­ä¸å­˜åœ¨è¯¥å±æ€§ä¼šè¿”å› <code>undefined</code>ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o[<span class="string">&#x27;prop&#x27;</span>]) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o[<span class="string">&#x27;prop1&#x27;</span>]) <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="60-Ajax-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#60-Ajax-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="60. Ajax æ˜¯ä»€ä¹ˆï¼Ÿ"></a>60. Ajax æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>Ajaxï¼ˆAsynchronous JavaScript and XMLï¼‰æ˜¯ä¸€ç»„ç”¨äºå¼‚æ­¥æ˜¾ç¤ºæ•°æ®çš„ç›¸å…³æŠ€æœ¯ï¼Œå½“ä½¿ç”¨ç»“åˆäº†è¿™äº›æŠ€æœ¯çš„ Ajax æ¨¡å‹ä»¥åï¼Œç½‘é¡µåº”ç”¨èƒ½å¤Ÿå¿«é€Ÿåœ°å°†å¢é‡æ›´æ–°å‘ˆç°åœ¨ç”¨æˆ·ç•Œé¢ä¸Šï¼Œè€Œä¸éœ€è¦é‡è½½ï¼ˆåˆ·æ–°ï¼‰æ•´ä¸ªé¡µé¢ã€‚</p>
<blockquote>
<p>å°½ç®¡ X åœ¨ Ajax ä¸­ä»£è¡¨ XMLï¼Œä½†ç”±äº JSON çš„è®¸å¤šä¼˜åŠ¿ï¼Œæ¯”å¦‚æ›´åŠ è½»é‡ä»¥åŠä½œä¸º Javascript çš„ä¸€éƒ¨åˆ†ï¼Œç›®å‰ JSON çš„ä½¿ç”¨æ¯” XML æ›´åŠ æ™®éã€‚</p>
</blockquote>
<h2 id="61-åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ"><a href="#61-åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ" class="headerlink" title="61. åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ"></a>61. åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ</h2><ul>
<li><p>ä½¿ç”¨å¯¹è±¡å­—é¢é‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Mark&#x27;</span>,</span><br><span class="line">    <span class="title function_">greeting</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`Hi, I&#x27;m <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">greeting</span>()) <span class="comment">// Hi, I&#x27;m Mark</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨æ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">greeting</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Hi, I&#x27;m <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mark = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Mark&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mark.<span class="title function_">greeting</span>()) <span class="comment">// Hi, I&#x27;m Mark</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨ <code>Object.create()</code> æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> n = &#123;</span><br><span class="line">    <span class="title function_">greeting</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`Hi, I&#x27;m <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o = <span class="title class_">Object</span>.<span class="title function_">create</span>(n)</span><br><span class="line"></span><br><span class="line">o.<span class="property">name</span> = <span class="string">&#x27;Mark&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">greeting</span>()) <span class="comment">// Hi, I&#x27;m Mark</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="62-Object-seal-å’Œ-Object-freeze-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#62-Object-seal-å’Œ-Object-freeze-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="62. Object.seal å’Œ Object.freeze æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>62. <code>Object.seal</code> å’Œ <code>Object.freeze</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul>
<li><strong><code>Object.seal()</code></strong> æ–¹æ³•å°é—­ä¸€ä¸ªå¯¹è±¡ï¼Œé˜»æ­¢æ·»åŠ æ–°å±æ€§å¹¶å°†æ‰€æœ‰ç°æœ‰å±æ€§æ ‡è®°ä¸ºä¸å¯é…ç½®ï¼Œå±æ€§å€¼å¦‚æœåŸæ¥æ˜¯å¯å†™çš„å°±å¯ä»¥æ”¹å˜ã€‚</li>
<li><strong><code>Object.freeze()</code></strong> æ–¹æ³•å†»ç»“ä¸€ä¸ªå¯¹è±¡ã€‚ä¸€ä¸ªè¢«å†»ç»“çš„å¯¹è±¡å†ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ï¼›å†»ç»“äº†ä¸€ä¸ªå¯¹è±¡åˆ™ä¸èƒ½å‘è¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ï¼Œä¸èƒ½åˆ é™¤å·²æœ‰å±æ€§ï¼Œä¸èƒ½ä¿®æ”¹è¯¥å¯¹è±¡å·²æœ‰å±æ€§çš„å¯æšä¸¾æ€§ã€å¯é…ç½®æ€§ã€å¯å†™æ€§ï¼Œä»¥åŠä¸èƒ½ä¿®æ”¹å·²æœ‰å±æ€§çš„å€¼ã€‚æ­¤å¤–ï¼Œå†»ç»“ä¸€ä¸ªå¯¹è±¡åè¯¥å¯¹è±¡çš„åŸå‹ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ã€‚</li>
</ul>
<h2 id="63-ä½¿ç”¨-in-è¿ç®—ç¬¦å’Œ-hasOwnProperty-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#63-ä½¿ç”¨-in-è¿ç®—ç¬¦å’Œ-hasOwnProperty-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="63. ä½¿ç”¨ in è¿ç®—ç¬¦å’Œ hasOwnProperty æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>63. ä½¿ç”¨ <code>in</code> è¿ç®—ç¬¦å’Œ <code>hasOwnProperty</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>å®ƒä»¬éƒ½èƒ½ç”¨æ¥éªŒè¯å¯¹è±¡æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äº <code>in</code> è¿ç®—ç¬¦ä¼šåœ¨å¯¹è±¡è‡ªèº«æ‰¾ä¸åˆ°å¯¹åº”å±æ€§æ—¶ç»§ç»­æŸ¥æ‰¾å®ƒçš„åŸå‹é“¾ï¼Œè€Œ  <code>hasOwnProperty</code> åªåœ¨å¯¹è±¡è‡ªèº«æŸ¥æ‰¾ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zxx&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> obj) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;toString&#x27;</span> <span class="keyword">in</span> obj) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;name&#x27;</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;toString&#x27;</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="64-JS-ä¸­å¤„ç†å¼‚æ­¥ä»£ç æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ"><a href="#64-JS-ä¸­å¤„ç†å¼‚æ­¥ä»£ç æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ" class="headerlink" title="64. JS ä¸­å¤„ç†å¼‚æ­¥ä»£ç æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ"></a>64. JS ä¸­å¤„ç†å¼‚æ­¥ä»£ç æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ</h2><ul>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%EF%BC%9F">å›è°ƒå‡½æ•°</a>ï¼›</li>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF-Promise%EF%BC%9F">Promise</a>ï¼›</li>
<li><a href="#async-await-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F">async / await</a>;</li>
</ul>
<h2 id="65-å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#65-å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="65. å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>65. å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>å…ˆçœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">hoistedFunc</span>() <span class="comment">// I am hoisted</span></span><br><span class="line"><span class="title function_">notHoistedFunc</span>() <span class="comment">// Uncaught TypeError: notHoistedFunc is not a function</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">hoistedFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;I am hoisted&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> notHoistedFunc = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;I will not be hoisted!&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡º å‡½æ•°å£°æ˜ ä¼šå°†æ•´ä¸ªå‡½æ•°æå‡ï¼Œè€Œå‡½æ•°è¡¨è¾¾å¼ç›¸å½“äºæŠŠå‡½æ•°èµ‹ç»™äº†ä¸€ä¸ªå˜é‡ï¼Œåªä¼šå¯¹<a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%EF%BC%9F">å˜é‡çš„å£°æ˜æå‡</a>ã€‚</p>
<h2 id="66-å‡½æ•°æœ‰å‡ ç§è°ƒç”¨çš„æ–¹å¼ï¼Ÿ"><a href="#66-å‡½æ•°æœ‰å‡ ç§è°ƒç”¨çš„æ–¹å¼ï¼Ÿ" class="headerlink" title="66. å‡½æ•°æœ‰å‡ ç§è°ƒç”¨çš„æ–¹å¼ï¼Ÿ"></a>66. å‡½æ•°æœ‰å‡ ç§è°ƒç”¨çš„æ–¹å¼ï¼Ÿ</h2><p>JS ä¸­æœ‰4ç§æ–¹æ³•å¯ä»¥è°ƒç”¨å‡½æ•°ï¼Œè°ƒç”¨æ–¹å¼å†³å®šäº†å‡½æ•° <code>this</code> æˆ–å‡½æ•°æ‰€æœ‰è€…å¯¹è±¡çš„å€¼ï¼›</p>
<ul>
<li><p>ä½œä¸ºå‡½æ•°è°ƒç”¨ - å¦‚æœå‡½æ•°ä¸æ˜¯ä½œä¸ºæ–¹æ³•ã€æ„é€ å‡½æ•°æˆ–ä½¿ç”¨ <code>apply</code>ï¼Œ<code>call</code> æ–¹æ³•è°ƒç”¨çš„ï¼Œé‚£ä¹ˆå®ƒå°†ä½œä¸ºå‡½æ•°è°ƒç”¨ã€‚æ­¤å‡½æ•°çš„æ‰€æœ‰è€…å¯¹è±¡å°†æ˜¯ <code>window</code> å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">add</span>(<span class="number">1</span>, <span class="number">5</span>) <span class="comment">// window  è¿”å› 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o = &#123;</span><br><span class="line">    <span class="title function_">method</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">        <span class="title function_">callback</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">o.<span class="title function_">method</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>ä½œä¸ºæ–¹æ³•çš„è°ƒç”¨ - å¦‚æœå¯¹è±¡çš„å±æ€§å…·æœ‰å‡½æ•°å€¼ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸ºæ–¹æ³•ã€‚å½“è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œè¯¥æ–¹æ³•çš„ <code>this</code> å€¼å°†æ˜¯è¯¥å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> details = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Marko&#x27;</span>,</span><br><span class="line">    <span class="title function_">getName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">details.<span class="title function_">getName</span>() <span class="comment">// Marko</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨ - å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨å®ƒä¹‹å‰ä½¿ç”¨ <code>new</code> å…³é”®å­—è°ƒç”¨ï¼Œé‚£ä¹ˆå®ƒè¢«ç§°ä¸ºå‡½æ•°æ„é€ å‡½æ•°ã€‚å°†åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œthis å°†æŒ‡å‘è¯¥å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Employee</span>(<span class="params">name, position, yearHired</span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ &#123;&#125;</span></span><br><span class="line">    <span class="comment">// æŠŠ this æŒ‡å‘è¿™ä¸ªç©ºå¯¹è±¡</span></span><br><span class="line">    <span class="comment">// this =&gt; &#123;&#125;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">position</span> = position</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">yearHired</span> = yearHired</span><br><span class="line">    <span class="comment">// ç»§æ‰¿è‡ª Employee.prototype</span></span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰æŒ‡å®šæ˜¾å¼çš„è¿”å›å€¼  åˆ™éšå¼è¿”å› this</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> emp = <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&#x27;Marko Polo&#x27;</span>, <span class="string">&#x27;Software Developer&#x27;</span>, <span class="number">2017</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨ <code>apply</code> æˆ– <code>call</code> æ–¹æ³•è°ƒç”¨ - å¦‚æœæˆ‘ä»¬æƒ³æ˜ç¡®æŒ‡å®šå‡½æ•°çš„ <code>this</code> å€¼æˆ–æ‰€æœ‰è€…å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•è°ƒç”¨å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">result</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">result</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reduceAdd</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = <span class="variable language_">arguments</span>.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        result += <span class="variable language_">arguments</span>[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">result</span> = result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">reduceAdd.<span class="title function_">apply</span>(obj1, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// reduceAdd æ‰§è¡Œæ—¶å‡½æ•°å†… this æŒ‡å‘ obj1 å¯¹è±¡</span></span><br><span class="line">reduceAdd.<span class="title function_">call</span>(obj2, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">// reduceAdd æ‰§è¡Œæ—¶å‡½æ•°å†… this æŒ‡å‘ obj2 å¯¹è±¡</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="67-ä»€ä¹ˆæ˜¯è®°å¿†åŒ–å‡½æ•°ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#67-ä»€ä¹ˆæ˜¯è®°å¿†åŒ–å‡½æ•°ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="67. ä»€ä¹ˆæ˜¯è®°å¿†åŒ–å‡½æ•°ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>67. ä»€ä¹ˆæ˜¯è®°å¿†åŒ–å‡½æ•°ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p>è®°å¿†åŒ–ï¼ˆmemoizationï¼‰æ˜¯æ„å»ºä¸€ä¸ªå‡½æ•°çš„è¿‡ç¨‹è¯¥å‡½æ•°èƒ½å¤Ÿè®°ä½å®ƒä¹‹å‰è®¡ç®—çš„ç»“æœæˆ–å€¼ã€‚ç”¨é€”æ˜¯å¦‚æœè¯¥å‡½æ•°å·²ç»åœ¨ä¸Šæ¬¡ä½¿ç”¨ç›¸åŒå‚æ•°çš„è®¡ç®—ä¸­æ‰§è¡Œè¿‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥é¿å…è¯¥å‡½æ•°çš„è®¡ç®—ã€‚è¿™èƒ½å¤ŸèŠ‚çœæ—¶é—´ï¼Œä½†ä¹Ÿä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜æ¥ä¿å­˜ä¹‹å‰æ‰§è¡Œçš„ç»“æœã€‚</p>
<h2 id="68-å®ç°ä¸€ä¸ªè®°å¿†åŒ–è¾…åŠ©å‡½æ•°ã€‚"><a href="#68-å®ç°ä¸€ä¸ªè®°å¿†åŒ–è¾…åŠ©å‡½æ•°ã€‚" class="headerlink" title="68. å®ç°ä¸€ä¸ªè®°å¿†åŒ–è¾…åŠ©å‡½æ•°ã€‚"></a>68. å®ç°ä¸€ä¸ªè®°å¿†åŒ–è¾…åŠ©å‡½æ•°ã€‚</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> slice = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">memoize</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> cache = &#123;&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> params = slice.<span class="title function_">call</span>(args)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(params)</span><br><span class="line">        <span class="keyword">if</span> (cache[params]) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;cached&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span> cache[params]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> result = <span class="title function_">fn</span>(...args)</span><br><span class="line">            cache[params] = result</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`not cached`</span>)</span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">makeFullName</span> = (<span class="params">fName, lName</span>) =&gt; <span class="string">`<span class="subst">$&#123;fName&#125;</span> <span class="subst">$&#123;lName&#125;</span>`</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">reduceAdd</span> = (<span class="params">numbers, startingValue = <span class="number">0</span></span>) =&gt;</span><br><span class="line">numbers.<span class="title function_">reduce</span>(<span class="function">(<span class="params">total, cur</span>) =&gt;</span> total + cur, startingValue)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> memoizedMakeFullName = <span class="title function_">memoize</span>(makeFullName)</span><br><span class="line"><span class="keyword">const</span> memoizedReduceAdd = <span class="title function_">memoize</span>(reduceAdd)</span><br><span class="line"></span><br><span class="line"><span class="title function_">memoizedMakeFullName</span>(<span class="string">&#x27;Marko&#x27;</span>, <span class="string">&#x27;Polo&#x27;</span>)</span><br><span class="line"><span class="title function_">memoizedMakeFullName</span>(<span class="string">&#x27;Marko&#x27;</span>, <span class="string">&#x27;Polo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="title function_">memoizedReduceAdd</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">5</span>)</span><br><span class="line"><span class="title function_">memoizedReduceAdd</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<h2 id="69-ä¸ºä»€ä¹ˆ-typeof-null-ä¼šè¿”å›-objectï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦-nullï¼Ÿ"><a href="#69-ä¸ºä»€ä¹ˆ-typeof-null-ä¼šè¿”å›-objectï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦-nullï¼Ÿ" class="headerlink" title="69. ä¸ºä»€ä¹ˆ typeof null ä¼šè¿”å› objectï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ nullï¼Ÿ"></a>69. ä¸ºä»€ä¹ˆ <code>typeof null</code> ä¼šè¿”å› <code>object</code>ï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ <code>null</code>ï¼Ÿ</h2><p>ç®€å•æ¥è¯´ï¼Œ<code>typeof null</code> çš„ç»“æœä¸º <code>Object</code> æ˜¯ JS è®¾è®¡ä¹‹åˆçš„ä¸€ä¸ª <code>bug</code>ã€‚åæ¥æè®®å°† <code>typeof null == &#39;object&#39;</code> æ›´æ”¹ä¸º <code>typeof null == &#39;null&#39;</code> ä½†è¢«æ‹’ç»äº†ï¼Œå› ä¸ºè¿™ä¼šç»™ç°æœ‰é¡¹ç›®å’Œè½¯ä»¶å¸¦æ¥æ›´å¤šé”™è¯¯ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>===</code> æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ <code>null</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isNull</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> value === <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="70-JS-ä¸­çš„-new-å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#70-JS-ä¸­çš„-new-å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="70. JS ä¸­çš„ new å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>70. JS ä¸­çš„ <code>new</code> å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>new</code> å…³é”®å­—ç”¨äºåˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Employee</span>(<span class="params">name, position, yearHired</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">position</span> = position</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">yearHired</span> = yearHired</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> emp = <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&#x27;Marko Polo&#x27;</span>, <span class="string">&#x27;Software Developer&#x27;</span>, <span class="number">2017</span>)</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ <code>new</code> å…³é”®å­—åšäº†å››ä»¶äº‹ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼ˆ<code>&#123;&#125;</code>ï¼‰ï¼›</li>
<li>ä¸ºåˆ›å»ºçš„ç©ºå¯¹è±¡æ·»åŠ å±æ€§ <code>__proto__</code>ï¼Œå°†è¯¥å±æ€§é“¾æ¥è‡³æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼›</li>
<li>å°†æ­¥éª¤1åˆ›å»ºçš„å¯¹è±¡ä½œä¸º <code>this</code> çš„ä¸Šä¸‹æ–‡ï¼›</li>
<li>å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰æŒ‡å®šè¿”å›å€¼ï¼Œåˆ™è¿”å› <code>this</code>ã€‚</li>
</ol>
<p>å½“ä»£ç  <code>new Employee()</code> æ‰§è¡Œæ—¶ï¼Œä¼šå‘ç”Ÿä¸€ä¸‹å‡ ä»¶äº‹ï¼š</p>
<ol>
<li>ä¸€ä¸ªç»§æ‰¿è‡ª <code>Employee.prototype</code> çš„æ–°å¯¹è±¡è¢«åˆ›å»ºã€‚</li>
<li>ä½¿ç”¨æŒ‡å®šçš„å‚æ•°è°ƒç”¨æ„é€ å‡½æ•° <code>Employee</code>ï¼Œå¹¶å°† <code>this</code> ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚<code>new Employee</code> ç­‰åŒäº <code>new Employee()</code>ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æŒ‡å®šå‚æ•°åˆ—è¡¨ï¼Œ<code>Employee</code> ä¸å¸¦ä»»ä½•å‚æ•°è°ƒç”¨çš„æƒ…å†µã€‚</li>
<li>ç”±æ„é€ å‡½æ•°è¿”å›çš„å¯¹è±¡å°±æ˜¯ <code>new</code> è¡¨è¾¾å¼çš„ç»“æœã€‚å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰æ˜¾å¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä½¿ç”¨æ­¥éª¤ 1 åˆ›å»ºçš„å¯¹è±¡ã€‚</li>
</ol>
<blockquote>
<p><strong>é“¾æ¥</strong> ğŸ”—<br><a target="_blank" rel="noopener" href="https://dev.to/macmacky/70-javascript-interview-questions-5gfi#56-what-is-nan-and-how-to-check-if-a-value-is-nan">70 JavaScript Interview Questions</a><br><a target="_blank" rel="noopener" href="https://developer.mozilla.org/">MDN</a><br><a target="_blank" rel="noopener" href="https://wangdoc.com/javascript/">Javascript æ•™ç¨‹ - ç½‘é“</a></p>
</blockquote>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JS/">JS</a><a class="post-meta__tags" href="/tags/web/">å‰ç«¯</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302161005641.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/906509ac/" title="å‰ç«¯å›¾ç‰‡æ‡’åŠ è½½å’Œé¢„åŠ è½½"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202303161422536.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">å‰ç«¯å›¾ç‰‡æ‡’åŠ è½½å’Œé¢„åŠ è½½</div></div></a></div><div class="next-post pull-right"><a href="/posts/dfe0e190/" title="git rebase ç”¨æ³•è¯¦è§£ä¸å·¥ä½œåŸç†(è½¬è½½)"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302101343488.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">git rebase ç”¨æ³•è¯¦è§£ä¸å·¥ä½œåŸç†(è½¬è½½)</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-undefined-%E5%92%8C-null-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">1. undefined å’Œ null æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-amp-amp-%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F"><span class="toc-text">2. &amp;&amp; è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F"><span class="toc-text">3. || è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%94%A8%E4%B8%80%E5%85%83%E5%8A%A0%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88-%EF%BC%89%E6%98%AF%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%95%B0%E5%AD%97%E7%9A%84%E6%9C%80%E5%BF%AB%E6%96%B9%E6%B3%95%E5%90%97%EF%BC%9F"><span class="toc-text">4. ç”¨ä¸€å…ƒåŠ è¿ç®—ç¬¦ï¼ˆ+ï¼‰æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æœ€å¿«æ–¹æ³•å—ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%BB%80%E4%B9%88%E6%98%AF-DOM%EF%BC%9F"><span class="toc-text">5. ä»€ä¹ˆæ˜¯ DOMï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD%EF%BC%9F"><span class="toc-text">6. ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%EF%BC%9F"><span class="toc-text">7. ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7%EF%BC%9F"><span class="toc-text">8. ä»€ä¹ˆæ˜¯äº‹ä»¶æ•è·ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-event-preventDefault-%E5%92%8C-event-stopPropagation-%E6%96%B9%E6%B3%95%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">9. event.preventDefault() å’Œ event.stopPropagation() æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E7%9A%84%E4%BA%8B%E4%BB%B6%E4%B8%AD%E6%98%AF%E5%90%A6%E4%BD%BF%E7%94%A8%E4%BA%86-event-prevenDefault-%E6%96%B9%E6%B3%95%EF%BC%9F"><span class="toc-text">10. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶ä¸­æ˜¯å¦ä½¿ç”¨äº† event.prevenDefault() æ–¹æ³•ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%E4%B8%AD-obj-someProp-x-%E4%BC%9A%E6%8A%A5%E9%94%99%EF%BC%9F"><span class="toc-text">11. ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸­ obj.someProp.x ä¼šæŠ¥é”™ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-event-target-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">12. event.target æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-event-currentTarget-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">13. event.currentTarget æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E5%92%8C-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">14. &#x3D;&#x3D; å’Œ &#x3D;&#x3D;&#x3D; æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E7%9B%B8%E4%BC%BC%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%97%B6%E4%BC%9A%E8%BF%94%E5%9B%9E-false%EF%BC%9F"><span class="toc-text">15. ä¸ºä»€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªç›¸ä¼¼çš„å¯¹è±¡æ—¶ä¼šè¿”å› falseï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">16. !! æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-%E5%A6%82%E4%BD%95%E8%AE%A1%E7%AE%97%E4%B8%80%E8%A1%8C%E4%B8%AD%E7%9A%84%E5%A4%9A%E4%B8%AA%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%9F"><span class="toc-text">17. å¦‚ä½•è®¡ç®—ä¸€è¡Œä¸­çš„å¤šä¸ªè¡¨è¾¾å¼ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%EF%BC%9F"><span class="toc-text">18. ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%9F"><span class="toc-text">19. ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20-%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85%EF%BC%9F"><span class="toc-text">20. ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21-JS-%E4%B8%AD%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B%E2%80%9D%E5%81%87%E5%80%BC%E2%80%9D%EF%BC%9F"><span class="toc-text">21. JS ä¸­éƒ½æœ‰å“ªäº›â€å‡å€¼â€ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%80%BC%E6%98%AF%E2%80%9D%E5%81%87%E5%80%BC%E2%80%9D%EF%BC%9F"><span class="toc-text">22. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯â€å‡å€¼â€ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#23-use-strict-%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">23. use strict æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24-JS-%E4%B8%AD%E7%9A%84-this-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">24. JS ä¸­çš„ this æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#25-JS-%E4%B8%AD%E5%AF%B9%E8%B1%A1%E7%9A%84-prototype-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">25. JS ä¸­å¯¹è±¡çš„ prototype æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#26-%E4%BB%80%E4%B9%88%E6%98%AF%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0%EF%BC%88IIFE%EF%BC%89%EF%BC%8C%E5%AE%83%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">26. ä»€ä¹ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#27-Function-prototype-call-%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">27. Function.prototype.call æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-Function-prototype-apply-%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">28. Function.prototype.apply æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-Function-prototype-call-%E5%92%8C-Function-prototype-apply-%E6%96%B9%E6%B3%95%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">29. Function.prototype.call å’Œ Function.prototype.apply æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#30-Function-prototype-bind-%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">30. Function.prototype.bind æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#31-%E4%BB%80%E4%B9%88%E6%98%AF%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%EF%BC%9FJS-%E7%9A%84%E5%93%AA%E4%BA%9B%E7%89%B9%E6%80%A7%E8%AE%A9%E5%85%B6%E6%88%90%E4%B8%BA%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%9A%84%E9%A6%96%E9%80%89%EF%BC%9F"><span class="toc-text">31. ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ŸJS çš„å“ªäº›ç‰¹æ€§è®©å…¶æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹çš„é¦–é€‰ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#32-%E4%BB%80%E4%B9%88%E6%98%AF%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%EF%BC%9F"><span class="toc-text">32. ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#33-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%87%BD%E6%95%B0%E7%A7%B0%E4%B8%BA%E4%B8%80%E7%AD%89%E5%AF%B9%E8%B1%A1%EF%BC%9F"><span class="toc-text">33. ä¸ºä»€ä¹ˆå‡½æ•°ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#34-%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0-Array-prototype-map-%E6%96%B9%E6%B3%95%E3%80%82"><span class="toc-text">34. æ‰‹åŠ¨å®ç° Array.prototype.map æ–¹æ³•ã€‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#35-%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0-Array-prototype-filter-%E6%96%B9%E6%B3%95%E3%80%82"><span class="toc-text">35. æ‰‹åŠ¨å®ç° Array.prototype.filter æ–¹æ³•ã€‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#36-%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0-Array-prototype-reduce-%E6%96%B9%E6%B3%95%E3%80%82"><span class="toc-text">36. æ‰‹åŠ¨å®ç° Array.prototype.reduce æ–¹æ³•ã€‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#37-arguments-%E5%AF%B9%E8%B1%A1%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">37. arguments å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#38-%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%B2%A1%E6%9C%89%E5%8E%9F%E5%9E%8B%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%9F"><span class="toc-text">38. å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#39-%E5%9C%A8%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%E4%B8%AD%EF%BC%8C%E5%BD%93%E4%BD%A0%E8%B0%83%E7%94%A8-fn-%E6%97%B6%E4%B8%BA%E4%BB%80%E4%B9%88-b-%E5%8F%98%E6%88%90%E4%BA%86%E4%B8%80%E4%B8%AA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%EF%BC%9F"><span class="toc-text">39. åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå½“ä½ è°ƒç”¨ fn æ—¶ä¸ºä»€ä¹ˆ b å˜æˆäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#40-ECMAScript-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">40. ECMAScript æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#41-ES6-%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B0%E7%89%B9%E6%80%A7%EF%BC%9F"><span class="toc-text">41. ES6 æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-let-const-var-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">42. let, const, var å…³é”®å­—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-%E4%BB%80%E4%B9%88%E6%98%AF%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%EF%BC%9F"><span class="toc-text">43. ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#44-ES6-%E7%9A%84-class-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">44. ES6 çš„ class å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#45-%E4%BB%80%E4%B9%88%E6%98%AF%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%9F"><span class="toc-text">45. ä»€ä¹ˆæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#46-%E5%AF%B9%E8%B1%A1%E8%A7%A3%E6%9E%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">46. å¯¹è±¡è§£æ„æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#47-ES6-%E7%9A%84%E6%A8%A1%E5%9D%97%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">47. ES6 çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#48-Set-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%AE%83%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">48. Set æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#49-%E4%BB%80%E4%B9%88%E6%98%AF%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%EF%BC%9F"><span class="toc-text">49. ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#50-%E4%BB%80%E4%B9%88%E6%98%AF-Promise%EF%BC%9F"><span class="toc-text">50. ä»€ä¹ˆæ˜¯ Promiseï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#51-async-await-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">51. async&#x2F;await æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#52-Spread-syntax%E5%92%8CRest-parameters%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">52. Spread syntaxå’ŒRest parametersæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#53-%E4%BB%80%E4%B9%88%E6%98%AF%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%EF%BC%9F"><span class="toc-text">53. ä»€ä¹ˆæ˜¯é»˜è®¤å‚æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#54-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8C%85%E8%A3%85%E5%AF%B9%E8%B1%A1%EF%BC%9F"><span class="toc-text">54. ä»€ä¹ˆæ˜¯åŒ…è£…å¯¹è±¡ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#55-%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2%E5%92%8C%E6%98%BE%E5%BC%8F%E8%BD%AC%E6%8D%A2%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">55. éšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#56-NaN-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E6%80%8E%E4%B9%88%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%80%BC%E6%98%AF%E4%B8%8D%E6%98%AF-NaN%EF%BC%9F"><span class="toc-text">56. NaN æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯ NaNï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#57-%E6%80%8E%E4%B9%88%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%80%BC%E6%98%AF%E4%B8%8D%E6%98%AF%E6%95%B0%E7%BB%84%EF%BC%9F"><span class="toc-text">57. æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#58-%E6%80%8E%E4%B9%88%E4%B8%8D%E4%BD%BF%E7%94%A8-%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E6%95%B0%E5%80%BC%E6%98%AF%E5%90%A6%E5%81%B6%E6%95%B0%EF%BC%9F"><span class="toc-text">58. æ€ä¹ˆä¸ä½¿ç”¨ % åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦å¶æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#59-%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E5%AF%B9%E8%B1%A1%E4%B8%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E6%9F%90%E4%B8%AA%E5%B1%9E%E6%80%A7%EF%BC%9F"><span class="toc-text">59. å¦‚ä½•åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#60-Ajax-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">60. Ajax æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#61-%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%9F"><span class="toc-text">61. åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#62-Object-seal-%E5%92%8C-Object-freeze-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">62. Object.seal å’Œ Object.freeze æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#63-%E4%BD%BF%E7%94%A8-in-%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C-hasOwnProperty-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">63. ä½¿ç”¨ in è¿ç®—ç¬¦å’Œ hasOwnProperty æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#64-JS-%E4%B8%AD%E5%A4%84%E7%90%86%E5%BC%82%E6%AD%A5%E4%BB%A3%E7%A0%81%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B9%E6%B3%95%EF%BC%9F"><span class="toc-text">64. JS ä¸­å¤„ç†å¼‚æ­¥ä»£ç æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#65-%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-text">65. å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#66-%E5%87%BD%E6%95%B0%E6%9C%89%E5%87%A0%E7%A7%8D%E8%B0%83%E7%94%A8%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%9F"><span class="toc-text">66. å‡½æ•°æœ‰å‡ ç§è°ƒç”¨çš„æ–¹å¼ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#67-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%B0%E5%BF%86%E5%8C%96%E5%87%BD%E6%95%B0%EF%BC%9F%E5%AE%83%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">67. ä»€ä¹ˆæ˜¯è®°å¿†åŒ–å‡½æ•°ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#68-%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E8%AE%B0%E5%BF%86%E5%8C%96%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0%E3%80%82"><span class="toc-text">68. å®ç°ä¸€ä¸ªè®°å¿†åŒ–è¾…åŠ©å‡½æ•°ã€‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#69-%E4%B8%BA%E4%BB%80%E4%B9%88-typeof-null-%E4%BC%9A%E8%BF%94%E5%9B%9E-object%EF%BC%9F%E6%80%8E%E4%B9%88%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%80%BC%E6%98%AF%E5%90%A6-null%EF%BC%9F"><span class="toc-text">69. ä¸ºä»€ä¹ˆ typeof null ä¼šè¿”å› objectï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ nullï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#70-JS-%E4%B8%AD%E7%9A%84-new-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">70. JS ä¸­çš„ new å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('/img/index.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2023 By zxyong</div><div class="footer_custom_text">Hi, welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadGiscus () {
  let nowTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'

  const config = Object.assign({
    src: 'https://giscus.app/client.js',
    'data-repo': 'zxyongyo/zxyongyo.github.io',
    'data-repo-id': 'R_kgDOH8C_6g',
    'data-category-id': 'DIC_kwDOH8C_6s4CUF2l',
    'data-mapping': 'pathname',
    'data-theme': nowTheme,
    'data-reactions-enabled': '1',
    crossorigin: 'anonymous',
    async: true
  },{"data-category":"General","data-mapping":"title","data-reactions-enabled":1,"data-input-position":"top","data-strict":0,"data-emit-metadata":0,"data-lang":"zh-CN","data-loading":"lazy","crossorigin":"anonymous","async":true})

  let ele = document.createElement('script')
  for (let key in config) {
    ele.setAttribute(key, config[key])
  }
  document.getElementById('giscus-wrap').insertAdjacentElement('afterbegin',ele)
}

function changeGiscusTheme () {
  const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'

  function sendMessage(message) {
    const iframe = document.querySelector('iframe.giscus-frame');
    if (!iframe) return;
    iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
  }

  sendMessage({
    setConfig: {
      theme: theme
    }
  });
}

if ('Giscus' === 'Giscus' || !false) {
  if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
  else loadGiscus()
} else {
  function loadOtherComment () {
    loadGiscus()
  }
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"left","width":150,"height":300,"hOffset":10,"vOffset":-50},"mobile":{"show":false},"log":false,"tagMode":false});</script></body></html>