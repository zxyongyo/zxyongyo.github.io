<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>70é“JavaScriptå¸¸è§é¢è¯•é¢˜</title>
      <link href="/posts/2944b23d/"/>
      <url>/posts/2944b23d/</url>
      
        <content type="html"><![CDATA[<h2 id="1-undefined-å’Œ-null-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#1-undefined-å’Œ-null-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="1. undefined å’Œ null æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>1. <code>undefined</code> å’Œ <code>null</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>åœ¨äº†è§£ <code>undefined</code> å’Œ <code>null</code>  çš„åŒºåˆ«å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä»–ä»¬çš„ç›¸ä¼¼ä¹‹å¤„ï¼š</p><ul><li><p>å®ƒä»¬åŒå±äº JavaScript çš„ <strong>7ç§</strong> <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Primitive">åŸå§‹æ•°æ®ç±»å‹</a>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> primitiveTypes = [<span class="string">&#x27;string&#x27;</span>, <span class="string">&#x27;number&#x27;</span>, <span class="string">&#x27;bigint&#x27;</span>, <span class="string">&#x27;symbol&#x27;</span>, <span class="string">&#x27;null&#x27;</span>, <span class="string">&#x27;undefined&#x27;</span>, <span class="string">&#x27;boolean&#x27;</span>];</span><br></pre></td></tr></table></figure></li><li><p>åœ¨å¯¹å®ƒä»¬ä½¿ç”¨ <code>Boolean(value)</code> æˆ– <code>!!value</code> è½¬ä¸ºå¸ƒå°”å€¼æ—¶ï¼Œéƒ½ä¼šè¢«è½¬ä¸º <code>false</code>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="literal">null</span>); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="literal">undefined</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="literal">null</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="literal">undefined</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li></ul><p>ç„¶åæ¥çœ‹å®ƒä»¬çš„ä¸åŒä¹‹å¤„ï¼š</p><ul><li><p><code>undefined</code> æ˜¯æœªåˆ†é…å€¼çš„å˜é‡çš„é»˜è®¤å€¼ï¼Œæˆ–æ˜¯ä¸€ä¸ªæ²¡æœ‰æ˜¾å¼è¿”å›å€¼çš„å‡½æ•°çš„è¿”å›å€¼ï¼Œåˆæˆ–æ˜¯ä¸€ä¸ªå¯¹è±¡ä¸­ä¸å­˜åœ¨çš„å±æ€§çš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> _thisIsUndefined;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">doNothing</span> = (<span class="params"></span>) =&gt; &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    a : <span class="string">&quot;ay&quot;</span>,</span><br><span class="line">    b : <span class="string">&quot;bee&quot;</span>,</span><br><span class="line">    c : <span class="string">&quot;si&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(_thisIsUndefined); <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">doNothing</span>()); <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="string">&quot;d&quot;</span>]); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li><li><p><code>null</code> è¡¨ç¤ºä¸€ä¸ªä¸å­˜åœ¨çš„å€¼æˆ–æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡çš„å¼•ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">null</span>) <span class="comment">// object</span></span><br></pre></td></tr></table></figure></li></ul><p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>==</code> æ¯”è¾ƒ <code>undefined</code> å’Œ <code>null</code> æ—¶ä¼šå¾—åˆ° <code>true</code>ï¼Œå½“ä½¿ç”¨ <code>===</code> æ¯”è¾ƒæ—¶ä¼šå¾—åˆ° <code>false</code>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">undefined</span> ==  <span class="literal">null</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">undefined</span> === <span class="literal">null</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="2-amp-amp-è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ"><a href="#2-amp-amp-è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ" class="headerlink" title="2. &amp;&amp; è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ"></a>2. <code>&amp;&amp;</code> è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ</h2><p><code>&amp;&amp;</code> (é€»è¾‘ä¸) è¿ç®—ç¬¦å½“ä¸”ä»…å½“æ‰€æœ‰è¡¨è¾¾å¼éƒ½ä¸º <code>true</code> æ—¶è¿”å› <code>true</code> å¦åˆ™è¿”å› <code>false</code>ï¼›</p><p>å½“æ“ä½œå¯¹è±¡ä¸æ˜¯å¸ƒå°”å€¼æ—¶ï¼Œå®ƒä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸º <strong>å‡</strong> çš„æ“ä½œå¯¹è±¡å¹¶è¿”å›å®ƒï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ä»»ä½•ä¸ºå‡çš„æ“ä½œå¯¹è±¡ï¼Œ<strong>åˆ™è¿”å›æœ€åä¸€ä¸ª</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">false</span> &amp;&amp; <span class="number">1</span> &amp;&amp; []); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;abc&quot;</span> &amp;&amp; <span class="literal">true</span> &amp;&amp; <span class="number">1</span>); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h2 id="3-è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ"><a href="#3-è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ" class="headerlink" title="3. || è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ"></a>3. <code>||</code> è¿ç®—ç¬¦çš„ä½œç”¨ï¼Ÿ</h2><p><code>||</code>(é€»è¾‘æˆ–)è¿ç®—ç¬¦å½“ä¸”ä»…å½“æ‰€æœ‰è¡¨è¾¾å¼éƒ½ä¸º <code>false</code> æ—¶è¿”å› <code>false</code> å¦åˆ™è¿”å› <code>true</code>ï¼›</p><p>å½“æ“ä½œå¯¹è±¡ä¸æ˜¯å¸ƒå°”å€¼æ—¶ï¼Œå®ƒä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸º <strong>çœŸ</strong> çš„æ“ä½œå¯¹è±¡å¹¶è¿”å›å®ƒï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ä»»ä½•ä¸ºçœŸçš„æ“ä½œå¯¹è±¡ï¼Œ<strong>åˆ™è¿”å›æœ€åä¸€ä¸ª</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">true</span> || <span class="number">1</span> || <span class="string">&quot;abc&quot;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">false</span> || <span class="string">&quot;&quot;</span> || <span class="number">1</span>); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h2 id="4-ç”¨ä¸€å…ƒåŠ è¿ç®—ç¬¦ï¼ˆ-ï¼‰æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æœ€å¿«æ–¹æ³•å—ï¼Ÿ"><a href="#4-ç”¨ä¸€å…ƒåŠ è¿ç®—ç¬¦ï¼ˆ-ï¼‰æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æœ€å¿«æ–¹æ³•å—ï¼Ÿ" class="headerlink" title="4. ç”¨ä¸€å…ƒåŠ è¿ç®—ç¬¦ï¼ˆ+ï¼‰æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æœ€å¿«æ–¹æ³•å—ï¼Ÿ"></a>4. ç”¨ä¸€å…ƒåŠ è¿ç®—ç¬¦ï¼ˆ+ï¼‰æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æœ€å¿«æ–¹æ³•å—ï¼Ÿ</h2><p>æ˜¯çš„ï¼Œæ ¹æ® <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Unary_plus">MDNæè¿° </a>ï¼Œ<strong>ä¸€å…ƒåŠ ï¼ˆ+ï¼‰</strong> è¿ç®—ç¬¦ä¼šåœ¨æ“ä½œå€¼ä¹‹å‰å°è¯•å°†å®ƒè½¬ä¸ºæ•°å­—ï¼Œå¦‚æœç›®æ ‡å·²ç»æ˜¯æ•°å­—å°±ä»€ä¹ˆä¹Ÿä¸åšã€‚</p><h2 id="5-ä»€ä¹ˆæ˜¯-DOMï¼Ÿ"><a href="#5-ä»€ä¹ˆæ˜¯-DOMï¼Ÿ" class="headerlink" title="5. ä»€ä¹ˆæ˜¯ DOMï¼Ÿ"></a>5. ä»€ä¹ˆæ˜¯ DOMï¼Ÿ</h2><p><strong>DOM</strong> ä»£è¡¨ <strong>æ–‡æ¡£å¯¹è±¡æ¨¡å‹</strong>ï¼ˆDocument Object Modelï¼‰ï¼Œæ˜¯ç”¨æ¥å‘ˆç°ä»¥åŠä¸ä»»ä½• HTML å’Œ XML æ–‡æ¡£äº¤äº’çš„ APIã€‚</p><p>å½“æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯»å–ï¼ˆè§£æï¼‰HTML æ—¶ï¼Œä¼šåŸºäºæˆ‘ä»¬çš„ HTMLæ–‡æ¡£ åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå°±æ˜¯ DOMï¼Œå®ƒæ˜¯è½½å…¥åˆ°æµè§ˆå™¨ä¸­çš„æ–‡æ¡£æ¨¡å‹ï¼Œä»¥èŠ‚ç‚¹æ ‘çš„å½¢å¼æ¥è¡¨ç°æ–‡æ¡£ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨æ–‡æ¡£çš„æ„æˆéƒ¨åˆ†ï¼ˆå¦‚ï¼šé¡µé¢å…ƒç´ ã€å­—ç¬¦ä¸²ã€æˆ–æ³¨é‡Šç­‰ï¼‰ã€‚</p><p>å‡å¦‚æœ‰ä»¥ä¸‹ HTMLï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document Object Model<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç­‰åŒçš„ DOM åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302171032104.png" alt="DOM tree"></p><p><code>JavaScript</code> ä¸­çš„ <code>document</code> å¯¹è±¡ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ¥å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•æ¥å®Œæˆé€‰ä¸­DOMå…ƒç´ æˆ–æ›´æ–°å…ƒç´ çš„å†…å®¹ç­‰æ“ä½œã€‚</p><h2 id="6-ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­ï¼Ÿ"><a href="#6-ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­ï¼Ÿ" class="headerlink" title="6. ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­ï¼Ÿ"></a>6. ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­ï¼Ÿ</h2><p>å½“äº‹ä»¶åœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šè§¦å‘æ—¶ï¼Œè¿™ä¸ªäº‹ä»¶å¹¶ä¸åªåœ¨å½“å‰å…ƒç´ ä¸Šè§¦å‘ã€‚</p><p>å½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘åä¼šç»å†<strong>ä¸‰ä¸ªé˜¶æ®µ</strong>ï¼š</p><ul><li><strong>æ•è·é˜¶æ®µ</strong>ï¼šäº‹ä»¶å¯¹è±¡ä» <code>window</code> å¼€å§‹ä¾æ¬¡å‘ä¸‹ä¼ é€’ï¼Œç›´åˆ°ç›®æ ‡çš„çˆ¶çº§å…ƒç´ ï¼Œä»å¤–å‘å†…æ•è·äº‹ä»¶å¯¹è±¡ï¼›</li><li><strong>ç›®æ ‡é˜¶æ®µ</strong>ï¼šåˆ°è¾¾ç›®æ ‡äº‹ä»¶ä½ç½®ï¼Œè§¦å‘äº‹ä»¶ï¼›</li><li><strong>å†’æ³¡é˜¶æ®µ</strong>ï¼šä»ç›®æ ‡çš„çˆ¶çº§å¼€å§‹ä¾æ¬¡å‘ä¸Šä¼ é€’ï¼Œç›´åˆ° <code>window</code> åœæ­¢ï¼Œä»å†…å‘å¤–å†’æ³¡äº‹ä»¶å¯¹è±¡ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210428110115.jpg" alt="Event flow"></p><blockquote><p><strong>è¯¦ç»†è¯·æŸ¥çœ‹ <a href="/posts/81781fa3/">å½»åº•å¼„æ‡‚ js ä¸­äº‹ä»¶å†’æ³¡å’Œæ•è·ğŸˆ</a></strong></p></blockquote><h2 id="7-ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡ï¼Ÿ"><a href="#7-ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡ï¼Ÿ" class="headerlink" title="7. ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡ï¼Ÿ"></a>7. ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡ï¼Ÿ</h2><p>å½“äº‹ä»¶åœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šè§¦å‘æ—¶ï¼Œè¿™ä¸ªäº‹ä»¶å¹¶ä¸åªåœ¨å½“å‰å…ƒç´ ä¸Šè§¦å‘ã€‚</p><p>åœ¨å†’æ³¡é˜¶æ®µäº‹ä»¶ä¼šä»ç›®æ ‡çš„çˆ¶çº§ä¾æ¬¡å‘ä¸Šä¼ é€’ç›´åˆ° <code>window</code> ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšäº‹ä»¶å†’æ³¡ã€‚</p><p>å¦‚æœæœ‰è¿™æ ·çš„ HTML ç‰‡æ®µï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grandparent&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>js ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addEvent</span>(<span class="params">el, event, callback, isCapture = <span class="literal">false</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!el || !event || !callback || <span class="keyword">typeof</span> callback !== <span class="string">&#x27;function&#x27;</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> el === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(el);</span><br><span class="line">  &#125;;</span><br><span class="line">  el.<span class="title function_">addEventListener</span>(event, callback, isCapture);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addEvent</span>(<span class="variable language_">document</span>, <span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> child = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.child&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> parent = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.parent&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> grandparent = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.grandparent&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(child, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;child&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(parent, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;parent&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(grandparent, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;grandparent&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="variable language_">document</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;document&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;html&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="variable language_">window</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;window&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>addEventListener</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•° <code>useCapture</code> é»˜è®¤ä¸º <code>false</code>ï¼Œè¡¨ç¤ºäº‹ä»¶å°†åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œã€‚</p><p>å¦‚æœæˆ‘ä»¬ç‚¹å‡» <code>class</code> ä¸º <code>child</code> çš„å…ƒç´ ï¼Œæ§åˆ¶å°å°†ä¾æ¬¡æ‰“å° <code>child</code>ã€<code>parent</code>ã€<code>grandparent</code>ã€ <code>html</code>ã€<code>document</code> å’Œ <code>window</code>ï¼Œè¿™å°±æ˜¯äº‹ä»¶å†’æ³¡ã€‚</p><h2 id="8-ä»€ä¹ˆæ˜¯äº‹ä»¶æ•è·ï¼Ÿ"><a href="#8-ä»€ä¹ˆæ˜¯äº‹ä»¶æ•è·ï¼Ÿ" class="headerlink" title="8. ä»€ä¹ˆæ˜¯äº‹ä»¶æ•è·ï¼Ÿ"></a>8. ä»€ä¹ˆæ˜¯äº‹ä»¶æ•è·ï¼Ÿ</h2><p>å½“äº‹ä»¶åœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šè§¦å‘æ—¶ï¼Œè¿™ä¸ªäº‹ä»¶å¹¶ä¸åªåœ¨å½“å‰å…ƒç´ ä¸Šè§¦å‘ã€‚</p><p>åœ¨æ•è·é˜¶æ®µäº‹ä»¶ä¼šä» <code>window</code>  ä¾æ¬¡å‘ä¸‹ä¼ é€’ï¼Œç›´åˆ°ç›®æ ‡çš„çˆ¶å…ƒç´ ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšäº‹ä»¶æ•è·ã€‚</p><p>å¦‚æœæœ‰è¿™æ ·çš„ HTML ç‰‡æ®µï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grandparent&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>js ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addEvent</span>(<span class="params">el, event, callback, isCapture = <span class="literal">false</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!el || !event || !callback || <span class="keyword">typeof</span> callback !== <span class="string">&#x27;function&#x27;</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> el === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(el);</span><br><span class="line">  &#125;;</span><br><span class="line">  el.<span class="title function_">addEventListener</span>(event, callback, isCapture);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addEvent</span>(<span class="variable language_">document</span>, <span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> child = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.child&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> parent = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.parent&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> grandparent = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.grandparent&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(child, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;child&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(parent, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;parent&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(grandparent, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;grandparent&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="variable language_">document</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;document&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;html&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addEvent</span>(<span class="variable language_">window</span>, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;window&#x27;</span>);</span><br><span class="line">  &#125;, <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>addEventListener</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•° <code>useCapture</code> ä¸º <code>true</code> æ—¶ï¼Œè¡¨ç¤ºäº‹ä»¶å°†åœ¨æ•è·é˜¶æ®µæ‰§è¡Œã€‚</p><p>å¦‚æœæˆ‘ä»¬ç‚¹å‡» <code>class</code> ä¸º <code>child</code> çš„å…ƒç´ ï¼Œæ§åˆ¶å°å°†ä¾æ¬¡æ‰“å° <code>window</code>ã€<code>document</code>ã€<code>html</code>ã€ <code>grandparent</code> ã€<code>parent</code>  å’Œ <code>child</code>ï¼Œè¿™å°±æ˜¯äº‹ä»¶æ•è·ã€‚</p><h2 id="9-event-preventDefault-å’Œ-event-stopPropagation-æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#9-event-preventDefault-å’Œ-event-stopPropagation-æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="9. event.preventDefault() å’Œ event.stopPropagation() æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>9. <code>event.preventDefault()</code> å’Œ <code>event.stopPropagation()</code> æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li><p><code>event.preventDefault()</code> æ–¹æ³•ç”¨æ¥é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚</p><p>ä¾‹å¦‚ï¼šåœ¨ä¸€ä¸ª <code>checkbox</code> å…ƒç´ çš„ <code>click</code> äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨ <code>event.preventDefault()</code>ï¼Œè¯¥  <code>checkbox</code> å°†æ— æ³•è¢«é€‰ä¸­ï¼›æˆ–åœ¨ä¸€ä¸ª <code>form</code> å…ƒç´ çš„ <code>submit</code> äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨ <code>event.preventDefault()</code>ï¼Œè¯¥ <code>form</code> çš„é»˜è®¤æäº¤è¡Œä¸ºå°†è¢«é˜»æ­¢ã€‚</p></li><li><p><code>event.stopPropagation)()</code> æ–¹æ³•ç”¨æ¥é˜»æ­¢äº‹ä»¶ä¼ æ’­ï¼Œæˆ–è€…è¯´æ˜¯é˜»æ­¢äº‹ä»¶åœ¨å†’æ³¡æˆ–æ•è·é˜¶æ®µæ‰§è¡Œã€‚</p></li></ul><h2 id="10-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶ä¸­æ˜¯å¦ä½¿ç”¨äº†-event-prevenDefault-æ–¹æ³•ï¼Ÿ"><a href="#10-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶ä¸­æ˜¯å¦ä½¿ç”¨äº†-event-prevenDefault-æ–¹æ³•ï¼Ÿ" class="headerlink" title="10. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶ä¸­æ˜¯å¦ä½¿ç”¨äº† event.prevenDefault() æ–¹æ³•ï¼Ÿ"></a>10. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶ä¸­æ˜¯å¦ä½¿ç”¨äº† <code>event.prevenDefault()</code> æ–¹æ³•ï¼Ÿ</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>event</code> å¯¹è±¡ä¸Šçš„ <code>defaultPrevented</code> å±æ€§æ¥åˆ¤æ–­ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥äº‹ä»¶æ˜¯å¦è°ƒç”¨äº† <code>prevenDefault()</code> æ–¹æ³•ã€‚</p><h2 id="11-ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸­-obj-someProp-x-ä¼šæŠ¥é”™ï¼Ÿ"><a href="#11-ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸­-obj-someProp-x-ä¼šæŠ¥é”™ï¼Ÿ" class="headerlink" title="11. ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸­ obj.someProp.x ä¼šæŠ¥é”™ï¼Ÿ"></a>11. ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸­ <code>obj.someProp.x</code> ä¼šæŠ¥é”™ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">someProp</span>.<span class="property">x</span>) <span class="comment">// Uncaught TypeError: Cannot read properties of undefined (reading &#x27;x&#x27;)</span></span><br></pre></td></tr></table></figure><p><code>someProp</code> åœ¨ <code>obj</code> ä¸­å¹¶ä¸å­˜åœ¨ï¼Œæ‰€ä»¥å®ƒçš„å€¼ä¸º <code>undefined</code>ï¼Œ<code>undefined</code> ä¸Šæ²¡æœ‰ä»»ä½•å±æ€§å¯ä»¥è¯»å–ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚</p><h2 id="12-event-target-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#12-event-target-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="12. event.target æ˜¯ä»€ä¹ˆï¼Ÿ"></a>12. <code>event.target</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>event.target</code> æ˜¯è§¦å‘äº‹ä»¶çš„å¯¹è±¡ï¼ˆæŸä¸ªdomå…ƒç´ ï¼‰çš„å¼•ç”¨ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onclick</span>=<span class="string">&quot;handleClick(event)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center;margin:15px; border:1px solid red;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin: 25px; border:1px solid royalblue;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin:25px;border:1px solid skyblue;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">&quot;margin:10px&quot;</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">target</span>); <span class="comment">// &lt;button style=&quot;margin:10px&quot;&gt;Button&lt;/button&gt;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šå®ä¾‹ï¼Œå½“æˆ‘ä»¬ç‚¹å‡» <code>button</code> æ—¶ï¼Œå°½ç®¡äº‹ä»¶å¤„ç†å‡½æ•°è¢«æ·»åŠ åœ¨æœ€å¤–å±‚çš„ <code>div</code>ï¼Œ<code>event.target</code> ä¹Ÿè¿˜æ˜¯ <code>button</code> å…ƒç´ ã€‚</p><h2 id="13-event-currentTarget-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#13-event-currentTarget-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="13. event.currentTarget æ˜¯ä»€ä¹ˆï¼Ÿ"></a>13. <code>event.currentTarget</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>event.currentTarget</code> æŒ‡çš„æ˜¯äº‹ä»¶çš„å½“å‰ç›®æ ‡ï¼Œå®ƒ<strong>æ€»æ˜¯æŒ‡å‘äº‹ä»¶ç»‘å®šçš„å…ƒç´ </strong>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onclick</span>=<span class="string">&quot;handleClick(event)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center;margin:15px; border:1px solid red;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin: 25px; border:1px solid royalblue;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin:25px;border:1px solid skyblue;border-radius:3px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">&quot;margin:10px&quot;</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">currentTarget</span>); <span class="comment">// &lt;div onclick=&quot;handleClick(event)&quot; style=&quot;text-align: center;margin:15px; border:1px solid red;border-radius:3px;&quot;&gt;...&lt;/div&gt;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿˜æ˜¯è¿™ä¸ªä¾‹å­ï¼Œç‚¹å‡» <code>button</code> æ—¶ï¼Œ<code>event.currentTarget</code> æŒ‡å‘æœ€å¤–å±‚ç»‘å®šç‚¹å‡»äº‹ä»¶çš„ <code>div</code> çš„å¼•ç”¨ã€‚</p><h2 id="14-å’Œ-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#14-å’Œ-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="14. == å’Œ === æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>14. <code>==</code> å’Œ <code>===</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p><code>==</code> ä¼šæŠŠè¦æ¯”è¾ƒçš„å€¼å¼ºåˆ¶è½¬æ¢ä¸ºåŒç±»å‹ï¼Œå†æ¯”è¾ƒå€¼ï¼›<code>===</code> ä¸ä¼šå¯¹æ“ä½œå¯¹è±¡è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼Œè€Œæ˜¯æ¯”è¾ƒæ“ä½œå¯¹è±¡çš„å€¼å’Œç±»å‹ã€‚</p><p>å¼ºåˆ¶ç±»å‹è½¬æ¢æ˜¯æŒ‡å°†å€¼ä»ä¸€ç§æ•°æ®ç±»å‹è‡ªåŠ¨æˆ–éšå¼åœ°è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹ï¼Œåœ¨ä½¿ç”¨ <code>==</code> æ¯”è¾ƒä¸¤ä¸ªå€¼æ—¶ä¼šå¯¹å®ƒä»¬è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼›å‡å¦‚æˆ‘ä»¬è¦æ¯”è¾ƒ <code>x == y</code>ï¼š</p><ol><li>å¦‚æœ <code>x</code> å’Œ <code>y</code> ç±»å‹ç›¸åŒï¼Œåˆ™æ¯”è¾ƒå®ƒä»¬çš„å€¼ï¼›</li><li>å¦‚æœ <code>x</code> ä¸º <code>null</code> <code>y</code> ä¸º <code>undefined</code>ï¼Œåˆ™è¿”å› <code>true</code>ï¼›</li><li>å¦‚æœ <code>x</code> ä¸º <code>undefined</code> <code>y</code> ä¸º <code>null</code>ï¼Œåˆ™è¿”å› <code>true</code>ï¼›</li><li>å¦‚æœ <code>x</code> æ˜¯ <code>number</code> ç±»å‹ï¼Œ<code>y</code> æ˜¯ <code>string</code> ç±»å‹ï¼Œåˆ™è¿”å› <code>x == Number(y)</code>ï¼›</li><li>å¦‚æœ <code>x</code> æ˜¯ <code>string</code> ç±»å‹ï¼Œ<code>y</code> æ˜¯ <code>number</code> ç±»å‹ï¼Œåˆ™è¿”å› <code>Number(x) == y</code>ï¼›</li><li>å¦‚æœ <code>x</code> æ˜¯ <code>boolean</code> ç±»å‹ï¼Œ<code>y</code> ä¸æ˜¯ <code>boolean</code> ç±»å‹ï¼Œåˆ™è¿”å› <code>number(x) == y</code>ï¼›</li><li>å¦‚æœ <code>x</code> ä¸æ˜¯ <code>boolean</code> ç±»å‹ï¼Œ<code>y</code> æ˜¯ <code>boolean</code> ç±»å‹ï¼Œåˆ™è¿”å› <code>x == number(y)</code>ï¼›</li><li>å¦‚æœ <code>x</code> æ˜¯åŸºæœ¬ç±»å‹ï¼Œ<code>y</code> æ˜¯ <code>object</code> ï¼Œåˆ™è¿”å› <code>x == toPrimitive(y)</code>ï¼›</li><li>å¦‚æœ <code>x</code> æ˜¯ <code>object</code> ï¼Œ<code>y</code> æ˜¯åŸºæœ¬ç±»å‹ï¼Œåˆ™è¿”å› <code>toPrimitive(x) == y</code>ï¼›</li><li>å¦åˆ™ï¼Œè¿”å› <code>false</code>ã€‚</li></ol><blockquote><p><code>toPrimitive</code> æ˜¯æŒ‡å®šäº†ä¸€ç§æ¥å—é¦–é€‰ç±»å‹å¹¶è¿”å›å¯¹è±¡åŸå§‹å€¼çš„è¡¨ç¤ºçš„æ–¹æ³•ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ [MDN - Symbol.toPrimitive</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span> == <span class="number">5</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> == <span class="string">&#x27;1&#x27;</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">null</span> == <span class="literal">undefined</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> == <span class="literal">false</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1,2&#x27;</span> == [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;[object Object]&#x27;</span> == &#123;&#125;) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>æŠŠ <code>==</code> æ”¹ä¸º <code>===</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span> === <span class="number">5</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> === <span class="string">&#x27;1&#x27;</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">null</span> === <span class="literal">undefined</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> === <span class="literal">false</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1,2&#x27;</span> === [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;[object Object]&#x27;</span> === &#123;&#125;) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="15-ä¸ºä»€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªç›¸ä¼¼çš„å¯¹è±¡æ—¶ä¼šè¿”å›-falseï¼Ÿ"><a href="#15-ä¸ºä»€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªç›¸ä¼¼çš„å¯¹è±¡æ—¶ä¼šè¿”å›-falseï¼Ÿ" class="headerlink" title="15. ä¸ºä»€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªç›¸ä¼¼çš„å¯¹è±¡æ—¶ä¼šè¿”å› falseï¼Ÿ"></a>15. ä¸ºä»€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªç›¸ä¼¼çš„å¯¹è±¡æ—¶ä¼šè¿”å› <code>false</code>ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">let</span> b = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">let</span> c = a</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a == b) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === b) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a == c) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === c) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>JS ä»¥ä¸åŒçš„æ–¹å¼æ¯”è¾ƒå¯¹è±¡å’ŒåŸºæœ¬ç±»å‹ï¼›js é€šè¿‡å€¼æ¯”è¾ƒåŸºæœ¬ç±»å‹ï¼Œè€Œæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œjsé€šè¿‡æ¯”è¾ƒå¯¹è±¡çš„å¼•ç”¨æˆ–å†…å­˜åœ°å€å¯¹å®ƒä»¬è¿›è¡Œæ¯”è¾ƒã€‚<code>a</code> å’Œ <code>b</code> æ˜¯åˆ†åˆ«å¯¹ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒä»¬å€¼çš„å†…å­˜åœ°å€å¹¶ä¸åŒï¼›è€Œ <code>a</code> å’Œ <code>c</code> æŒ‡å‘åŒä¸€ä¸ªå¼•ç”¨æˆ–å†…å­˜åœ°å€ã€‚</p><h2 id="16-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#16-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="16. !! æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>16. <code>!!</code> æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>!!</code> æ“ä½œç¬¦å¯ä»¥å°†å³ä¾§å€¼å¼ºåˆ¶è½¬æ¢ä¸º <code>boolean</code> ç±»å‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="literal">null</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="literal">undefined</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="string">&#x27;&#x27;</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="number">0</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="title class_">NaN</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="string">&#x27; &#x27;</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!&#123;&#125;) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!![]) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="number">1</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!![].<span class="property">length</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="17-å¦‚ä½•è®¡ç®—ä¸€è¡Œä¸­çš„å¤šä¸ªè¡¨è¾¾å¼ï¼Ÿ"><a href="#17-å¦‚ä½•è®¡ç®—ä¸€è¡Œä¸­çš„å¤šä¸ªè¡¨è¾¾å¼ï¼Ÿ" class="headerlink" title="17. å¦‚ä½•è®¡ç®—ä¸€è¡Œä¸­çš„å¤šä¸ªè¡¨è¾¾å¼ï¼Ÿ"></a>17. å¦‚ä½•è®¡ç®—ä¸€è¡Œä¸­çš„å¤šä¸ªè¡¨è¾¾å¼ï¼Ÿ</h2><p>å¯ä»¥ä½¿ç”¨ <code>,</code> è¿ç®—ç¬¦ï¼Œå®ƒä»å·¦åˆ°å³è®¡ç®—å¹¶è¿”å›æœ€å³ä¾§çš„å€¼æˆ–è®¡ç®—ç»“æœã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">x = (x++, x = <span class="title function_">addFive</span>(x), x *= <span class="number">2</span>, x -= <span class="number">5</span>, x += <span class="number">10</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x) <span class="comment">// 27</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addFive</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num + <span class="number">5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¾¹çš„ç¤ºä¾‹æ‹¬å·ä¸­çš„è¡¨è¾¾å¼ä¼šä»å·¦åˆ°å³ä¾æ¬¡è®¡ç®— <code>x</code> çš„å€¼ï¼Œå¹¶æœ€åä¼šè¿”å›æœ€å³ä¾§è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœã€‚</p><h2 id="18-ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ"><a href="#18-ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ" class="headerlink" title="18. ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ"></a>18. ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ</h2><p>å˜é‡æå‡æ˜¯æŒ‡ js ä¸­å˜é‡å’Œå‡½æ•°çš„å£°æ˜ï¼Œä¼šè¢«æå‡è‡³ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚ï¼ˆæ³¨æ„ï¼š<strong>ç”¨ <code>let</code> å’Œ <code>const</code> å£°æ˜çš„å˜é‡æˆ–ç®­å¤´å‡½æ•°å’Œå‡½æ•°è¡¨è¾¾å¼å£°æ˜çš„å‡½æ•°ä¸ä¼šæå‡</strong>ï¼‰</p><p>ä¸ºäº†ç†è§£å˜é‡æå‡ï¼Œè¿™é‡Œå¿…é¡»è§£é‡Šä¸€ä¸‹ <strong>JavaScriptæ‰§è¡Œä¸Šä¸‹æ–‡</strong>ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯è¯„ä¼°å’Œæ‰§è¡Œ JavaScript ä»£ç çš„ç¯å¢ƒçš„æŠ½è±¡æ¦‚å¿µã€‚æ¯å½“ Javascript ä»£ç åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå®ƒéƒ½æ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚æ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ç¼–è¯‘å’Œæ‰§è¡Œä¸¤ä¸ªé˜¶æ®µï¼š</p><p>åœ¨ç¼–è¯‘é˜¶æ®µï¼Œå®ƒä¼šè·å–æ‰€æœ‰å‡½æ•°å£°æ˜å¹¶å°†å®ƒä»¬æå‡åˆ°ä½œç”¨ä¸é¡¶éƒ¨ï¼Œç„¶åè·å–æ‰€æœ‰å˜é‡å£°æ˜ï¼ˆä½¿ç”¨ varï¼‰æŠŠå®ƒä»¬æå‡è‡³ä½œç”¨åŸŸé¡¶éƒ¨å¹¶åˆå§‹åŒ–ä¸º <code>undefined</code>ã€‚</p><p>åœ¨æ‰§è¡Œé˜¶æ®µï¼Œå®ƒä¼šä¸ºä¹‹å‰æå‡çš„å˜é‡èµ‹å€¼ï¼Œæ‰§è¡Œæˆ–è°ƒç”¨å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y) <span class="comment">// undefined</span></span><br><span class="line">y = <span class="number">1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">greet</span>(<span class="string">&quot;Mark&quot;</span>)) <span class="comment">// Hello Mark!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello &#x27;</span> + name + <span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y</span><br></pre></td></tr></table></figure><p>ä¸Šè¾¹çš„ä»£ç åœ¨ç¼–è¯‘é˜¶æ®µå¤§æ¦‚åƒè¿™æ ·ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;Hello &#x27;</span> + name + <span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y <span class="comment">// éšå¼çš„èµ‹å€¼ undefined</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œé˜¶æ®µï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;Hello &#x27;</span> + name + <span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y)</span><br><span class="line">y = <span class="number">1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">greet</span>(<span class="string">&quot;Mark&quot;</span>))</span><br></pre></td></tr></table></figure><h2 id="19-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ"><a href="#19-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ" class="headerlink" title="19. ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ"></a>19. ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ</h2><p>ä½œç”¨åŸŸæ˜¯æŒ‡æˆ‘ä»¬åœ¨ JavaScript ä¸­å¯ä»¥æœ‰æ•ˆè®¿é—®å˜é‡å’Œå‡½æ•°çš„åŒºåŸŸï¼ˆä¹Ÿå°±æ˜¯å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼ŒJavaScript ä¸­æœ‰ä¸‰ç§ä½œç”¨åŸŸï¼š</p><ul><li><p><strong>å…¨å±€ä½œç”¨åŸŸ</strong> - åœ¨è„šæœ¬æ¨¡å¼ä¸‹è¿è¡Œæ‰€æœ‰ä»£ç çš„é»˜è®¤ä½œç”¨åŸŸï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> g = <span class="string">&#x27;global scope&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">globalFn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(g)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">globalFn</span>() <span class="comment">// global scope</span></span><br></pre></td></tr></table></figure></li><li><p><strong>æ¨¡å—ä½œç”¨åŸŸ</strong> - åœ¨æ¨¡å—ä¸­è¿è¡Œçš„ä»£ç çš„ä½œç”¨åŸŸã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib.js</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;module scope&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> b = <span class="string">&#x27;exported variable&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; b &#125; <span class="keyword">from</span> <span class="string">&#x27;./lib.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// exported variable</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// Uncaught ReferenceError: a is not defined</span></span><br></pre></td></tr></table></figure></li><li><p><strong>å‡½æ•°ä½œç”¨åŸŸ</strong> - ç”±å‡½æ•°åˆ›å»ºçš„ä½œç”¨åŸŸï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&#x27;function scope&#x27;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// function scope</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// Uncaught ReferenceError: a is not defined</span></span><br></pre></td></tr></table></figure></li></ul><p>æ­¤å¤–ï¼Œç”¨ <code>let</code> å’Œ <code>const</code> å£°æ˜çš„å˜é‡å¯ä»¥å±äºä¸€ä¸ªé¢å¤–çš„ä½œç”¨åŸŸï¼š</p><ul><li><p><strong>å—çº§ä½œç”¨åŸŸ</strong> - ç”¨ä¸€å¯¹å¤§æ‹¬å·åˆ›å»ºçš„ä½œç”¨åŸŸã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&#x27;var variable&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> b = <span class="string">&#x27;let variable&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// let variable</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// Uncaught ReferenceError: b is not defined</span></span><br></pre></td></tr></table></figure></li></ul><p>ä½œç”¨åŸŸä¹Ÿæ˜¯ä¸€ç»„æŸ¥æ‰¾å˜é‡çš„è§„åˆ™ã€‚å¦‚æœå˜é‡åœ¨å½“å‰ä½œç”¨åŸŸä¸­ä¸å­˜åœ¨ï¼Œå®ƒä¼šæŸ¥æ‰¾å®ƒçš„ä¸Šçº§ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ï¼Œå¦‚æœè¿˜ä¸å­˜åœ¨å®ƒä¼šä¾æ¬¡å‘ä¸Šæœç´¢ï¼Œç›´åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œå¦‚æœå˜é‡è¢«æ‰¾åˆ°åˆ™å¯ä»¥ä½¿ç”¨ï¼Œå¦åˆ™å°†ä¼šæŠ¥é”™ã€‚å®ƒä¼šä¼˜å…ˆæœç´¢ä½¿ç”¨æœ€è¿‘çš„ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œä¸€æ—¦æ‰¾åˆ°åˆ™åœæ­¢æœç´¢ã€‚è¿™ä¹Ÿå«åš <strong>ä½œç”¨åŸŸé“¾</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Global Scope</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;Comrades&quot;</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;Sayonara&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// outer&#x27;s scope</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&quot;World&quot;</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">inner</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// inner&#x27;s scope</span></span><br><span class="line">        <span class="keyword">var</span> b = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(b + <span class="string">&quot; &quot;</span> + a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">inner</span>()</span><br><span class="line">&#125;  </span><br><span class="line"><span class="title function_">outer</span>() <span class="comment">// Hello World</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302201634511.png" alt="scope chain"></p><h2 id="20-ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ"><a href="#20-ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ" class="headerlink" title="20. ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ"></a>20. ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ</h2><p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bar</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> baz = <span class="title function_">foo</span>()</span><br><span class="line"><span class="title function_">baz</span>() <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p>å‡½æ•° <code>bar()</code> çš„è¯æ³•ä½œç”¨åŸŸèƒ½å¤Ÿè®¿é—® <code>foo()</code> çš„å†…éƒ¨ä½œç”¨åŸŸã€‚ç„¶åæˆ‘ä»¬å°† <code>bar() </code> å‡½æ•°æœ¬èº«å½“ä½œä¸€ä¸ªå€¼ç±»å‹è¿›è¡Œä¼ é€’ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°† <code>bar</code> æ‰€å¼•ç”¨çš„å‡½æ•°å¯¹è±¡æœ¬èº«å½“ä½œè¿”å›å€¼ã€‚</p><p>åœ¨ <code>foo()</code> æ‰§è¡Œåï¼Œå…¶è¿”å›å€¼ï¼ˆä¹Ÿå°±æ˜¯å†…éƒ¨çš„ <code>bar()</code> å‡½æ•°ï¼‰èµ‹å€¼ç»™å˜é‡ <code>baz</code> å¹¶è°ƒç”¨ <code>baz()</code>ï¼Œå®é™…ä¸Šåªæ˜¯é€šè¿‡ä¸åŒçš„æ ‡è¯†ç¬¦å¼•ç”¨è°ƒç”¨äº†å†…éƒ¨çš„å‡½æ•° <code>bar()</code>ã€‚</p><p><code>bar()</code> æ˜¾ç„¶å¯ä»¥è¢«æ­£å¸¸æ‰§è¡Œã€‚ä½†æ˜¯åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒåœ¨è‡ªå·±å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹æ‰§è¡Œã€‚</p><p>åœ¨ <code>foo()</code> æ‰§è¡Œåï¼Œé€šå¸¸ä¼šæœŸå¾… <code>foo()</code> çš„æ•´ä¸ªå†…éƒ¨ä½œç”¨åŸŸéƒ½è¢«é”€æ¯ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“å¼•æ“æœ‰åƒåœ¾å›æ”¶å™¨ç”¨æ¥é‡Šæ”¾ä¸å†ä½¿ç”¨çš„å†…å­˜ç©ºé—´ã€‚ç”±äºçœ‹ä¸Šå» <code>foo()</code> çš„å†…å®¹ä¸ä¼šå†è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶åœ°ä¼šè€ƒè™‘å¯¹å…¶è¿›è¡Œå›æ”¶ã€‚</p><p>è€Œé—­åŒ…çš„â€œç¥å¥‡â€ä¹‹å¤„æ­£æ˜¯å¯ä»¥é˜»æ­¢è¿™ä»¶äº‹æƒ…çš„å‘ç”Ÿã€‚äº‹å®ä¸Šå†…éƒ¨ä½œç”¨åŸŸä¾ç„¶å­˜åœ¨ï¼Œå› æ­¤æ²¡æœ‰è¢«å›æ”¶ã€‚è°åœ¨ä½¿ç”¨è¿™ä¸ªå†…éƒ¨ä½œç”¨åŸŸï¼ŸåŸæ¥æ˜¯ <code>bar()</code> æœ¬èº«åœ¨ä½¿ç”¨ã€‚</p><p>æ‹œ <code>bar()</code> æ‰€å£°æ˜çš„ä½ç½®æ‰€èµï¼Œå®ƒæ‹¥æœ‰æ¶µç›– <code>foo()</code> å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œä½¿å¾—è¯¥ä½œç”¨åŸŸèƒ½å¤Ÿä¸€ç›´å­˜æ´»ï¼Œä»¥ä¾› <code>bar()</code> åœ¨ä¹‹åä»»ä½•æ—¶é—´è¿›è¡Œå¼•ç”¨ã€‚</p><p><code>bar()</code> ä¾ç„¶æŒæœ‰å¯¹è¯¥ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè€Œè¿™ä¸ªå¼•ç”¨å°±å«ä½œé—­åŒ…ã€‚</p><blockquote><p>å¼•ç”¨è‡ª <a href="https://book.douban.com/subject/26351021/">ã€Šä½ ä¸çŸ¥é“çš„JavaScriptï¼ˆä¸Šå·ï¼‰ã€‹</a></p></blockquote><h2 id="21-JS-ä¸­éƒ½æœ‰å“ªäº›â€å‡å€¼â€ï¼Ÿ"><a href="#21-JS-ä¸­éƒ½æœ‰å“ªäº›â€å‡å€¼â€ï¼Ÿ" class="headerlink" title="21. JS ä¸­éƒ½æœ‰å“ªäº›â€å‡å€¼â€ï¼Ÿ"></a>21. JS ä¸­éƒ½æœ‰å“ªäº›â€å‡å€¼â€ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> falsyValues = [<span class="string">&#x27;&#x27;</span>, <span class="number">0</span>, <span class="literal">null</span>, <span class="literal">undefined</span>, <span class="title class_">NaN</span>, <span class="literal">false</span>]</span><br></pre></td></tr></table></figure><p>å‡å€¼ æ˜¯æŒ‡è½¬ä¸º <code>boolean</code> åä¸º <code>false</code> çš„å€¼ã€‚ </p><h2 id="22-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯â€å‡å€¼â€ï¼Ÿ"><a href="#22-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯â€å‡å€¼â€ï¼Ÿ" class="headerlink" title="22. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯â€å‡å€¼â€ï¼Ÿ"></a>22. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯â€å‡å€¼â€ï¼Ÿ</h2><p>ä½¿ç”¨ <code>Boolean()</code> å‡½æ•°æˆ– <code>!!</code> æ“ä½œç¬¦ã€‚</p><h2 id="23-use-strict-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#23-use-strict-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="23. use strict æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>23. <code>use strict</code> æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>use strict</code> æ˜¯ <code>ES5</code> çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨æ¥å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å¯ä»¥å¸®æˆ‘ä»¬æå‰è§„é¿ä¸€äº›ä»£ç å¯èƒ½çš„é”™è¯¯ã€‚</p><ul><li><p>é™åˆ¶åˆ†é…æœªå£°æ˜çš„å˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">returnY</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span></span><br><span class="line">    y = <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">returnY</span>() <span class="comment">// Uncaught ReferenceError: y is not defined</span></span><br></pre></td></tr></table></figure></li><li><p>é™åˆ¶ä¸ºåªè¯»æˆ–ä¸å¯å†™çš„å…¨å±€å˜é‡èµ‹å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">NaN</span> = <span class="title class_">NaN</span></span><br><span class="line"><span class="keyword">var</span> <span class="literal">undefined</span> = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Infinity</span> = <span class="string">&#x27;a&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;x&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;1&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> obj.<span class="property">x</span></span><br></pre></td></tr></table></figure></li><li><p>é‡å¤çš„å‡½æ•°å‚æ•°åï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line">      </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a, b, b, c</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <code>eval()</code> å‡½æ•°åˆ›å»ºå˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line">      </span><br><span class="line"><span class="built_in">eval</span>(<span class="string">&#x27;var a = 1&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br></pre></td></tr></table></figure></li><li><p><code>this</code> çš„é»˜è®¤å€¼å°†æ˜¯ <code>undefined</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line">      </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">returnThis</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">returnThis</span>()) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li><li><p>è¿˜æœ‰<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode">æ›´å¤šçš„ç‰¹æ€§</a>å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚</p></li></ul><h2 id="24-JS-ä¸­çš„-this-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#24-JS-ä¸­çš„-this-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="24. JS ä¸­çš„ this æ˜¯ä»€ä¹ˆï¼Ÿ"></a>24. JS ä¸­çš„ <code>this</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹ï¼Œ<code>this</code> å§‹ç»ˆæŒ‡å‘å…¨å±€å¯¹è±¡ <code>window</code>ï¼ˆåœ¨æµè§ˆå™¨ä¸­ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span> === <span class="variable language_">window</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">a</span>) <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">b</span> = <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// &#x27;xxx&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">b</span>) <span class="comment">// &#x27;xxx&#x27;</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°ä¸­çš„ <code>this</code> å…³é”®å­—åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚<code>this</code> ä¸èƒ½åœ¨æ‰§è¡ŒæœŸé—´è¢«èµ‹å€¼ï¼Œå¹¶ä¸”åœ¨æ¯æ¬¡å‡½æ•°è¢«è°ƒç”¨æ—¶ <code>this</code> çš„å€¼ä¹Ÿå¯èƒ½ä¼šä¸åŒã€‚æ­¤å¤–åœ¨ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼ä¸­ä¹Ÿä¼šæœ‰ä¸€äº›å·®åˆ«ã€‚å¦å¤–ï¼Œåœ¨è°ƒç”¨å‡½æ•°æ—¶è¿˜å¯ä»¥é€šè¿‡ <code>bind(), call(), apply()</code> æ–¹æ³•æ”¹å˜å‡½æ•°ä¸­ <code>this</code> çš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">f1</span>() === <span class="variable language_">window</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¦‚æœè¿›å…¥æ‰§è¡Œç¯å¢ƒæ—¶æ²¡æœ‰è®¾ç½® <code>this</code> çš„å€¼ï¼Œ<code>this</code> å°†ä¿æŒä¸º <code>undefined</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">f2</span>()) <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="title function_">f2</span>()) <span class="comment">// Window</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>call()</code> å’Œ <code>apply()</code> æ”¹å˜å‡½æ•°å†… <code>this</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>: <span class="string">&#x27;obj a&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;global a&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">whatsThis</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">whatsThis</span>() <span class="comment">// global a</span></span><br><span class="line">whatsThis.<span class="title function_">call</span>(obj) <span class="comment">// obj a</span></span><br><span class="line">whatsThis.<span class="title function_">apply</span>(obj) <span class="comment">// obj a</span></span><br></pre></td></tr></table></figure><p>è°ƒç”¨ <code>f.bind(someObject)</code> ä¼šåˆ›å»ºä¸€ä¸ªä¸ <code>f</code> å…·æœ‰ç›¸åŒå‡½æ•°ä½“å’Œä½œç”¨åŸŸçš„å‡½æ•°ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªæ–°å‡½æ•°ä¸­ï¼Œ<code>this</code> å°†æ°¸ä¹…åœ°è¢«ç»‘å®šåˆ°äº† <code>bind</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ— è®ºè¿™ä¸ªå‡½æ•°æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> g = f.<span class="title function_">bind</span>(&#123;<span class="attr">a</span>: <span class="string">&#x27;azerty&#x27;</span>&#125;)</span><br><span class="line"><span class="title function_">g</span>() <span class="comment">// azerty</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> h = g.<span class="title function_">bind</span>(&#123;<span class="attr">a</span>: <span class="string">&#x27;yoo&#x27;</span>&#125;) <span class="comment">// bind åªç”Ÿæ•ˆä¸€æ¬¡</span></span><br><span class="line"><span class="title function_">h</span>() <span class="comment">// azerty</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">a</span>: <span class="number">38</span>, <span class="attr">f</span>: f, <span class="attr">g</span>: g, <span class="attr">h</span>: h &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="property">a</span>)</span><br><span class="line">o.<span class="title function_">f</span>() <span class="comment">// 38</span></span><br><span class="line">o.<span class="title function_">g</span>() <span class="comment">// azerty</span></span><br><span class="line">o.<span class="title function_">h</span>() <span class="comment">// azerty</span></span><br></pre></td></tr></table></figure><p>ç®­å¤´å‡½æ•°ä¸æä¾›è‡ªèº«çš„  <code>this</code> ç»‘å®šï¼ˆç®­å¤´å‡½æ•°ä¸­ <code>this</code> çš„å€¼å°†ä¿æŒä¸ºé—­åˆè¯æ³•ä¸Šä¸‹æ–‡çš„å€¼ï¼‰ã€‚å¦‚æœå°† <code>this</code> ä¼ é€’ç»™ <code>bind(), call(), apply()</code> æ–¹æ³•æ¥è°ƒç”¨ç®­å¤´å‡½æ•°ï¼Œå®ƒå°†è¢«å¿½ç•¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> globalObj = <span class="variable language_">this</span></span><br><span class="line"><span class="keyword">var</span> foo = (<span class="function">() =&gt;</span> <span class="variable language_">this</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">foo</span>() === globalObj) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">foo</span>: foo&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">foo</span> === globalObj) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•ä½¿ç”¨ call æ¥ç»‘å®š this</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="title function_">call</span>(obj) === globalObject); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•ä½¿ç”¨ bind æ¥ç»‘å®š this</span></span><br><span class="line">foo = foo.<span class="title function_">bind</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">foo</span>() === globalObject); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>å½“å‡½æ•°ä½œä¸ºå¯¹è±¡é‡Œçš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œ<code>this</code> è¢«è®¾ç½®ä¸ºè°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    <span class="attr">prop</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="attr">f</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">prop</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">f</span>()) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure><p>å½“å‡½æ•°è¢«ç”¨ä½œäº‹ä»¶å¤„ç†å‡½æ•°æ—¶ï¼Œå®ƒçš„ <code>this</code> æŒ‡å‘è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">handleClick</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span> === e.<span class="property">currentTarget</span>) <span class="comment">// true</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> button = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, handleClick)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="25-JS-ä¸­å¯¹è±¡çš„-prototype-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#25-JS-ä¸­å¯¹è±¡çš„-prototype-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="25. JS ä¸­å¯¹è±¡çš„ prototype æ˜¯ä»€ä¹ˆï¼Ÿ"></a>25. JS ä¸­å¯¹è±¡çš„ <code>prototype</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>æ¯ä¸ªå®ä¾‹å¯¹è±¡ï¼ˆObjectï¼‰éƒ½æœ‰ä¸€ä¸ªç§æœ‰å±æ€§ï¼ˆ__proto__ï¼‰æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼ˆ<strong>prototype</strong>ï¼‰ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡ä¹Ÿæœ‰è‡ªå·±çš„åŸå‹å¯¹è±¡ï¼Œå±‚å±‚å‘ä¸Šç›´åˆ° <code>null</code>ï¼Œ<code>null</code> æ²¡æœ‰åŸå‹ã€‚</p><p>å½“æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå®ƒä¼šå…ˆåœ¨å¯¹è±¡è‡ªèº«æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™å†åˆ°åŸå‹ä¸ŠæŸ¥æ‰¾ï¼Œå±‚å±‚å‘ä¸Šç›´åˆ°æ‰¾åˆ°æˆ–æŸ¥æ‰¾åˆ° <code>null</code>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o = &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">toString</span>()) <span class="comment">// [object Object]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">toString</span>() === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">toString</span>()) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="26-ä»€ä¹ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#26-ä»€ä¹ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="26. ä»€ä¹ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>26. ä»€ä¹ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p>ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰æ˜¯ä¸€ä¸ªåœ¨åˆ›å»ºæˆ–å£°æ˜åå°†è¢«ç«‹å³è°ƒç”¨æˆ–æ‰§è¡Œçš„å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;())</span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> <span class="title function_">named</span>(<span class="params">params</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> (<span class="params"><span class="variable language_">global</span></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;)(<span class="variable language_">window</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> utility = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">   <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">//utilities</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šéƒ½æ˜¯åˆ›å»º <em>ç«‹å³æ‰§è¡Œå‡½æ•°</em> æ­£ç¡®çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ <em>ç«‹å³æ‰§è¡Œå‡½æ•°</em> ä¼ é€’å‚æ•°ï¼ˆå¦‚å€’æ•°ç¬¬äºŒä¸ªä¾‹å­ï¼‰ï¼Œä¹Ÿå¯ä»¥æŠŠ <em>ç«‹å³æ‰§è¡Œå‡½æ•°</em> çš„è¿”å›å€¼ä¿å­˜åˆ°ä¸€ä¸ªå˜é‡ï¼Œä»¥ä¾¿ç¨åå¼•ç”¨å®ƒã€‚</p><p><em>ç«‹å³æ‰§è¡Œå‡½æ•°</em> çš„æœ€ä½³ç”¨é€”æ˜¯ç”¨æ¥åšä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œä»¥é¿å…ä¸å…¨å±€ä½œç”¨åŸŸä¸‹çš„å…¶å®ƒå˜é‡å‘ç”Ÿå‘½åå†²çªæˆ–æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ã€‚</p><p>å‡å¦‚æˆ‘ä»¬ç°åœ¨éœ€è¦å¼•å…¥ä¸€ä¸ªå·¥å…·åŒ… <code>lib.js</code>ï¼Œè¿™ä¸ªå·¥å…·åŒ…æä¾›äº†ä¸¤ä¸ªå…¨å±€æ–¹æ³• <code>createGraph</code> å’Œ <code>drawGraph</code>ï¼Œä½†æ˜¯æˆ‘ä»¬åªéœ€è¦ç”¨ <code>createGraph</code> ï¼Œ <code>drawGraph</code> æ–¹æ³•éœ€è¦è‡ªå·±å®ç°ï¼Œå°±å¯ä»¥ç”¨ <em>ç«‹å³æ‰§è¡Œå‡½æ•°</em> æ¥åˆå§‹åŒ–ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnurl.com/lib.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> graphUtility = (<span class="keyword">function</span> (<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">function</span> <span class="title function_">myDrawGraph</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="comment">// ...</span></span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            createGraph,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">drawGraph</span>: myDrawGraph</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)()</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ä½¿ç”¨</span></span></span><br><span class="line"><span class="language-javascript">    graphUtility.<span class="title function_">createGraph</span>()</span></span><br><span class="line"><span class="language-javascript">    graphUtility.<span class="title function_">drawGraph</span>()</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="27-Function-prototype-call-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#27-Function-prototype-call-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="27. Function.prototype.call æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>27. <code>Function.prototype.call</code> æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>call</code> æ–¹æ³•å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ <code>this</code> å€¼æ¥è°ƒç”¨å‡½æ•°ï¼Œå³ä¼šè®¾ç½®è°ƒç”¨å‡½æ•°æ—¶å‡½æ•°ä½“å†… <code>this</code> çš„å€¼ï¼›å®ƒæ¥æ”¶ä¸€ä¸ªç”¨æ¥æŒ‡å®š <code>this</code> å€¼çš„å‚æ•°ï¼Œå’Œä¸€ä¸ªä¼ é€’ç»™å‡½æ•°çš„å‚æ•°åˆ—è¡¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn.<span class="title function_">call</span>(thisArg, arg1, arg2...)</span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zxyong&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greeting</span>(<span class="params">greetingMessage</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;greetingMessage&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greeting.<span class="title function_">call</span>(person, <span class="string">&#x27;hello&#x27;</span>) <span class="comment">// hello zxyong</span></span><br></pre></td></tr></table></figure><h2 id="28-Function-prototype-apply-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#28-Function-prototype-apply-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="28. Function.prototype.apply æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>28. <code>Function.prototype.apply</code> æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>apply</code> æ–¹æ³•å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ <code>this</code> å€¼æ¥è°ƒç”¨å‡½æ•°ï¼Œå³ä¼šè®¾ç½®è°ƒç”¨å‡½æ•°æ—¶å‡½æ•°ä½“å†… <code>this</code> çš„å€¼ï¼›å®ƒæ¥æ”¶ä¸€ä¸ªç”¨æ¥æŒ‡å®š <code>this</code> å€¼çš„å‚æ•°ï¼Œå’Œä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»æ•°ç»„å¯¹è±¡ï¼‰ç”¨æ¥ç»™å‡½æ•°æä¾›å‚æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn.<span class="title function_">apply</span>(thisArg, argsArray)</span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zxyong&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greeting</span>(<span class="params">greetingMessage</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;greetingMessage&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greeting.<span class="title function_">apply</span>(person, [<span class="string">&#x27;hello&#x27;</span>]) <span class="comment">// hello zxyong</span></span><br></pre></td></tr></table></figure><h2 id="29-Function-prototype-call-å’Œ-Function-prototype-apply-æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#29-Function-prototype-call-å’Œ-Function-prototype-apply-æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="29. Function.prototype.call å’Œ Function.prototype.apply æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>29. <code>Function.prototype.call</code> å’Œ <code>Function.prototype.apply</code> æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p><code>call</code> å’Œ <code>apply</code> æ–¹æ³•çš„ä½œç”¨å®Œå…¨ä¸€æ ·ï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯æŒ‡å®šå‡½æ•°å‚æ•°çš„æ–¹å¼ï¼Œ<code>call</code> æ–¹æ³•ä½¿ç”¨å‚æ•°åˆ—è¡¨æ¥æŒ‡å®šå‚æ•°ï¼Œ<code>apply</code> æ–¹æ³•ä½¿ç”¨æ•°ç»„ï¼ˆæˆ–ç±»æ•°ç»„å¯¹è±¡ï¼‰æ¥æŒ‡å®šå‚æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">result</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">result</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reduceAdd</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = <span class="variable language_">arguments</span>.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        result += <span class="variable language_">arguments</span>[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">result</span> = result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">reduceAdd.<span class="title function_">call</span>(obj1, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">reduceAdd.<span class="title function_">apply</span>(obj2, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">result</span>) <span class="comment">// 15</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2.<span class="property">result</span>) <span class="comment">//15</span></span><br></pre></td></tr></table></figure><h2 id="30-Function-prototype-bind-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#30-Function-prototype-bind-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="30. Function.prototype.bind æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>30. <code>Function.prototype.bind</code> æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>bind()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œåœ¨ <code>bind()</code> è¢«è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªæ–°å‡½æ•°çš„ <code>this</code> è¢«æŒ‡å®šä¸º <code>bind()</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆä¸å—æ–¹æ³•è°ƒç”¨çš„å½±å“ï¼‰ï¼Œè€Œå…¶ä½™å‚æ•°å°†ä½œä¸ºæ–°å‡½æ•°çš„é»˜è®¤å‚æ•°ï¼Œä¾›è°ƒç”¨æ—¶ä½¿ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">9</span></span><br><span class="line"><span class="keyword">var</span> <span class="variable language_">module</span> = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">81</span>,</span><br><span class="line">    <span class="attr">getX</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">x</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">module</span>.<span class="title function_">getX</span>()) <span class="comment">// 81</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> retrieveX = <span class="variable language_">module</span>.<span class="property">getX</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">retrieveX</span>()) <span class="comment">// 9  - å› ä¸ºå‡½æ•°æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸè°ƒç”¨çš„</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> boundGetX = retrieveX.<span class="title function_">bind</span>(<span class="variable language_">module</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">boundGetX</span>()) <span class="comment">// 81</span></span><br></pre></td></tr></table></figure><h2 id="31-ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ŸJS-çš„å“ªäº›ç‰¹æ€§è®©å…¶æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹çš„é¦–é€‰ï¼Ÿ"><a href="#31-ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ŸJS-çš„å“ªäº›ç‰¹æ€§è®©å…¶æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹çš„é¦–é€‰ï¼Ÿ" class="headerlink" title="31. ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ŸJS çš„å“ªäº›ç‰¹æ€§è®©å…¶æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹çš„é¦–é€‰ï¼Ÿ"></a>31. ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ŸJS çš„å“ªäº›ç‰¹æ€§è®©å…¶æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹çš„é¦–é€‰ï¼Ÿ</h2><p>å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä¸»è¦æ˜¯åˆ©ç”¨å‡½æ•°æŠŠè¿ç®—è¿‡ç¨‹å°è£…èµ·æ¥ï¼Œé€šè¿‡ç»„åˆå„ç§å‡½æ•°æ¥è®¡ç®—ç»“æœã€‚</p><p>å°±åƒ JS çš„ <code>Array</code> æ‹¥æœ‰ <code>map, filter, reduce</code> ç­‰éå¸¸å®ç”¨çš„åŸå‹æ–¹æ³•ã€‚å› ä¸ºå®ƒä»¬éƒ½ä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼Œä½¿å®ƒä»¬æˆä¸ºäº† <em>çº¯å‡½æ•°</em>ï¼Œè€Œä¸” JS æ”¯æŒé«˜é˜¶å‡½æ•°å’Œé—­åŒ…ç­‰éƒ½æ˜¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€çš„ç‰¹å¾ã€‚</p><blockquote><p>çº¯å‡½æ•°æŒ‡çš„æ˜¯<strong>ç›¸åŒçš„è¾“å…¥ï¼Œæ°¸è¿œä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡º</strong>ã€‚</p></blockquote><h2 id="32-ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ"><a href="#32-ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ" class="headerlink" title="32. ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ"></a>32. ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ</h2><p>é«˜é˜¶å‡½æ•°æ˜¯æŒ‡å¯ä»¥è¿”å›å‡½æ•°æˆ–æ¥æ”¶å‚æ•°æˆ–å…·æœ‰å‡½æ•°å€¼çš„å‚æ•°çš„å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">higherOrderFunction</span>(<span class="params">param, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">callback</span>(param)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="33-ä¸ºä»€ä¹ˆå‡½æ•°ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Ÿ"><a href="#33-ä¸ºä»€ä¹ˆå‡½æ•°ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Ÿ" class="headerlink" title="33. ä¸ºä»€ä¹ˆå‡½æ•°ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Ÿ"></a>33. ä¸ºä»€ä¹ˆå‡½æ•°ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Ÿ</h2><p>JS ä¸­çš„å‡½æ•°è¢«ç§°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬è¢«è§†ä¸ºè¯­è¨€ä¸­çš„ä»»ä½•å…¶ä»–å€¼ã€‚å®ƒå¯ä»¥åˆ†é…ç»™å˜é‡ï¼Œå®ƒå¯ä»¥æ˜¯å¯¹è±¡çš„å±æ€§ï¼Œå®ƒå¯ä»¥æ˜¯æ•°ç»„ä¸­çš„ä¸€é¡¹ï¼Œå®ƒå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå®ƒå¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ï¼Œå‡½æ•°ä¸ JS ä¸­ä»»ä½•å…¶ä»–å€¼çš„å”¯ä¸€åŒºåˆ«åœ¨äºå®ƒå¯ä»¥è¢«è°ƒç”¨ã€‚</p><h2 id="34-æ‰‹åŠ¨å®ç°-Array-prototype-map-æ–¹æ³•ã€‚"><a href="#34-æ‰‹åŠ¨å®ç°-Array-prototype-map-æ–¹æ³•ã€‚" class="headerlink" title="34. æ‰‹åŠ¨å®ç° Array.prototype.map æ–¹æ³•ã€‚"></a>34. æ‰‹åŠ¨å®ç° <code>Array.prototype.map</code> æ–¹æ³•ã€‚</h2><p><code>map()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¿™ä¸ªæ–°æ•°ç»„ç”±åŸæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼ç»„æˆã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">map</span>(<span class="params">arr, mapCallback</span>) &#123;</span><br><span class="line">    <span class="comment">// æŸ¥éªŒå‚æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr) || !arr.<span class="property">length</span> || <span class="keyword">typeof</span> mapCallback !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> result = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = arr.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">            result.<span class="title function_">push</span>(<span class="title function_">mapCallback</span>(arr[i], i, arr))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="35-æ‰‹åŠ¨å®ç°-Array-prototype-filter-æ–¹æ³•ã€‚"><a href="#35-æ‰‹åŠ¨å®ç°-Array-prototype-filter-æ–¹æ³•ã€‚" class="headerlink" title="35. æ‰‹åŠ¨å®ç° Array.prototype.filter æ–¹æ³•ã€‚"></a>35. æ‰‹åŠ¨å®ç° <code>Array.prototype.filter</code> æ–¹æ³•ã€‚</h2><p><code>filter()</code> æ–¹æ³•åˆ›å»ºç»™å®šæ•°ç»„ä¸€éƒ¨åˆ†çš„æµ…æ‹·è´ï¼Œå…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">filter</span>(<span class="params">arr, filterCallback</span>) &#123;</span><br><span class="line">    <span class="comment">// æŸ¥éªŒå‚æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr) || !arr.<span class="property">length</span> || <span class="keyword">typeof</span> filterCallback !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> result = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = arr.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_">filterCallback</span>(arr[i], i, arr)) &#123;</span><br><span class="line">                result.<span class="title function_">push</span>(arr[i])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="36-æ‰‹åŠ¨å®ç°-Array-prototype-reduce-æ–¹æ³•ã€‚"><a href="#36-æ‰‹åŠ¨å®ç°-Array-prototype-reduce-æ–¹æ³•ã€‚" class="headerlink" title="36. æ‰‹åŠ¨å®ç° Array.prototype.reduce æ–¹æ³•ã€‚"></a>36. æ‰‹åŠ¨å®ç° <code>Array.prototype.reduce</code> æ–¹æ³•ã€‚</h2><p><code>reduce()</code> æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æŒ‰åºæ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„ <strong>reducer</strong> å‡½æ•°ï¼Œæ¯ä¸€æ¬¡è¿è¡Œ <strong>reducer</strong> ä¼šå°†å…ˆå‰å…ƒç´ çš„è®¡ç®—ç»“æœä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œæœ€åå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚</p><p>ç¬¬ä¸€æ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ï¼Œä¸å­˜åœ¨â€œä¸Šä¸€æ¬¡çš„è®¡ç®—ç»“æœâ€ã€‚å¦‚æœéœ€è¦å›è°ƒå‡½æ•°ä»æ•°ç»„ç´¢å¼•ä¸º 0 çš„å…ƒç´ å¼€å§‹æ‰§è¡Œï¼Œåˆ™éœ€è¦ä¼ é€’åˆå§‹å€¼ã€‚å¦åˆ™ï¼Œæ•°ç»„ç´¢å¼•ä¸º 0 çš„å…ƒç´ å°†è¢«ä½œä¸ºåˆå§‹å€¼ï¼Œè¿­ä»£å™¨å°†ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹æ‰§è¡Œï¼ˆç´¢å¼•ä¸º 1 è€Œä¸æ˜¯ 0ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">reduce</span>(<span class="params">arr, reduceCallback, initialValue</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr) || !arr.<span class="property">length</span> || <span class="keyword">typeof</span> reduceCallback !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> hasInitialValue = initialValue !== <span class="literal">undefined</span>;</span><br><span class="line">        <span class="keyword">let</span> value = hasInitialValue ? initialValue : arr[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = hasInitialValue ? <span class="number">0</span> : <span class="number">1</span>, len = arr.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">            value = <span class="title function_">reduceCallback</span>(value, arr[i], i, arr); </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="37-arguments-å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#37-arguments-å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="37. arguments å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ"></a>37. <code>arguments</code> å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>arguments</code> å¯¹è±¡æ˜¯ä¼ å…¥å‡½æ•°çš„å‚æ•°å€¼çš„é›†åˆã€‚å®ƒæ˜¯ä¸€ä¸ª<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Indexed_collections#%E4%BD%BF%E7%94%A8%E7%B1%BB%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1">ç±»æ•°ç»„å¯¹è±¡</a>ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Array.prototype.slice</code> å°†å‚æ•°å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ã€‚</p><blockquote><p><code>arguments</code> å¯¹è±¡ä¸èƒ½åœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">arrowFn</span> = (<span class="params">...args</span>) =&gt; args</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>)) <span class="comment">// [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">arrowFn</span>(<span class="string">&#x27;one&#x27;</span>, <span class="string">&#x27;two&#x27;</span>, <span class="string">&#x27;three&#x27;</span>)) <span class="comment">// [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]</span></span><br></pre></td></tr></table></figure><h2 id="38-å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼Ÿ"><a href="#38-å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼Ÿ" class="headerlink" title="38. å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼Ÿ"></a>38. å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼Ÿ</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Object.create()</code> æ¥åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o1 = &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o1.<span class="title function_">toString</span>()) <span class="comment">// &#x27;[object Object]&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o2 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o2.<span class="title function_">toString</span>()) <span class="comment">// Uncaught TypeError: o2.toString is not a function</span></span><br></pre></td></tr></table></figure><h2 id="39-åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå½“ä½ è°ƒç”¨-fn-æ—¶ä¸ºä»€ä¹ˆ-b-å˜æˆäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Ÿ"><a href="#39-åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå½“ä½ è°ƒç”¨-fn-æ—¶ä¸ºä»€ä¹ˆ-b-å˜æˆäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Ÿ" class="headerlink" title="39. åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå½“ä½ è°ƒç”¨ fn æ—¶ä¸ºä»€ä¹ˆ b å˜æˆäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Ÿ"></a>39. åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå½“ä½ è°ƒç”¨ <code>fn</code> æ—¶ä¸ºä»€ä¹ˆ <code>b</code> å˜æˆäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = b = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">myFunc</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸ºèµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰æ˜¯ä»å³åˆ°å·¦ç»„åˆæˆ–æ±‚å€¼çš„ã€‚ä¸Šè¾¹çš„ç¤ºä¾‹å°±ç›¸å½“äºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = (b = <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">myFunc</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>é¦–å…ˆè¡¨è¾¾å¼ <code>b = 0</code> ä¼šå…ˆè¢«æ‰§è¡Œï¼Œå› ä¸ºå˜é‡ <code>b</code> è¿˜æœªå£°æ˜ï¼ŒJS ä¼šæŠŠæœªå£°æ˜å°±èµ‹å€¼çš„å˜é‡æ·»åŠ ä¸ºå…¨å±€å˜é‡ï¼›ç„¶åæŠŠ <code>b = 0</code> çš„è¿”å›å€¼ 0ï¼Œèµ‹å€¼ç»™å˜é‡ <code>a</code>ï¼Œå› ä¸º <code>a</code> å·²ç»ç”¨ <code>let</code> å…³é”®å­—å£°æ˜äº†ï¼Œåˆ™ä¼šæˆä¸ºå‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸‹ä»£ç è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a, b</span><br><span class="line">    a = b = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">myFunc</span>()</span><br></pre></td></tr></table></figure><h2 id="40-ECMAScript-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#40-ECMAScript-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="40. ECMAScript æ˜¯ä»€ä¹ˆï¼Ÿ"></a>40. <code>ECMAScript</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>ECMAScript æ˜¯ JavaScriptæ‰€åŸºäºçš„è„šæœ¬è¯­è¨€ï¼ŒJavaScript éµå¾ª ECMAScript æ ‡å‡†çš„è§„èŒƒå˜åŒ–ã€‚</p><h2 id="41-ES6-æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ"><a href="#41-ES6-æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ" class="headerlink" title="41. ES6 æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ"></a>41. ES6 æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</h2><ul><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%EF%BC%9F">ç®­å¤´å‡½æ•°</a></li><li><a href="#ES6-%E7%9A%84-class-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F">ç±»</a></li><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%9F">æ¨¡æ¿å­—ç¬¦ä¸²</a></li><li>å¯¹è±¡å±æ€§çš„ç®€å†™å½¢å¼</li><li><a href="#%E5%AF%B9%E8%B1%A1%E8%A7%A3%E6%9E%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F">å¯¹è±¡è§£æ„</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator">Generator</a></li><li><a href="#ES6-%E7%9A%84%E6%A8%A1%E5%9D%97%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F">æ¨¡å—åŒ–</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol">Symbol</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">ä»£ç†ï¼ˆProxyï¼‰</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a></li><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%EF%BC%9F">å‡½æ•°é»˜è®¤å‚æ•°</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/let">let</a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/const">const</a> çš„å—ä½œç”¨åŸŸ</li></ul><h2 id="42-let-const-var-å…³é”®å­—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#42-let-const-var-å…³é”®å­—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="42. let, const, var å…³é”®å­—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>42. <code>let, const, var</code> å…³é”®å­—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>ä½¿ç”¨ <code>var</code> å£°æ˜çš„å˜é‡æœ‰ <em>å£°æ˜æå‡</em>ï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">showX</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (showX) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">false</span>)) <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">true</span>)) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç åœ¨å®é™…æ‰§è¡Œæ—¶å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">showX</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="comment">// å˜é‡å£°æ˜è¢«æå‡è‡³å‡½æ•°ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œå½“å‰é»˜è®¤ä¸º undefined</span></span><br><span class="line">    <span class="keyword">if</span> (showX) &#123;</span><br><span class="line">        x = <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">false</span>)) <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">true</span>)) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><p><code>let</code> å’Œ <code>const</code> å£°æ˜çš„å˜é‡ä¸å­˜åœ¨å˜é‡æå‡ï¼Œè€Œä¸”æœ‰å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥ä¸Šè¾¹çš„ç¤ºä¾‹å¦‚æœç”¨ <code>let</code> æˆ– <code>const</code> å£°æ˜å˜é‡å°±ä¼šæŠ¥é”™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">showX</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (showX) &#123;</span><br><span class="line">        <span class="keyword">let</span> x = <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">true</span>)) <span class="comment">// Uncaught ReferenceError: x is not defined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="literal">false</span>)) <span class="comment">// Uncaught ReferenceError: x is not defined</span></span><br></pre></td></tr></table></figure><p><code>const</code> å’Œ <code>let</code> çš„ä¸åŒå°±æ˜¯ï¼Œç”¨ <code>const</code> å£°æ˜çš„å˜é‡æ— æ³•é‡æ–°èµ‹å€¼ï¼Œè¿™ä¹Ÿæ„å‘³ç€ç”¨ <code>const</code> å£°æ˜å˜é‡æ—¶å¿…é¡»åŒæ—¶å¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚</p><h2 id="43-ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°ï¼Ÿ"><a href="#43-ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°ï¼Ÿ" class="headerlink" title="43. ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°ï¼Ÿ"></a>43. ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°ï¼Ÿ</h2><p><strong>ç®­å¤´å‡½æ•°è¡¨è¾¾å¼</strong>æ˜¯ ES6 çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒçš„è¯­æ³•æ¯”å‡½æ•°è¡¨è¾¾å¼æ›´ç®€æ´ï¼Œå¹¶ä¸”æ²¡æœ‰è‡ªå·±çš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this"><code>this</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments"><code>arguments</code></a>ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/super"><code>super</code></a>æˆ–<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new.target"><code>new.target</code></a>ã€‚ç®­å¤´å‡½æ•°è¡¨è¾¾å¼æ›´é€‚ç”¨äºé‚£äº›æœ¬æ¥éœ€è¦åŒ¿åå‡½æ•°çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="keyword">var</span> getCurrentDate = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getCurrentDate1</span> = (<span class="params"></span>) =&gt; <span class="keyword">new</span> <span class="title class_">Date</span>() <span class="comment">// ä¸éœ€è¦ return å…³é”®å­—</span></span><br><span class="line"><span class="comment">// æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hello &#x27;</span> + name + <span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">greet1</span> = name =&gt; <span class="string">`hello <span class="subst">$&#123;name&#125;</span>!`</span> <span class="comment">// å½“åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶å¯ä»¥çœç•¥æ‹¬å·</span></span><br></pre></td></tr></table></figure><h2 id="44-ES6-çš„-class-å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#44-ES6-çš„-class-å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="44. ES6 çš„ class å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>44. ES6 çš„ <code>class</code> å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>class</code> å…³é”®å­—ç”¨æ¥å£°æ˜ä¸€ä¸ªç±»ï¼Œå®ƒæ˜¯ç¼–å†™æ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼Œåº•å±‚ä»ç„¶æ˜¯ä½¿ç”¨ JS çš„åŸå‹å’ŒåŸºäºåŸå‹çš„ç»§æ‰¿ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">firstName, lastName, age, address</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">firstName</span> = firstName</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">lastName</span> = lastName</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">address</span> = address</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">self</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;[object Person]&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getFullName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27; &#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">firstName, lastName, age, address</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">lastName</span> = lastName</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">firstName</span> = firstName</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">address</span> = address</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">self</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;[object Person]&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getFullName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.firstName&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.lastName&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="45-ä»€ä¹ˆæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Ÿ"><a href="#45-ä»€ä¹ˆæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Ÿ" class="headerlink" title="45. ä»€ä¹ˆæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Ÿ"></a>45. ä»€ä¹ˆæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Ÿ</h2><p>æ¨¡æ¿å­—ç¬¦ä¸²æ˜¯ ES6 å‡ºç°çš„åˆ›å»ºå­—ç¬¦ä¸²çš„æ–°æ–¹æ³•ï¼Œä½¿ç”¨ä¸¤ä¸ª â€œ<strong>`</strong>â€œ æ¥åˆ›å»ºå­—ç¬¦ä¸²ï¼Œåœ¨å¤„ç†å˜é‡ã€æ¢è¡Œç­‰éƒ½æ›´æ–¹ä¾¿äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">var</span> greet = <span class="string">&#x27;Hi I\&#x27;m Mark&#x27;</span></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">let</span> greet1 = <span class="string">`Hi I\&#x27;m Mark`</span> <span class="comment">// åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨ &#x27; æ—¶ä¸å†éœ€è¦è½¬ä¹‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">var</span> lastWords = <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">    + <span class="string">&#x27;   I  \n&#x27;</span></span><br><span class="line">    + <span class="string">&#x27;   Am  \n&#x27;</span></span><br><span class="line">    + <span class="string">&#x27;Iron Man \n&#x27;</span></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">let</span> lastWords1 = <span class="string">`</span></span><br><span class="line"><span class="string">  I</span></span><br><span class="line"><span class="string">  Am</span></span><br><span class="line"><span class="string">  Iron Man   </span></span><br><span class="line"><span class="string">`</span> <span class="comment">// æ¢è¡Œä¸å†éœ€è¦ \n</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello &#x27;</span> + name + <span class="string">&#x27;!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">greet</span> = name =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Hello <span class="subst">$&#123;name&#125;</span> !`</span> <span class="comment">// å˜é‡æˆ–è¡¨è¾¾å¼ä¸å†éœ€è¦ç”¨ + æ‹¼æ¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="46-å¯¹è±¡è§£æ„æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#46-å¯¹è±¡è§£æ„æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="46. å¯¹è±¡è§£æ„æ˜¯ä»€ä¹ˆï¼Ÿ"></a>46. å¯¹è±¡è§£æ„æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>å¯¹è±¡è§£æ„ ä¸€ä¸ªæ˜¯ä»æ•°ç»„æˆ–å¯¹è±¡ä¸­æå–å˜é‡çš„æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> employee = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;Marko&quot;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&quot;Polo&quot;</span>,</span><br><span class="line">  <span class="attr">position</span>: <span class="string">&quot;Software Developer&quot;</span>,</span><br><span class="line">  <span class="attr">yearHired</span>: <span class="number">2017</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> firstName = employee.<span class="property">firstName</span></span><br><span class="line"><span class="keyword">let</span> lastName = employee.<span class="property">lastName</span></span><br><span class="line"><span class="keyword">let</span> position = employee.<span class="property">position</span></span><br><span class="line"><span class="keyword">let</span> yearHired = employee.<span class="property">yearHired</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ç”¨è§£æ„èµ‹å€¼å¯ç®€å†™ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> employee = &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&quot;Marko&quot;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&quot;Polo&quot;</span>,</span><br><span class="line">    <span class="attr">position</span>: <span class="string">&quot;Software Developer&quot;</span>,</span><br><span class="line">    <span class="attr">yearHired</span>: <span class="number">2017</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> &#123;firstName, lastName, position, yearHired&#125; = employee</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(firstName, lastName, position, yearHired)</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬æƒ³åœ¨è§£æ„èµ‹å€¼çš„åŒæ—¶ä¿®æ”¹å˜é‡åå¯ä»¥å†™ä¸º <code>propertyName:newName</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">    <span class="attr">firstName</span>: fName, </span><br><span class="line">  <span class="attr">lastName</span>: lName, </span><br><span class="line">  position, </span><br><span class="line">  yearHired</span><br><span class="line">&#125; = employee</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fName, lName, position, yearHired)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ç»“æ„æ—¶æ·»åŠ ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå¦‚æœå¯¹è±¡ä¸­å¯¹è±¡çš„å±æ€§å€¼ä¸º <code>undefined</code>ï¼Œåˆ™ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">    <span class="attr">firstName</span>: fName = <span class="string">&#x27;Mark&#x27;</span>, </span><br><span class="line">    <span class="attr">lastName</span>: lName, </span><br><span class="line">    position, </span><br><span class="line">    yearHired</span><br><span class="line">&#125; = employee</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fName, lName, position, yearHired)</span><br></pre></td></tr></table></figure><h2 id="47-ES6-çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#47-ES6-çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="47. ES6 çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ"></a>47. ES6 çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>æ¨¡å—å¯ä»¥è®©æˆ‘ä»¬æŠŠä»£ç æ‹†åˆ†ä¸ºå¤šä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œåœ¨éœ€è¦çš„åœ°æ–¹å¼•å…¥ï¼Œèƒ½å¤Ÿæé«˜å¯ç»´æŠ¤æ€§ã€‚åœ¨ ES6 çš„æ¨¡å—ç³»ç»Ÿå‡ºç°ä¹‹å‰å°±æœ‰ CommonJS çš„æ¨¡å—ç³»ç»Ÿã€‚</p><p>ES5 CommonJS ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// helper.js</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">isNull</span> = <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> val === <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">isUndefined</span> = <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> val === <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">isNullOrUndefined</span> = <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">exports</span>.<span class="title function_">isNull</span>(val) || <span class="built_in">exports</span>.<span class="title function_">isUndefined</span>(val)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; isNull, isUndefined, isNullOrUndefined &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./helpers.js&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ES6 Module ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// helper.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">isNull</span>(<span class="params">val</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> val === <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">isUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> val === <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">isNullOrUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">isNull</span>(val) || <span class="title function_">isUndefined</span>(val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; isNull, isUndefined, isNullOrUndefined &#125; <span class="keyword">from</span> <span class="string">&#x27;./helpers.js&#x27;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é»˜è®¤å¯¼å‡ºï¼ˆä¸€ä¸ªæ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºï¼‰ï¼š</p><p>ES5 CommonJS ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// helper.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Helpers</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isNull</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> val === <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> val === <span class="literal">undefined</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isNullOrUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">isNull</span>(val) || <span class="variable language_">this</span>.<span class="title function_">isUndefined</span>(val)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">Helpers</span></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Helpers</span> = <span class="built_in">require</span>(<span class="string">&#x27;./helpers.js&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Helpers</span>.<span class="title function_">isNull</span>(<span class="literal">null</span>));</span><br></pre></td></tr></table></figure><p>ES6 Module ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// helper.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Helpers</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isNull</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> val === <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> val === <span class="literal">undefined</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isNullOrUndefined</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">isNull</span>(val) || <span class="variable language_">this</span>.<span class="title function_">isUndefined</span>(val)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Helpers</span></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Helpers</span> <span class="keyword">from</span> <span class="string">&#x27;.helpers.js&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Helpers</span>.<span class="title function_">isNull</span>(<span class="literal">null</span>))</span><br></pre></td></tr></table></figure><h2 id="48-Set-æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#48-Set-æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="48. Set æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>48. <code>Set</code> æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>Set</code> å¯¹è±¡æ˜¯å€¼çš„é›†åˆï¼Œå®ƒå…è®¸ä½ å­˜å‚¨ä»»ä½•ç±»å‹çš„å”¯ä¸€å€¼ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼æˆ–è€…æ˜¯å¯¹è±¡å¼•ç”¨ï¼Œ<code>Set</code> <strong>ä¸­çš„å…ƒç´ æ˜¯å”¯ä¸€çš„</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> set1 = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line"><span class="keyword">const</span> set2 = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>add</code> æ–¹æ³•åœ¨ <code>Set</code> å¯¹è±¡å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå·²ç»æœ‰çš„å…ƒç´ ä¸ä¼šè¢«é‡å¤æ·»åŠ ï¼Œ<code>add</code> æ–¹æ³•ä¼šè¿”å›è¿™ä¸ª <code>Set</code> å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é“¾å¼è°ƒç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line">s.<span class="title function_">add</span>(<span class="string">&#x27;a&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;b&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;c&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s) <span class="comment">// Set(3) &#123;&#x27;c&#x27;, &#x27;a&#x27;, &#x27;b&#x27;&#125;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>delete</code> æ–¹æ³•ä» <code>Set</code> ä¸­ç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ª <code>boolean</code> å€¼è¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line">s.<span class="title function_">delete</span>(<span class="string">&#x27;a&#x27;</span>) <span class="comment">// è¿”å› true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s) <span class="comment">// Set(2) &#123;&#x27;b&#x27;, &#x27;c&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">s.<span class="title function_">delete</span>(<span class="string">&#x27;a&#x27;</span>) <span class="comment">// è¿”å› falseï¼Œå› ä¸ºå…ƒç´  &#x27;a&#x27; å·²ç»ä¸å­˜åœ¨äº†</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>has</code> æ–¹æ³•æ£€æŸ¥ <code>Set</code> ä¸­æ˜¯å¦æœ‰æŸä¸ªå…ƒç´ ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="title function_">has</span>(<span class="string">&#x27;a&#x27;</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="title function_">has</span>(<span class="string">&#x27;z&#x27;</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="property">size</span>) <span class="comment">// 3  size å±æ€§è¿”å› Set å¯¹è±¡ä¸­çš„å€¼çš„ä¸ªæ•°</span></span><br><span class="line">s.<span class="title function_">clear</span>() <span class="comment">// clear æ–¹æ³•ç”¨æ¥æ¸…ç©º Set</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="property">size</span>) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>Set</code> ç»™æ•°ç»„å»é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> newArr = [...<span class="keyword">new</span> <span class="title class_">Set</span>(arr)]</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newArr) <span class="comment">// [&#x27;a&#x27;, 1, &#x27;b&#x27;]</span></span><br></pre></td></tr></table></figure><h2 id="49-ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ"><a href="#49-ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ" class="headerlink" title="49. ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ"></a>49. ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ</h2><p>å›è°ƒå‡½æ•°æ˜¯ä½œä¸ºå®å‚ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œå°†åœ¨ç¨åçš„æŸä¸ªæ—¶é—´è°ƒç”¨çš„å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure><h2 id="50-ä»€ä¹ˆæ˜¯-Promiseï¼Ÿ"><a href="#50-ä»€ä¹ˆæ˜¯-Promiseï¼Ÿ" class="headerlink" title="50. ä»€ä¹ˆæ˜¯ Promiseï¼Ÿ"></a>50. ä»€ä¹ˆæ˜¯ <code>Promise</code>ï¼Ÿ</h2><p><code>Promise</code> æ˜¯ JS ä¸­å¤„ç†å¼‚æ­¥çš„ä¸€ç§æ–¹å¼ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆï¼ˆæˆ–å¤±è´¥ï¼‰åŠå…¶ç»“æœã€‚åœ¨ <code>Promise</code> å‡ºç°ä¹‹å‰æˆ‘ä»¬åªèƒ½ä½¿ç”¨å›è°ƒå‡½æ•°æ¥å¤„ç†å¼‚æ­¥ä»£ç çš„é—®é¢˜ã€‚</p><p>ä¸€ä¸ª <code>Promise</code> å¿…ç„¶å¤„äºä¸€ä¸‹ä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼š</p><ul><li><em>å¾…å®šï¼ˆpendingï¼‰</em>ï¼šåˆå§‹çŠ¶æ€ï¼Œæ—¢æ²¡æœ‰è¢«å…‘ç°ï¼Œä¹Ÿæ²¡æœ‰è¢«æ‹’ç»ã€‚</li><li><em>å·²å…‘ç°ï¼ˆfulfilledï¼‰</em>ï¼šæ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚</li><li><em>å·²æ‹’ç»ï¼ˆrejectedï¼‰</em>ï¼šæ„å‘³ç€æ“ä½œå¤±è´¥ã€‚</li></ul><p><code>Promise</code> æ„é€ å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ <code>resolve</code> å’Œ <code>reject</code> å‡½æ•°ã€‚ä¸€èˆ¬å½“å¼‚æ­¥æ“ä½œå®Œæˆä¸”æ²¡æœ‰é”™è¯¯ï¼Œæˆ‘ä»¬è°ƒç”¨ <code>resolve</code> è¿”å›æ‰§è¡Œç»“æœï¼Œå¦‚æœå‘ç”Ÿé”™è¯¯æˆ‘ä»¬è°ƒç”¨ <code>reject</code> è¿”å›é”™è¯¯åŸå› ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>.then</code> æ–¹æ³•è·å–å¼‚æ­¥æ‰§è¡Œçš„ç»“æœï¼Œåœ¨ <code>.catch</code> æ–¹æ³•ä¸­æ•è·æ‰§è¡Œçš„é”™è¯¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">readFileSync</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./index.html&#x27;</span>, &#123;&#125;, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="title function_">reject</span>(err)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">resolve</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">readFileSync</span>()</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h2 id="51-async-await-æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#51-async-await-æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="51. async/await æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>51. async/await æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>async/await</code> æ˜¯åœ¨ JS ä¸­ç¼–å†™å¼‚æ­¥æˆ–éé˜»å¡ä»£ç çš„æ–¹æ³•ï¼Œå®ƒæ¯”ä½¿ç”¨ <code>Promise</code> æˆ–å›è°ƒå‡½æ•°æœ‰æ›´æ–¹ä¾¿å’Œæ¸…æ™°çš„è¯­æ³•ã€‚</p><p>ä½¿ç”¨ Promiseï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">callApi</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">&quot;url/to/api/endpoint&quot;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">resp</span> =&gt;</span> resp.<span class="title function_">json</span>())</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ async/await</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">callApi</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> resp = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&quot;url/to/api/endpoint&quot;</span>)</span><br><span class="line">        <span class="keyword">const</span> data = <span class="keyword">await</span> resp.<span class="title function_">json</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¸¦æœ‰ async å…³é”®å­—çš„å‡½æ•°ä¼šéšå¼çš„è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œawait å…³é”®å­—åªèƒ½åœ¨ async å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p></blockquote><h2 id="52-Spread-syntaxå’ŒRest-parametersæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#52-Spread-syntaxå’ŒRest-parametersæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="52. Spread syntaxå’ŒRest parametersæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>52. Spread syntaxå’ŒRest parametersæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>å®ƒä»¬éƒ½ä½¿ç”¨ç›¸åŒçš„è¿ç®—ç¬¦ <code>...</code>ï¼Œ<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax">å±•å¼€è¯­æ³• (Spread syntax)</a>ï¼Œå¯ä»¥åœ¨å‡½æ•°è°ƒç”¨/æ•°ç»„æ„é€ æ—¶ï¼Œå°†æ•°ç»„è¡¨è¾¾å¼æˆ–è€… string åœ¨è¯­æ³•å±‚é¢å±•å¼€ï¼›è¿˜å¯ä»¥åœ¨æ„é€ å­—é¢é‡å¯¹è±¡æ—¶ï¼Œå°†å¯¹è±¡è¡¨è¾¾å¼æŒ‰ <code>key-value</code> çš„æ–¹å¼å±•å¼€ã€‚<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters">å‰©ä½™å‚æ•°ï¼ˆRest parametersï¼‰</a>è¯­æ³•å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªä¸å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nums = [<span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">const</span> sum = <span class="title function_">add</span>(...nums)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum) <span class="comment">// 11</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">...rest</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> rest.<span class="title function_">reduce</span>(<span class="function">(<span class="params">total, current</span>) =&gt;</span> total + current)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>)) <span class="comment">// logs 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)) <span class="comment">// logs 15</span></span><br><span class="line"><span class="keyword">const</span> [first, ...others] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(first) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(others) <span class="comment">// [2,3,4,5]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> parts = [<span class="string">&#x27;shoulders&#x27;</span>, <span class="string">&#x27;knees&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> lyrics = [<span class="string">&#x27;head&#x27;</span>, ...parts, <span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;toes&#x27;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(lyrics) <span class="comment">// [&#x27;head&#x27;, &#x27;shoulders&#x27;, &#x27;knees&#x27;, &#x27;and&#x27;, &#x27;toes&#x27;]</span></span><br></pre></td></tr></table></figure><h2 id="53-ä»€ä¹ˆæ˜¯é»˜è®¤å‚æ•°ï¼Ÿ"><a href="#53-ä»€ä¹ˆæ˜¯é»˜è®¤å‚æ•°ï¼Ÿ" class="headerlink" title="53. ä»€ä¹ˆæ˜¯é»˜è®¤å‚æ•°ï¼Ÿ"></a>53. ä»€ä¹ˆæ˜¯é»˜è®¤å‚æ•°ï¼Ÿ</h2><p>åœ¨ ES6 ä¸­å£°æ˜å‡½æ•°æ—¶å¯ä»¥ç»™å‚æ•°æ·»åŠ é»˜è®¤å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="comment">// function add(a, b) &#123;</span></span><br><span class="line"><span class="comment">//   a = a || 0</span></span><br><span class="line"><span class="comment">//   b = b || 0</span></span><br><span class="line"><span class="comment">//   return a + b</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a = <span class="number">0</span>, b = <span class="number">0</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºé»˜è®¤å‚æ•°ä½¿ç”¨è§£æ„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getFirst</span>(<span class="params">[first, ...rest] = [<span class="number">0</span>, <span class="number">1</span>]</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> first</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getFirst</span>() <span class="comment">// 0</span></span><br><span class="line"><span class="title function_">getFirst</span>([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]) <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getArr</span>(<span class="params">&#123; nums &#125; = &#123; nums: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>] &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getArr</span>() <span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line"><span class="title function_">getArr</span>(&#123; <span class="attr">nums</span>: [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>] &#125;) <span class="comment">// [5,4,3,2,1]</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜å¯ä»¥å°†å…ˆå®šä¹‰çš„å‚æ•°ç”¨äºåå®šä¹‰çš„å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doSomethingWithValue</span>(<span class="params">value = <span class="string">&#x27;Hello World&#x27;</span>, callback = () =&gt; &#123; <span class="variable language_">console</span>.log(value) &#125;</span>) &#123;</span><br><span class="line">    <span class="title function_">callback</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">doSomethingWithValue</span>() <span class="comment">// &quot;Hello World&quot;</span></span><br></pre></td></tr></table></figure><h2 id="54-ä»€ä¹ˆæ˜¯åŒ…è£…å¯¹è±¡ï¼Ÿ"><a href="#54-ä»€ä¹ˆæ˜¯åŒ…è£…å¯¹è±¡ï¼Ÿ" class="headerlink" title="54. ä»€ä¹ˆæ˜¯åŒ…è£…å¯¹è±¡ï¼Ÿ"></a>54. ä»€ä¹ˆæ˜¯åŒ…è£…å¯¹è±¡ï¼Ÿ</h2><p>é™¤äº† <code>null</code> å’Œ <code>undefined</code>ï¼Œåƒ <code>string</code>ï¼Œ<code>number</code> å’Œ <code>boolean</code> ç­‰è¿™äº›åŸå§‹æ•°æ®ç±»å‹ï¼Œå®ƒä»¬è™½ç„¶ä¸æ˜¯ <code>object</code> ä½†ä¹Ÿéƒ½æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;marko&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> name) <span class="comment">//  &quot;string&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name.<span class="title function_">toUpperCase</span>()) <span class="comment">//  &quot;MARKO&quot;</span></span><br></pre></td></tr></table></figure><p>åŸå› æ˜¯å®ƒè¢«ä¸´æ—¶çš„è½¬ä¸ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œé™¤äº† <code>null</code> å’Œ <code>undefined</code> æ‰€æœ‰åŸå§‹ç±»å‹éƒ½æœ‰è‡ªå·±çš„åŒ…è£…å¯¹è±¡ï¼Œåˆ›å»ºçš„æ–°å¯¹è±¡åœ¨æˆ‘ä»¬å®Œæˆå±æ€§è®¿é—®æˆ–æ–¹æ³•è°ƒç”¨åä¼šè¢«ç«‹å³æ¸…é™¤ã€‚</p><p>å®ƒå®é™…å·¥ä½œæ—¶å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">String</span>(name).<span class="title function_">toUpperCase</span>())</span><br></pre></td></tr></table></figure><h2 id="55-éšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#55-éšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="55. éšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>55. éšå¼è½¬æ¢å’Œæ˜¾å¼è½¬æ¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>éšå¼è½¬æ¢æ˜¯æŒ‡æ— éœ€æˆ‘ä»¬æ‰‹åŠ¨ç¼–ç ï¼Œåœ¨æ‰§è¡ŒæŸäº›æ“ä½œæ—¶å€¼è‡ªåŠ¨è½¬ä¸ºåˆ«çš„ç±»å‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> + <span class="string">&#x27;6&#x27;</span>) <span class="comment">// 16</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">false</span> + <span class="literal">true</span>) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">6</span> * <span class="string">&#x27;2&#x27;</span>) <span class="comment">// 12</span></span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºè½¬æ¢æ˜¯æŒ‡æˆ‘ä»¬æ‰‹åŠ¨å°†å€¼è½¬æ¢ä¸ºæˆ‘ä»¬æƒ³è¦çš„ç±»å‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> + <span class="title class_">Number</span>(<span class="string">&#x27;6&#x27;</span>)) <span class="comment">// 7</span></span><br></pre></td></tr></table></figure><h2 id="56-NaN-æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯-NaNï¼Ÿ"><a href="#56-NaN-æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯-NaNï¼Ÿ" class="headerlink" title="56. NaN æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯ NaNï¼Ÿ"></a>56. <code>NaN</code> æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯ <code>NaN</code>ï¼Ÿ</h2><p><code>NaN</code>ï¼ˆNot a Numberï¼‰è¡¨ç¤ºéæ•°å­—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(&#123;&#125;)) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><p>JS æœ‰ä¸€ä¸ªå†…ç½®æ–¹æ³• <code>isNaN</code>ï¼Œç”¨äºåˆ¤æ–­å€¼æ˜¯å¦ä¸º <code>NaN</code>ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹æ³•æœ‰ä¸€äº›å¥‡æ€ªçš„è¡Œä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>()) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="literal">undefined</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(&#123;&#125;)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="title class_">String</span>(<span class="string">&#x27;a&#x27;</span>))) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="function">() =&gt;</span> &#123;&#125;)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å³ä½¿ç»™å‡ºçš„å€¼ä¸æ˜¯ <code>NaN</code> ä¹Ÿä¼šè¿”å› <code>true</code>ï¼Œæ‰€ä»¥è¿™é‡Œå»ºè®®ä½¿ç”¨ <code>Number.isNaN</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="title class_">Number</span>.<span class="property">NaN</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>()) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="literal">undefined</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(&#123;&#125;)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="title class_">String</span>(<span class="string">&#x27;a&#x27;</span>))) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="function">() =&gt;</span> &#123;&#125;)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºåœ¨ JS ä¸­ <code>NaN</code> æ˜¯å”¯ä¸€ä¸€ä¸ªä¸ç­‰äºè‡ªèº«çš„å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•åˆ¤æ–­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">checkIfNaN</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> value !== value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="57-æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Ÿ"><a href="#57-æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Ÿ" class="headerlink" title="57. æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Ÿ"></a>57. æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Ÿ</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Array.isArray()</code> æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯æ•°ç»„ï¼Œå®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼è¡¨ç¤ºç›®æ ‡å€¼æ˜¯å¦æ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(<span class="number">5</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(<span class="string">&#x27;&#x27;</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>()) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(<span class="literal">null</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(&#123; <span class="attr">length</span>: <span class="number">5</span> &#125;)) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>([])) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>) <span class="comment">// true  é²œä¸ºäººçŸ¥çš„äº‹ Array.prototype ä¹Ÿæ˜¯æ•°ç»„</span></span><br></pre></td></tr></table></figure><h2 id="58-æ€ä¹ˆä¸ä½¿ç”¨-åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦å¶æ•°ï¼Ÿ"><a href="#58-æ€ä¹ˆä¸ä½¿ç”¨-åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦å¶æ•°ï¼Ÿ" class="headerlink" title="58. æ€ä¹ˆä¸ä½¿ç”¨ % åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦å¶æ•°ï¼Ÿ"></a>58. æ€ä¹ˆä¸ä½¿ç”¨ <code>%</code> åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦å¶æ•°ï¼Ÿ</h2><p>å¯ä»¥ä½¿ç”¨<strong>æŒ‰ä½ä¸</strong>ï¼ˆ<code>&amp;</code>ï¼‰è¿ç®—ç¬¦ï¼Œå®ƒåœ¨ä¸¤ä¸ªæ“ä½œæ•°å¯¹åº”çš„äºŒè¿›ä½éƒ½ä¸º1æ—¶ï¼Œè¯¥ä½çš„ç»“æœæ‰ä¸º1ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">5</span> <span class="comment">// 00000000000000000000000000000101</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="number">4</span> <span class="comment">// 00000000000000000000000000000100</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="number">1</span> <span class="comment">// 00000000000000000000000000000011</span></span><br><span class="line"><span class="comment">// a &amp; c       00000000000000000000000000000001</span></span><br><span class="line"><span class="comment">// b &amp; c       00000000000000000000000000000000</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a &amp; c) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b &amp; c) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>&amp;</code> æ¥åˆ¤æ–­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isEven</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (num &amp; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">3</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">8</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">0</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¿™ä¸ªæ–¹æ³•éš¾ä»¥ç†è§£ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªé€’å½’å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isEven</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (num &lt; <span class="number">0</span> || num === <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">isEven</span>(num - <span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">3</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">8</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEven</span>(<span class="number">0</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="59-å¦‚ä½•åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Ÿ"><a href="#59-å¦‚ä½•åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Ÿ" class="headerlink" title="59. å¦‚ä½•åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Ÿ"></a>59. å¦‚ä½•åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Ÿ</h2><ul><li><p>ä½¿ç”¨ <code>in</code> è¿ç®—ç¬¦ï¼Œè¯­æ³•ä¸º <code>propName in obj</code> å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">prop</span>: <span class="string">&#x27;bwahahah&#x27;</span>,</span><br><span class="line">    <span class="attr">prop2</span>: <span class="string">&#x27;hweasa&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;prop&#x27;</span> <span class="keyword">in</span> obj) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;prop1&#x27;</span> <span class="keyword">in</span> obj) <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨å¯¹è±¡çš„ <code>hasOwnProperty</code> æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;prop2&#x27;</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;prop1&#x27;</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <code>obj[propName]</code>ï¼Œå¦‚æœå¯¹è±¡ä¸­ä¸å­˜åœ¨è¯¥å±æ€§ä¼šè¿”å› <code>undefined</code>ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o[<span class="string">&#x27;prop&#x27;</span>]) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o[<span class="string">&#x27;prop1&#x27;</span>]) <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="60-Ajax-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#60-Ajax-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="60. Ajax æ˜¯ä»€ä¹ˆï¼Ÿ"></a>60. Ajax æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>Ajaxï¼ˆAsynchronous JavaScript and XMLï¼‰æ˜¯ä¸€ç»„ç”¨äºå¼‚æ­¥æ˜¾ç¤ºæ•°æ®çš„ç›¸å…³æŠ€æœ¯ï¼Œå½“ä½¿ç”¨ç»“åˆäº†è¿™äº›æŠ€æœ¯çš„ Ajax æ¨¡å‹ä»¥åï¼Œç½‘é¡µåº”ç”¨èƒ½å¤Ÿå¿«é€Ÿåœ°å°†å¢é‡æ›´æ–°å‘ˆç°åœ¨ç”¨æˆ·ç•Œé¢ä¸Šï¼Œè€Œä¸éœ€è¦é‡è½½ï¼ˆåˆ·æ–°ï¼‰æ•´ä¸ªé¡µé¢ã€‚</p><blockquote><p>å°½ç®¡ X åœ¨ Ajax ä¸­ä»£è¡¨ XMLï¼Œä½†ç”±äº JSON çš„è®¸å¤šä¼˜åŠ¿ï¼Œæ¯”å¦‚æ›´åŠ è½»é‡ä»¥åŠä½œä¸º Javascript çš„ä¸€éƒ¨åˆ†ï¼Œç›®å‰ JSON çš„ä½¿ç”¨æ¯” XML æ›´åŠ æ™®éã€‚</p></blockquote><h2 id="61-åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ"><a href="#61-åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ" class="headerlink" title="61. åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ"></a>61. åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ</h2><ul><li><p>ä½¿ç”¨å¯¹è±¡å­—é¢é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Mark&#x27;</span>,</span><br><span class="line">    <span class="title function_">greeting</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`Hi, I&#x27;m <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">greeting</span>()) <span class="comment">// Hi, I&#x27;m Mark</span></span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨æ„é€ å‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">greeting</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Hi, I&#x27;m <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mark = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Mark&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mark.<span class="title function_">greeting</span>()) <span class="comment">// Hi, I&#x27;m Mark</span></span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <code>Object.create()</code> æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> n = &#123;</span><br><span class="line">    <span class="title function_">greeting</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`Hi, I&#x27;m <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o = <span class="title class_">Object</span>.<span class="title function_">create</span>(n)</span><br><span class="line"></span><br><span class="line">o.<span class="property">name</span> = <span class="string">&#x27;Mark&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="title function_">greeting</span>()) <span class="comment">// Hi, I&#x27;m Mark</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="62-Object-seal-å’Œ-Object-freeze-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#62-Object-seal-å’Œ-Object-freeze-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="62. Object.seal å’Œ Object.freeze æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>62. <code>Object.seal</code> å’Œ <code>Object.freeze</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><ul><li><strong><code>Object.seal()</code></strong> æ–¹æ³•å°é—­ä¸€ä¸ªå¯¹è±¡ï¼Œé˜»æ­¢æ·»åŠ æ–°å±æ€§å¹¶å°†æ‰€æœ‰ç°æœ‰å±æ€§æ ‡è®°ä¸ºä¸å¯é…ç½®ï¼Œå±æ€§å€¼å¦‚æœåŸæ¥æ˜¯å¯å†™çš„å°±å¯ä»¥æ”¹å˜ã€‚</li><li><strong><code>Object.freeze()</code></strong> æ–¹æ³•å†»ç»“ä¸€ä¸ªå¯¹è±¡ã€‚ä¸€ä¸ªè¢«å†»ç»“çš„å¯¹è±¡å†ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ï¼›å†»ç»“äº†ä¸€ä¸ªå¯¹è±¡åˆ™ä¸èƒ½å‘è¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ï¼Œä¸èƒ½åˆ é™¤å·²æœ‰å±æ€§ï¼Œä¸èƒ½ä¿®æ”¹è¯¥å¯¹è±¡å·²æœ‰å±æ€§çš„å¯æšä¸¾æ€§ã€å¯é…ç½®æ€§ã€å¯å†™æ€§ï¼Œä»¥åŠä¸èƒ½ä¿®æ”¹å·²æœ‰å±æ€§çš„å€¼ã€‚æ­¤å¤–ï¼Œå†»ç»“ä¸€ä¸ªå¯¹è±¡åè¯¥å¯¹è±¡çš„åŸå‹ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ã€‚</li></ul><h2 id="63-ä½¿ç”¨-in-è¿ç®—ç¬¦å’Œ-hasOwnProperty-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#63-ä½¿ç”¨-in-è¿ç®—ç¬¦å’Œ-hasOwnProperty-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="63. ä½¿ç”¨ in è¿ç®—ç¬¦å’Œ hasOwnProperty æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>63. ä½¿ç”¨ <code>in</code> è¿ç®—ç¬¦å’Œ <code>hasOwnProperty</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>å®ƒä»¬éƒ½èƒ½ç”¨æ¥éªŒè¯å¯¹è±¡æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äº <code>in</code> è¿ç®—ç¬¦ä¼šåœ¨å¯¹è±¡è‡ªèº«æ‰¾ä¸åˆ°å¯¹åº”å±æ€§æ—¶ç»§ç»­æŸ¥æ‰¾å®ƒçš„åŸå‹é“¾ï¼Œè€Œ  <code>hasOwnProperty</code> åªåœ¨å¯¹è±¡è‡ªèº«æŸ¥æ‰¾ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;zxx&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> obj) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;toString&#x27;</span> <span class="keyword">in</span> obj) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;name&#x27;</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;toString&#x27;</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="64-JS-ä¸­å¤„ç†å¼‚æ­¥ä»£ç æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ"><a href="#64-JS-ä¸­å¤„ç†å¼‚æ­¥ä»£ç æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ" class="headerlink" title="64. JS ä¸­å¤„ç†å¼‚æ­¥ä»£ç æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ"></a>64. JS ä¸­å¤„ç†å¼‚æ­¥ä»£ç æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ</h2><ul><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%EF%BC%9F">å›è°ƒå‡½æ•°</a>ï¼›</li><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF-Promise%EF%BC%9F">Promise</a>ï¼›</li><li><a href="#async-await-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F">async / await</a>;</li></ul><h2 id="65-å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#65-å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="65. å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>65. å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><p>å…ˆçœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">hoistedFunc</span>() <span class="comment">// I am hoisted</span></span><br><span class="line"><span class="title function_">notHoistedFunc</span>() <span class="comment">// Uncaught TypeError: notHoistedFunc is not a function</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">hoistedFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;I am hoisted&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> notHoistedFunc = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;I will not be hoisted!&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡º å‡½æ•°å£°æ˜ ä¼šå°†æ•´ä¸ªå‡½æ•°æå‡ï¼Œè€Œå‡½æ•°è¡¨è¾¾å¼ç›¸å½“äºæŠŠå‡½æ•°èµ‹ç»™äº†ä¸€ä¸ªå˜é‡ï¼Œåªä¼šå¯¹<a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%EF%BC%9F">å˜é‡çš„å£°æ˜æå‡</a>ã€‚</p><h2 id="66-å‡½æ•°æœ‰å‡ ç§è°ƒç”¨çš„æ–¹å¼ï¼Ÿ"><a href="#66-å‡½æ•°æœ‰å‡ ç§è°ƒç”¨çš„æ–¹å¼ï¼Ÿ" class="headerlink" title="66. å‡½æ•°æœ‰å‡ ç§è°ƒç”¨çš„æ–¹å¼ï¼Ÿ"></a>66. å‡½æ•°æœ‰å‡ ç§è°ƒç”¨çš„æ–¹å¼ï¼Ÿ</h2><p>JS ä¸­æœ‰4ç§æ–¹æ³•å¯ä»¥è°ƒç”¨å‡½æ•°ï¼Œè°ƒç”¨æ–¹å¼å†³å®šäº†å‡½æ•° <code>this</code> æˆ–å‡½æ•°æ‰€æœ‰è€…å¯¹è±¡çš„å€¼ï¼›</p><ul><li><p>ä½œä¸ºå‡½æ•°è°ƒç”¨ - å¦‚æœå‡½æ•°ä¸æ˜¯ä½œä¸ºæ–¹æ³•ã€æ„é€ å‡½æ•°æˆ–ä½¿ç”¨ <code>apply</code>ï¼Œ<code>call</code> æ–¹æ³•è°ƒç”¨çš„ï¼Œé‚£ä¹ˆå®ƒå°†ä½œä¸ºå‡½æ•°è°ƒç”¨ã€‚æ­¤å‡½æ•°çš„æ‰€æœ‰è€…å¯¹è±¡å°†æ˜¯ <code>window</code> å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">add</span>(<span class="number">1</span>, <span class="number">5</span>) <span class="comment">// window  è¿”å› 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o = &#123;</span><br><span class="line">    <span class="title function_">method</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">        <span class="title function_">callback</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">o.<span class="title function_">method</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ä½œä¸ºæ–¹æ³•çš„è°ƒç”¨ - å¦‚æœå¯¹è±¡çš„å±æ€§å…·æœ‰å‡½æ•°å€¼ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸ºæ–¹æ³•ã€‚å½“è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œè¯¥æ–¹æ³•çš„ <code>this</code> å€¼å°†æ˜¯è¯¥å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> details = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Marko&#x27;</span>,</span><br><span class="line">    <span class="title function_">getName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">details.<span class="title function_">getName</span>() <span class="comment">// Marko</span></span><br></pre></td></tr></table></figure></li><li><p>ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨ - å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨å®ƒä¹‹å‰ä½¿ç”¨ <code>new</code> å…³é”®å­—è°ƒç”¨ï¼Œé‚£ä¹ˆå®ƒè¢«ç§°ä¸ºå‡½æ•°æ„é€ å‡½æ•°ã€‚å°†åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œthis å°†æŒ‡å‘è¯¥å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Employee</span>(<span class="params">name, position, yearHired</span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ &#123;&#125;</span></span><br><span class="line">    <span class="comment">// æŠŠ this æŒ‡å‘è¿™ä¸ªç©ºå¯¹è±¡</span></span><br><span class="line">    <span class="comment">// this =&gt; &#123;&#125;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">position</span> = position</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">yearHired</span> = yearHired</span><br><span class="line">    <span class="comment">// ç»§æ‰¿è‡ª Employee.prototype</span></span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰æŒ‡å®šæ˜¾å¼çš„è¿”å›å€¼  åˆ™éšå¼è¿”å› this</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> emp = <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&#x27;Marko Polo&#x27;</span>, <span class="string">&#x27;Software Developer&#x27;</span>, <span class="number">2017</span>)</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <code>apply</code> æˆ– <code>call</code> æ–¹æ³•è°ƒç”¨ - å¦‚æœæˆ‘ä»¬æƒ³æ˜ç¡®æŒ‡å®šå‡½æ•°çš„ <code>this</code> å€¼æˆ–æ‰€æœ‰è€…å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•è°ƒç”¨å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">result</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">result</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reduceAdd</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = <span class="variable language_">arguments</span>.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        result += <span class="variable language_">arguments</span>[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">result</span> = result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">reduceAdd.<span class="title function_">apply</span>(obj1, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// reduceAdd æ‰§è¡Œæ—¶å‡½æ•°å†… this æŒ‡å‘ obj1 å¯¹è±¡</span></span><br><span class="line">reduceAdd.<span class="title function_">call</span>(obj2, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">// reduceAdd æ‰§è¡Œæ—¶å‡½æ•°å†… this æŒ‡å‘ obj2 å¯¹è±¡</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="67-ä»€ä¹ˆæ˜¯è®°å¿†åŒ–å‡½æ•°ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#67-ä»€ä¹ˆæ˜¯è®°å¿†åŒ–å‡½æ•°ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="67. ä»€ä¹ˆæ˜¯è®°å¿†åŒ–å‡½æ•°ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>67. ä»€ä¹ˆæ˜¯è®°å¿†åŒ–å‡½æ•°ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p>è®°å¿†åŒ–ï¼ˆmemoizationï¼‰æ˜¯æ„å»ºä¸€ä¸ªå‡½æ•°çš„è¿‡ç¨‹è¯¥å‡½æ•°èƒ½å¤Ÿè®°ä½å®ƒä¹‹å‰è®¡ç®—çš„ç»“æœæˆ–å€¼ã€‚ç”¨é€”æ˜¯å¦‚æœè¯¥å‡½æ•°å·²ç»åœ¨ä¸Šæ¬¡ä½¿ç”¨ç›¸åŒå‚æ•°çš„è®¡ç®—ä¸­æ‰§è¡Œè¿‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥é¿å…è¯¥å‡½æ•°çš„è®¡ç®—ã€‚è¿™èƒ½å¤ŸèŠ‚çœæ—¶é—´ï¼Œä½†ä¹Ÿä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜æ¥ä¿å­˜ä¹‹å‰æ‰§è¡Œçš„ç»“æœã€‚</p><h2 id="68-å®ç°ä¸€ä¸ªè®°å¿†åŒ–è¾…åŠ©å‡½æ•°ã€‚"><a href="#68-å®ç°ä¸€ä¸ªè®°å¿†åŒ–è¾…åŠ©å‡½æ•°ã€‚" class="headerlink" title="68. å®ç°ä¸€ä¸ªè®°å¿†åŒ–è¾…åŠ©å‡½æ•°ã€‚"></a>68. å®ç°ä¸€ä¸ªè®°å¿†åŒ–è¾…åŠ©å‡½æ•°ã€‚</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> slice = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">memoize</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> cache = &#123;&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> params = slice.<span class="title function_">call</span>(args)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(params)</span><br><span class="line">        <span class="keyword">if</span> (cache[params]) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;cached&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span> cache[params]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> result = <span class="title function_">fn</span>(...args)</span><br><span class="line">            cache[params] = result</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`not cached`</span>)</span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">makeFullName</span> = (<span class="params">fName, lName</span>) =&gt; <span class="string">`<span class="subst">$&#123;fName&#125;</span> <span class="subst">$&#123;lName&#125;</span>`</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">reduceAdd</span> = (<span class="params">numbers, startingValue = <span class="number">0</span></span>) =&gt;</span><br><span class="line">numbers.<span class="title function_">reduce</span>(<span class="function">(<span class="params">total, cur</span>) =&gt;</span> total + cur, startingValue)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> memoizedMakeFullName = <span class="title function_">memoize</span>(makeFullName)</span><br><span class="line"><span class="keyword">const</span> memoizedReduceAdd = <span class="title function_">memoize</span>(reduceAdd)</span><br><span class="line"></span><br><span class="line"><span class="title function_">memoizedMakeFullName</span>(<span class="string">&#x27;Marko&#x27;</span>, <span class="string">&#x27;Polo&#x27;</span>)</span><br><span class="line"><span class="title function_">memoizedMakeFullName</span>(<span class="string">&#x27;Marko&#x27;</span>, <span class="string">&#x27;Polo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="title function_">memoizedReduceAdd</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">5</span>)</span><br><span class="line"><span class="title function_">memoizedReduceAdd</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">5</span>)</span><br></pre></td></tr></table></figure><h2 id="69-ä¸ºä»€ä¹ˆ-typeof-null-ä¼šè¿”å›-objectï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦-nullï¼Ÿ"><a href="#69-ä¸ºä»€ä¹ˆ-typeof-null-ä¼šè¿”å›-objectï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦-nullï¼Ÿ" class="headerlink" title="69. ä¸ºä»€ä¹ˆ typeof null ä¼šè¿”å› objectï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ nullï¼Ÿ"></a>69. ä¸ºä»€ä¹ˆ <code>typeof null</code> ä¼šè¿”å› <code>object</code>ï¼Ÿæ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ <code>null</code>ï¼Ÿ</h2><p>ç®€å•æ¥è¯´ï¼Œ<code>typeof null</code> çš„ç»“æœä¸º <code>Object</code> æ˜¯ JS è®¾è®¡ä¹‹åˆçš„ä¸€ä¸ª <code>bug</code>ã€‚åæ¥æè®®å°† <code>typeof null == &#39;object&#39;</code> æ›´æ”¹ä¸º <code>typeof null == &#39;null&#39;</code> ä½†è¢«æ‹’ç»äº†ï¼Œå› ä¸ºè¿™ä¼šç»™ç°æœ‰é¡¹ç›®å’Œè½¯ä»¶å¸¦æ¥æ›´å¤šé”™è¯¯ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>===</code> æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ <code>null</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isNull</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> value === <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="70-JS-ä¸­çš„-new-å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#70-JS-ä¸­çš„-new-å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="70. JS ä¸­çš„ new å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>70. JS ä¸­çš„ <code>new</code> å…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2><p><code>new</code> å…³é”®å­—ç”¨äºåˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Employee</span>(<span class="params">name, position, yearHired</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">position</span> = position</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">yearHired</span> = yearHired</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> emp = <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&#x27;Marko Polo&#x27;</span>, <span class="string">&#x27;Software Developer&#x27;</span>, <span class="number">2017</span>)</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ <code>new</code> å…³é”®å­—åšäº†å››ä»¶äº‹ï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼ˆ<code>&#123;&#125;</code>ï¼‰ï¼›</li><li>ä¸ºåˆ›å»ºçš„ç©ºå¯¹è±¡æ·»åŠ å±æ€§ <code>__proto__</code>ï¼Œå°†è¯¥å±æ€§é“¾æ¥è‡³æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼›</li><li>å°†æ­¥éª¤1åˆ›å»ºçš„å¯¹è±¡ä½œä¸º <code>this</code> çš„ä¸Šä¸‹æ–‡ï¼›</li><li>å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰æŒ‡å®šè¿”å›å€¼ï¼Œåˆ™è¿”å› <code>this</code>ã€‚</li></ol><p>å½“ä»£ç  <code>new Employee()</code> æ‰§è¡Œæ—¶ï¼Œä¼šå‘ç”Ÿä¸€ä¸‹å‡ ä»¶äº‹ï¼š</p><ol><li>ä¸€ä¸ªç»§æ‰¿è‡ª <code>Employee.prototype</code> çš„æ–°å¯¹è±¡è¢«åˆ›å»ºã€‚</li><li>ä½¿ç”¨æŒ‡å®šçš„å‚æ•°è°ƒç”¨æ„é€ å‡½æ•° <code>Employee</code>ï¼Œå¹¶å°† <code>this</code> ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚<code>new Employee</code> ç­‰åŒäº <code>new Employee()</code>ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æŒ‡å®šå‚æ•°åˆ—è¡¨ï¼Œ<code>Employee</code> ä¸å¸¦ä»»ä½•å‚æ•°è°ƒç”¨çš„æƒ…å†µã€‚</li><li>ç”±æ„é€ å‡½æ•°è¿”å›çš„å¯¹è±¡å°±æ˜¯ <code>new</code> è¡¨è¾¾å¼çš„ç»“æœã€‚å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰æ˜¾å¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä½¿ç”¨æ­¥éª¤ 1 åˆ›å»ºçš„å¯¹è±¡ã€‚</li></ol><blockquote><p><strong>é“¾æ¥</strong> ğŸ”—<br><a href="https://dev.to/macmacky/70-javascript-interview-questions-5gfi#56-what-is-nan-and-how-to-check-if-a-value-is-nan">70 JavaScript Interview Questions</a><br><a href="https://developer.mozilla.org/">MDN</a><br><a href="https://wangdoc.com/javascript/">Javascript æ•™ç¨‹ - ç½‘é“</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git rebase ç”¨æ³•è¯¦è§£ä¸å·¥ä½œåŸç†(è½¬è½½)</title>
      <link href="/posts/dfe0e190/"/>
      <url>/posts/dfe0e190/</url>
      
        <content type="html"><![CDATA[<p>ä»¥å‰å¯¹ <code>git rebase -i</code> çš„ç”¨æ³•ä¸€ç›´æ˜¯ä¸€çŸ¥åŠè§£ï¼Œä¸€æ¬¡åœ¨éœ€è¦åˆå¹¶å¤šä¸ªæäº¤æ—¶åˆšå¥½ç”¨åˆ°ï¼Œä¸€é¡¿æ“ä½œå·®ç‚¹æŠŠæäº¤éƒ½æä¸¢äº†ï¼Œå¹¸å¥½åé¢é¡ºåˆ©æ‰¾å›ï¼Œå› æ­¤è®°å½•ä¸€ä¸‹å­¦ä¹  <code>rebase</code> å‘½ä»¤çš„è¿‡ç¨‹ã€‚</p><h2 id="ç†è§£-Rebase-å‘½ä»¤"><a href="#ç†è§£-Rebase-å‘½ä»¤" class="headerlink" title="ç†è§£ Rebase å‘½ä»¤"></a>ç†è§£ Rebase å‘½ä»¤</h2><p><code>git rebase</code> å‘½ä»¤çš„æ–‡æ¡£æè¿°æ˜¯ <code>Reapply commits on top of another base tip</code>ï¼Œä»å­—é¢ä¸Šç†è§£æ˜¯ã€Œåœ¨å¦ä¸€ä¸ªåŸºç«¯ä¹‹ä¸Šé‡æ–°åº”ç”¨æäº¤ã€ï¼Œè¿™ä¸ªå®šä¹‰å¬èµ·æ¥æœ‰ç‚¹æŠ½è±¡ï¼Œæ¢ä¸ªè§’åº¦å¯ä»¥ç†è§£ä¸ºã€Œå°†åˆ†æ”¯çš„åŸºç¡€ä»ä¸€ä¸ªæäº¤æ”¹æˆå¦ä¸€ä¸ªæäº¤ï¼Œä½¿å…¶çœ‹èµ·æ¥å°±åƒæ˜¯ä»å¦ä¸€ä¸ªæäº¤ä¸­åˆ›å»ºäº†åˆ†æ”¯ä¸€æ ·ã€ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302081158447.png" alt="git-rebase.png"></p><p>å‡è®¾æˆ‘ä»¬ä» <code>Master</code> çš„æäº¤ A åˆ›å»ºäº† <code>Feature</code> åˆ†æ”¯è¿›è¡Œæ–°çš„åŠŸèƒ½å¼€å‘ï¼Œè¿™æ—¶ A å°±æ˜¯ <code>Feature</code> çš„åŸºç«¯ã€‚æ¥ç€ <code>Matser</code> æ–°å¢äº†ä¸¤ä¸ªæäº¤ B å’Œ Cï¼Œ <code>Feature</code> æ–°å¢äº†ä¸¤ä¸ªæäº¤ D å’Œ Eã€‚ç°åœ¨æˆ‘ä»¬å‡ºäºæŸç§åŸå› ï¼Œæ¯”å¦‚æ–°åŠŸèƒ½çš„å¼€å‘ä¾èµ– Bã€C æäº¤ï¼Œéœ€è¦å°† <code>Master</code> çš„ä¸¤ä¸ªæ–°æäº¤æ•´åˆåˆ° <code>Feature</code> åˆ†æ”¯ï¼Œä¸ºäº†ä¿æŒæäº¤å†å²çš„æ•´æ´ï¼Œæˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ° <code>Feature</code> åˆ†æ”¯æ‰§è¡Œ <code>rebase</code> æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase master</span><br></pre></td></tr></table></figure><p><code>rebase</code> çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯é¦–å…ˆæ‰¾åˆ°è¿™ä¸¤ä¸ªåˆ†æ”¯ï¼ˆå³å½“å‰åˆ†æ”¯ <code>Feature</code>ã€ <code>rebase</code> æ“ä½œçš„ç›®æ ‡åŸºåº•åˆ†æ”¯ <code>Master</code>ï¼‰ çš„æœ€è¿‘å…±åŒç¥–å…ˆæäº¤ Aï¼Œç„¶åå¯¹æ¯”å½“å‰åˆ†æ”¯ç›¸å¯¹äºè¯¥ç¥–å…ˆæäº¤çš„å†æ¬¡æäº¤ï¼ˆD å’Œ Eï¼‰ï¼Œæå–ç›¸åº”çš„ä¿®æ”¹å¹¶å­˜ä¸ºä¸´æ—¶æ–‡ä»¶ï¼Œç„¶åå°†å½“å‰åˆ†æ”¯æŒ‡å‘ç›®æ ‡åŸºåº• <code>Master</code> æ‰€æŒ‡å‘çš„æäº¤ C, æœ€åä»¥æ­¤ä½œä¸ºæ–°çš„åŸºç«¯å°†ä¹‹å‰å¦å­˜ä¸ºä¸´æ—¶æ–‡ä»¶çš„ä¿®æ”¹ä¾åºåº”ç”¨ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‰ä¸Šæ–‡ç†è§£æˆå°† <code>Feature</code> åˆ†æ”¯çš„åŸºç¡€ä»æäº¤ A æ”¹æˆäº†æäº¤ Cï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯ä»æäº¤ C åˆ›å»ºäº†è¯¥åˆ†æ”¯ï¼Œå¹¶æäº¤äº† D å’Œ Eã€‚ä½†å®é™…ä¸Šè¿™åªæ˜¯ã€Œçœ‹èµ·æ¥ã€ï¼Œåœ¨å†…éƒ¨ Git å¤åˆ¶äº†æäº¤ D å’Œ E çš„å†…å®¹ï¼Œåˆ›å»ºæ–°çš„æäº¤ Dâ€™ å’Œ Eâ€™ å¹¶å°†å…¶åº”ç”¨åˆ°ç‰¹å®šåŸºç¡€ä¸Šï¼ˆAâ†’Bâ†’Cï¼‰ã€‚å°½ç®¡æ–°çš„ <code>Feature</code> åˆ†æ”¯å’Œä¹‹å‰çœ‹èµ·æ¥æ˜¯ä¸€æ ·çš„ï¼Œä½†å®ƒæ˜¯ç”±å…¨æ–°çš„æäº¤ç»„æˆçš„ã€‚</p><p><code>rebase</code> æ“ä½œçš„å®è´¨æ˜¯ä¸¢å¼ƒä¸€äº›ç°æœ‰çš„æäº¤ï¼Œç„¶åç›¸åº”åœ°æ–°å»ºä¸€äº›å†…å®¹ä¸€æ ·ä½†å®é™…ä¸Šä¸åŒçš„æäº¤ã€‚</p><h2 id="ä¸»è¦ç”¨é€”"><a href="#ä¸»è¦ç”¨é€”" class="headerlink" title="ä¸»è¦ç”¨é€”"></a>ä¸»è¦ç”¨é€”</h2><p><code>rebase</code> é€šå¸¸ç”¨äºé‡å†™æäº¤å†å²ã€‚ä¸‹é¢çš„ä½¿ç”¨åœºæ™¯åœ¨å¤§å¤šæ•° Git å·¥ä½œæµä¸­æ˜¯ååˆ†å¸¸è§çš„ï¼š</p><ul><li>æˆ‘ä»¬ä» <code>master</code> åˆ†æ”¯æ‹‰å–äº†ä¸€æ¡ <code>feature</code> åˆ†æ”¯åœ¨æœ¬åœ°è¿›è¡ŒåŠŸèƒ½å¼€å‘</li><li>è¿œç¨‹çš„ <code>master</code> åˆ†æ”¯åœ¨ä¹‹ååˆåˆå¹¶äº†ä¸€äº›æ–°çš„æäº¤</li><li>æˆ‘ä»¬æƒ³åœ¨ <code>feature</code> åˆ†æ”¯é›†æˆ <code>master</code> çš„æœ€æ–°æ›´æ”¹</li></ul><h3 id="rebase-å’Œ-merge-çš„åŒºåˆ«"><a href="#rebase-å’Œ-merge-çš„åŒºåˆ«" class="headerlink" title="rebase å’Œ merge çš„åŒºåˆ«"></a>rebase å’Œ merge çš„åŒºåˆ«</h3><p>ä»¥ä¸Šåœºæ™¯åŒæ ·å¯ä»¥ä½¿ç”¨ <code>merge</code> æ¥è¾¾æˆç›®çš„ï¼Œä½†ä½¿ç”¨ <code>rebase</code> å¯ä»¥ä½¿æˆ‘ä»¬ä¿æŒä¸€ä¸ªçº¿æ€§ä¸”æ›´åŠ æ•´æ´çš„æäº¤å†å²ã€‚å‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹åˆ†æ”¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  D---E feature</span><br><span class="line"> /</span><br><span class="line">A---B---C master</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å°†åˆ†åˆ«ä½¿ç”¨ <code>merge</code> å’Œ <code>rebase</code>ï¼ŒæŠŠ <code>master</code> åˆ†æ”¯çš„ Bã€C æäº¤é›†æˆåˆ° <code>feature</code> åˆ†æ”¯ï¼Œå¹¶åœ¨ <code>feature</code> åˆ†æ”¯æ–°å¢ä¸€ä¸ªæäº¤ Fï¼Œç„¶åå†å°† <code>feature</code> åˆ†æ”¯åˆå…¥ <code>master</code> ï¼Œæœ€åå¯¹æ¯”ä¸¤ç§æ–¹æ³•æ‰€å½¢æˆçš„æäº¤å†å²çš„åŒºåˆ«ã€‚</p><ul><li><p>ä½¿ç”¨ <code>merge</code></p><ol><li>åˆ‡æ¢åˆ° <code>feature</code> åˆ†æ”¯ï¼š <code>git checkout feature</code>ã€‚</li><li>åˆå¹¶ <code>master</code> åˆ†æ”¯çš„æ›´æ–°ï¼š <code>git merge master</code>ã€‚</li><li>æ–°å¢ä¸€ä¸ªæäº¤ Fï¼š <code>git add . &amp;&amp; git commit -m &quot;commit F&quot;</code> ã€‚</li><li>åˆ‡å› <code>master</code> åˆ†æ”¯å¹¶æ‰§è¡Œå¿«è¿›åˆå¹¶ï¼š <code>git chekcout master &amp;&amp; git merge feature</code>ã€‚</li></ol><p>æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302081159353.gif" alt="Dec-30-2020-merge-example"></p><p>æˆ‘ä»¬å°†å¾—åˆ°å¦‚ä¸‹æäº¤å†å²ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 6fa5484 (HEAD -&gt; master, feature) commit F</span><br><span class="line">*   875906b Merge branch <span class="string">&#x27;master&#x27;</span> into feature</span><br><span class="line">|\  </span><br><span class="line">| | 5b05585 commit E</span><br><span class="line">| | f5b0fc0 commit D</span><br><span class="line">* * d017dff commit C</span><br><span class="line">* * 9df916f commit B</span><br><span class="line">|/  </span><br><span class="line">* cb932a6 commit A</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <code>rebase</code></p><p>æ­¥éª¤ä¸ä½¿ç”¨ <code>merge</code> åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ç¬¬ 2 æ­¥çš„å‘½ä»¤æ›¿æ¢æˆï¼š <code>git rebase master</code>ã€‚</p><p>æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302081159624.gif" alt="Dec-30-2020-rebase-example"></p><p>æˆ‘ä»¬å°†å¾—åˆ°å¦‚ä¸‹æäº¤å†å²ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 74199ce (HEAD -&gt; master, feature) commit F</span><br><span class="line">* e7c7111 commit E</span><br><span class="line">* d9623b0 commit D</span><br><span class="line">* 73deeed commit C</span><br><span class="line">* c50221f commit B</span><br><span class="line">* ef13725 commit A</span><br></pre></td></tr></table></figure></li></ul><p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ <code>rebase</code> æ–¹æ³•å½¢æˆçš„æäº¤å†å²æ˜¯å®Œå…¨çº¿æ€§çš„ï¼ŒåŒæ—¶ç›¸æ¯” <code>merge</code> æ–¹æ³•å°‘äº†ä¸€æ¬¡ <code>merge</code> æäº¤ï¼Œçœ‹ä¸Šå»æ›´åŠ æ•´æ´ã€‚</p><h3 id="ä¸ºä»€ä¹ˆè¦ä¿æŒæäº¤å†å²çš„æ•´æ´"><a href="#ä¸ºä»€ä¹ˆè¦ä¿æŒæäº¤å†å²çš„æ•´æ´" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä¿æŒæäº¤å†å²çš„æ•´æ´"></a>ä¸ºä»€ä¹ˆè¦ä¿æŒæäº¤å†å²çš„æ•´æ´</h3><p>ä¸€ä¸ªçœ‹ä¸Šæ›´æ•´æ´çš„æäº¤å†å²æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</p><ol><li>æ»¡è¶³æŸäº›å¼€å‘è€…çš„æ´ç™–ã€‚</li><li>å½“ä½ å› ä¸ºæŸäº› bug éœ€è¦å›æº¯æäº¤å†å²æ—¶ï¼Œæ›´å®¹æ˜“å®šä½åˆ° bug æ˜¯ä»å“ªä¸€ä¸ªæäº¤å¼•å…¥ã€‚å°¤å…¶æ˜¯å½“ä½ éœ€è¦é€šè¿‡ <code>git bisect</code> ä»å‡ åä¸Šç™¾ä¸ªæäº¤ä¸­æ’æŸ¥ bugï¼Œæˆ–è€…æœ‰ä¸€äº›ä½“é‡è¾ƒå¤§çš„åŠŸèƒ½åˆ†æ”¯éœ€è¦é¢‘ç¹çš„ä»è¿œç¨‹çš„ä¸»åˆ†æ”¯æ‹‰å–æ›´æ–°æ—¶ã€‚</li></ol><p>ä½¿ç”¨ <code>rebase</code> æ¥å°†è¿œç¨‹çš„å˜æ›´æ•´åˆåˆ°æœ¬åœ°ä»“åº“æ˜¯ä¸€ç§æ›´å¥½çš„é€‰æ‹©ã€‚ç”¨ <code>merge</code> æ‹‰å–è¿œç¨‹å˜æ›´çš„ç»“æœæ˜¯ï¼Œæ¯æ¬¡ä½ æƒ³è·å–é¡¹ç›®çš„æœ€æ–°è¿›å±•æ—¶ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªå¤šä½™çš„ <code>merge</code> æäº¤ã€‚è€Œä½¿ç”¨ <code>rebase</code> çš„ç»“æœæ›´ç¬¦åˆæˆ‘ä»¬çš„æœ¬æ„ï¼šæˆ‘æƒ³åœ¨å…¶ä»–äººçš„å·²å®Œæˆå·¥ä½œçš„åŸºç¡€ä¸Šè¿›è¡Œæˆ‘çš„æ›´æ”¹ã€‚</p><h3 id="å…¶ä»–é‡å†™æäº¤å†å²çš„æ–¹æ³•"><a href="#å…¶ä»–é‡å†™æäº¤å†å²çš„æ–¹æ³•" class="headerlink" title="å…¶ä»–é‡å†™æäº¤å†å²çš„æ–¹æ³•"></a>å…¶ä»–é‡å†™æäº¤å†å²çš„æ–¹æ³•</h3><p>å½“æˆ‘ä»¬ä»…ä»…åªæƒ³ä¿®æ”¹æœ€è¿‘çš„ä¸€æ¬¡æäº¤æ—¶ï¼Œä½¿ç”¨ <code>git commit --amend</code> ä¼šæ›´åŠ æ–¹ä¾¿ã€‚</p><p>å®ƒé€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p><ul><li>æˆ‘ä»¬åˆšåˆšå®Œæˆäº†ä¸€æ¬¡æäº¤ï¼Œä½†è¿˜æ²¡æœ‰æ¨é€åˆ°å…¬å…±çš„åˆ†æ”¯ã€‚</li><li>çªç„¶å‘ç°ä¸Šä¸ªæäº¤è¿˜ç•™äº†äº›å°å°¾å·´æ²¡æœ‰å®Œæˆï¼Œæ¯”å¦‚ä¸€è¡Œå¿˜è®°åˆ é™¤çš„æ³¨é‡Šæˆ–è€…ä¸€ä¸ªå¾ˆå°çš„ç¬”è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¿«é€Ÿçš„å®Œæˆä¿®æ”¹ï¼Œä½†åˆä¸æƒ³å†æ–°å¢ä¸€ä¸ªå•ç‹¬çš„æäº¤ã€‚</li><li>æˆ–è€…æˆ‘ä»¬åªæ˜¯è§‰å¾—ä¸Šä¸€æ¬¡æäº¤çš„æäº¤ä¿¡æ¯å†™çš„ä¸å¤Ÿå¥½ï¼Œæƒ³åšä¸€äº›ä¿®æ”¹ã€‚</li></ul><p>è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥æ·»åŠ æ–°å¢çš„ä¿®æ”¹ï¼ˆæˆ–è·³è¿‡ï¼‰ï¼Œä½¿ç”¨ <code>git commit --amend</code> å‘½ä»¤æ‰§è¡Œæäº¤ï¼Œæ‰§è¡Œåä¼šè¿›å…¥ä¸€ä¸ªæ–°çš„ç¼–è¾‘å™¨çª—å£ï¼Œå¯ä»¥å¯¹ä¸Šä¸€æ¬¡æäº¤çš„æäº¤ä¿¡æ¯è¿›è¡Œä¿®æ”¹ï¼Œä¿å­˜åå°±ä¼šå°†æ‰€åšçš„è¿™äº›æ›´æ”¹åº”ç”¨åˆ°ä¸Šä¸€æ¬¡æäº¤ã€‚</p><p>å¦‚æœæˆ‘ä»¬å·²ç»å°†ä¸Šä¸€æ¬¡æäº¤æ¨é€åˆ°äº†è¿œç¨‹çš„åˆ†æ”¯ï¼Œç°åœ¨å†æ‰§è¡Œæ¨é€å°†ä¼šæç¤ºå‡ºé”™å¹¶è¢«æ‹’ç»ï¼Œåœ¨ç¡®ä¿è¯¥åˆ†æ”¯ä¸æ˜¯ä¸€ä¸ªå…¬å…±åˆ†æ”¯çš„å‰æä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>git push --force</code> å¼ºåˆ¶æ¨é€ã€‚</p><p>æ³¨æ„ä¸ <code>rebase</code> ä¸€æ ·ï¼ŒGit åœ¨å†…éƒ¨å¹¶ä¸ä¼šçœŸæ­£åœ°ä¿®æ”¹å¹¶æ›¿æ¢ä¸Šä¸€ä¸ªæäº¤ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°çš„æäº¤å¹¶é‡æ–°æŒ‡å‘è¿™ä¸ªæ–°çš„æäº¤ã€‚</p><h2 id="ä½¿ç”¨-rebase-çš„äº¤äº’æ¨¡å¼é‡å†™æäº¤å†å²"><a href="#ä½¿ç”¨-rebase-çš„äº¤äº’æ¨¡å¼é‡å†™æäº¤å†å²" class="headerlink" title="ä½¿ç”¨ rebase çš„äº¤äº’æ¨¡å¼é‡å†™æäº¤å†å²"></a>ä½¿ç”¨ rebase çš„äº¤äº’æ¨¡å¼é‡å†™æäº¤å†å²</h2><p><code>git rebase</code> å‘½ä»¤æœ‰æ ‡å‡†å’Œäº¤äº’ä¸¤ç§æ¨¡å¼ï¼Œä¹‹å‰çš„ç¤ºä¾‹æˆ‘ä»¬ç”¨çš„éƒ½æ˜¯é»˜è®¤çš„æ ‡å‡†æ¨¡å¼ï¼Œåœ¨å‘½ä»¤åæ·»åŠ  <code>-i</code> æˆ– <code>--interactive</code> é€‰é¡¹å³å¯ä½¿ç”¨äº¤äº’æ¨¡å¼ã€‚</p><h3 id="ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«"><a href="#ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«" class="headerlink" title="ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«"></a>ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«</h3><p>æˆ‘ä»¬å‰é¢æåˆ°ï¼Œ <code>rebase</code> æ˜¯ã€Œåœ¨å¦ä¸€ä¸ªåŸºç«¯ä¹‹ä¸Šé‡æ–°åº”ç”¨æäº¤ã€ï¼Œè€Œåœ¨é‡æ–°åº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œè¿™äº›æäº¤ä¼šè¢«é‡æ–°åˆ›å»ºï¼Œè‡ªç„¶ä¹Ÿå¯ä»¥è¿›è¡Œä¿®æ”¹ã€‚åœ¨ <code>rebase</code> çš„æ ‡å‡†æ¨¡å¼ä¸‹ï¼Œå½“å‰å·¥ä½œåˆ†æ”¯çš„æäº¤ä¼šè¢«ç›´æ¥åº”ç”¨åˆ°ä¼ å…¥åˆ†æ”¯çš„é¡¶ç«¯ï¼›è€Œåœ¨äº¤äº’æ¨¡å¼ä¸‹ï¼Œåˆ™å…è®¸æˆ‘ä»¬åœ¨é‡æ–°åº”ç”¨ä¹‹å‰é€šè¿‡ç¼–è¾‘å™¨ä»¥åŠç‰¹å®šçš„å‘½ä»¤è§„åˆ™å¯¹è¿™äº›æäº¤è¿›è¡Œåˆå¹¶ã€é‡æ–°æ’åºåŠåˆ é™¤ç­‰é‡å†™æ“ä½œã€‚</p><p>ä¸¤è€…æœ€å¸¸è§çš„ä½¿ç”¨åœºæ™¯ä¹Ÿå› æ­¤æœ‰æ‰€ä¸åŒï¼š</p><ol><li>æ ‡å‡†æ¨¡å¼å¸¸ç”¨äºåœ¨å½“å‰åˆ†æ”¯ä¸­é›†æˆæ¥è‡ªå…¶ä»–åˆ†æ”¯çš„æœ€æ–°ä¿®æ”¹ã€‚</li><li>äº¤äº’æ¨¡å¼å¸¸ç”¨äºå¯¹å½“å‰åˆ†æ”¯çš„æäº¤å†å²è¿›è¡Œç¼–è¾‘ï¼Œå¦‚å°†å¤šä¸ªå°æäº¤åˆå¹¶æˆå¤§çš„æäº¤ã€‚</li></ol><h3 id="ä¸ä»…ä»…æ˜¯åˆ†æ”¯"><a href="#ä¸ä»…ä»…æ˜¯åˆ†æ”¯" class="headerlink" title="ä¸ä»…ä»…æ˜¯åˆ†æ”¯"></a>ä¸ä»…ä»…æ˜¯åˆ†æ”¯</h3><p>è™½ç„¶æˆ‘ä»¬ä¹‹å‰çš„ç¤ºä¾‹éƒ½æ˜¯åœ¨ä¸åŒçš„ä¸¤ä¸ªåˆ†æ”¯ä¹‹é—´æ‰§è¡Œ rebase æ“ä½œï¼Œä½†äº‹å®ä¸Š rebase å‘½ä»¤ä¼ å…¥çš„å‚æ•°å¹¶ä¸ä»…é™äºåˆ†æ”¯ã€‚</p><p>ä»»ä½•çš„æäº¤å¼•ç”¨ï¼Œéƒ½å¯ä»¥è¢«è§†ä½œæœ‰æ•ˆçš„ <code>rebase</code> åŸºåº•å¯¹è±¡ï¼ŒåŒ…æ‹¬ä¸€ä¸ªæäº¤ IDã€åˆ†æ”¯åç§°ã€æ ‡ç­¾åç§°æˆ– <code>HEAD~1</code> è¿™æ ·çš„ç›¸å¯¹å¼•ç”¨ã€‚</p><p>è‡ªç„¶åœ°ï¼Œå‡å¦‚æˆ‘ä»¬å¯¹å½“å‰åˆ†æ”¯çš„æŸæ¬¡å†å²æäº¤æ‰§è¡Œ <code>rebase</code>ï¼Œå…¶ç»“æœå°±æ˜¯ä¼šå°†è¿™æ¬¡æäº¤ä¹‹åçš„æ‰€æœ‰æäº¤é‡æ–°åº”ç”¨åœ¨å½“å‰åˆ†æ”¯ï¼Œåœ¨äº¤äº’æ¨¡å¼ä¸‹ï¼Œå³å…è®¸æˆ‘ä»¬å¯¹è¿™äº›æäº¤è¿›è¡Œæ›´æ”¹ã€‚</p><h3 id="é‡å†™æäº¤å†å²"><a href="#é‡å†™æäº¤å†å²" class="headerlink" title="é‡å†™æäº¤å†å²"></a>é‡å†™æäº¤å†å²</h3><p>ç»ˆäºè¿›å…¥åˆ°æœ¬æ–‡çš„ä¸»é¢˜ï¼Œå‰é¢æåˆ°ï¼Œå‡å¦‚æˆ‘ä»¬åœ¨äº¤äº’æ¨¡å¼å¯¹å½“å‰åˆ†æ”¯çš„æŸæ¬¡æäº¤æ‰§è¡Œ <code>rebase</code>ï¼Œå³ï¼ˆé—´æ¥ï¼‰å®ç°äº†å¯¹è¿™æ¬¡æäº¤ä¹‹åçš„æ‰€æœ‰æäº¤è¿›è¡Œé‡å†™ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†é€šè¿‡ä¸‹é¢çš„ç¤ºä¾‹è¿›è¡Œè¯¦ç»†ä»‹ç»ã€‚</p><p>å‡è®¾æˆ‘ä»¬åœ¨ <code>feature</code> åˆ†æ”¯æœ‰å¦‚ä¸‹æäº¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">74199cebdd34d107bb67b6da5533a2e405f4c330 (HEAD -&gt; feature) commit F</span><br><span class="line">e7c7111d807c1d5209b97a9c75b09da5cd2810d4 commit E</span><br><span class="line">d9623b0ef9d722b4a83d58a334e1ce85545ea524 commit D</span><br><span class="line">73deeedaa944ef459b17d42601677c2fcc4c4703 commit C</span><br><span class="line">c50221f93a39f3474ac59228d69732402556c93b commit B</span><br><span class="line">ef1372522cdad136ce7e6dc3e02aab4d6ad73f79 commit A</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†è¦æ‰§è¡Œçš„æ“ä½œæ˜¯ï¼š</p><ul><li>å°† Bã€C åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„æäº¤ ï¼Œå¹¶ä»…ä¿ç•™åŸæäº¤ C çš„æäº¤ä¿¡æ¯</li><li>åˆ é™¤æäº¤ D</li><li>å°†æäº¤ E ç§»åŠ¨åˆ°æäº¤ F ä¹‹åå¹¶é‡æ–°å‘½åï¼ˆå³ä¿®æ”¹æäº¤ä¿¡æ¯ï¼‰ä¸ºæäº¤ H</li><li>åœ¨æäº¤ F ä¸­åŠ å…¥ä¸€ä¸ªæ–°çš„æ–‡ä»¶æ›´æ”¹ï¼Œå¹¶é‡æ–°å‘½åä¸ºæäº¤ G</li></ul><p>ç”±äºæˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„æäº¤æ˜¯ Bâ†’Câ†’Dâ†’Eï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†æäº¤ A ä½œä¸ºæ–°çš„ã€ŒåŸºç«¯ã€ï¼Œæäº¤ A ä¹‹åçš„æ‰€æœ‰æäº¤ä¼šè¢«é‡æ–°åº”ç”¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i ef1372522cdad136ce7e6dc3e02aab4d6ad73f79 <span class="comment"># å‚æ•°æ˜¯æäº¤ A çš„ ID</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ä¼šè¿›å…¥åˆ°å¦‚ä¸‹çš„ç¼–è¾‘å™¨ç•Œé¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">pick c50221f commit B</span><br><span class="line">pick 73deeed commit C</span><br><span class="line">pick d9623b0 commit D</span><br><span class="line">pick e7c7111 commit E</span><br><span class="line">pick 74199ce commit F</span><br><span class="line"></span><br><span class="line"><span class="comment"># å˜åŸº ef13725..74199ce åˆ° ef13725ï¼ˆ5 ä¸ªæäº¤ï¼‰</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># å‘½ä»¤:</span></span><br><span class="line"><span class="comment"># p, pick &lt;æäº¤&gt; = ä½¿ç”¨æäº¤</span></span><br><span class="line"><span class="comment"># r, reword &lt;æäº¤&gt; = ä½¿ç”¨æäº¤ï¼Œä½†ä¿®æ”¹æäº¤è¯´æ˜</span></span><br><span class="line"><span class="comment"># e, edit &lt;æäº¤&gt; = ä½¿ç”¨æäº¤ï¼Œè¿›å…¥ shell ä»¥ä¾¿è¿›è¡Œæäº¤ä¿®è¡¥</span></span><br><span class="line"><span class="comment"># s, squash &lt;æäº¤&gt; = ä½¿ç”¨æäº¤ï¼Œä½†èåˆåˆ°å‰ä¸€ä¸ªæäº¤</span></span><br><span class="line"><span class="comment"># f, fixup &lt;æäº¤&gt; = ç±»ä¼¼äº &quot;squash&quot;ï¼Œä½†ä¸¢å¼ƒæäº¤è¯´æ˜æ—¥å¿—</span></span><br><span class="line"><span class="comment"># x, exec &lt;å‘½ä»¤&gt; = ä½¿ç”¨ shell è¿è¡Œå‘½ä»¤ï¼ˆæ­¤è¡Œå‰©ä½™éƒ¨åˆ†ï¼‰</span></span><br><span class="line"><span class="comment"># b, break = åœ¨æ­¤å¤„åœæ­¢ï¼ˆä½¿ç”¨ &#x27;git rebase --continue&#x27; ç»§ç»­å˜åŸºï¼‰</span></span><br><span class="line"><span class="comment"># d, drop &lt;æäº¤&gt; = åˆ é™¤æäº¤</span></span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>ï¼ˆæ³¨æ„ä¸Šé¢æäº¤ ID ä¹‹åçš„æäº¤ä¿¡æ¯åªèµ·åˆ°æè¿°ä½œç”¨ï¼Œåœ¨è¿™é‡Œä¿®æ”¹å®ƒä»¬ä¸ä¼šæœ‰ä»»ä½•æ•ˆæœã€‚ï¼‰</p><p>å…·ä½“çš„æ“ä½œå‘½ä»¤åœ¨ç¼–è¾‘å™¨çš„æ³¨é‡Šä¸­å·²è§£é‡Šçš„ç›¸å½“è¯¦ç»†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p><ol><li><p>å¯¹æäº¤ Bã€C ä½œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pick c50221f commit B</span><br><span class="line">f 73deeed commit C</span><br></pre></td></tr></table></figure><p>ç”±äºæäº¤ B æ˜¯è¿™äº›æäº¤ä¸­çš„ç¬¬ä¸€ä¸ªï¼Œå› æ­¤æˆ‘ä»¬æ— æ³•å¯¹å…¶æ‰§è¡Œ <code>squash</code> æˆ–è€… <code>fixup</code> å‘½ä»¤ï¼ˆæ²¡æœ‰å‰ä¸€ä¸ªæäº¤äº†ï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿä¸éœ€è¦å¯¹æäº¤ B æ‰§è¡Œ <code>reword</code> å‘½ä»¤ä»¥ä¿®æ”¹å…¶æäº¤ä¿¡æ¯ï¼Œå› ä¸ºä¹‹ååœ¨å°†æäº¤ C èåˆåˆ°æäº¤ B ä¸­æ—¶ï¼Œä¼šå…è®¸æˆ‘ä»¬å¯¹èåˆä¹‹åçš„æäº¤ä¿¡æ¯è¿›è¡Œä¿®æ”¹ã€‚</p><p>æ³¨æ„è¯¥ç•Œé¢æäº¤çš„å±•ç¤ºé¡ºåºæ˜¯ä»ä¸Šåˆ°ä¸‹ç”±æ—§åˆ°æ–°ï¼Œå› æ­¤æˆ‘ä»¬å°†æäº¤ C çš„å‘½ä»¤æ”¹ä¸º <code>sï¼ˆæˆ– squashï¼‰</code> æˆ–è€… <code>fï¼ˆæˆ– fixupï¼‰</code> ä¼šå°†å…¶èåˆåˆ°ï¼ˆä¸Šæ–¹çš„ï¼‰å‰ä¸€ä¸ªæäº¤ Bï¼Œä¸¤ä¸ªå‘½ä»¤çš„åŒºåˆ«ä¸ºæ˜¯å¦ä¿ç•™ C çš„æäº¤ä¿¡æ¯ã€‚</p></li><li><p>åˆ é™¤æäº¤ Dï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d d9623b0 commit D</span><br></pre></td></tr></table></figure></li><li><p>ç§»åŠ¨æäº¤ E åˆ°æäº¤ F ä¹‹åå¹¶ä¿®æ”¹å…¶æäº¤ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pick 74199ce commit F</span><br><span class="line">r e7c7111 commit E</span><br></pre></td></tr></table></figure></li><li><p>åœ¨æäº¤ F ä¸­åŠ å…¥ä¸€ä¸ªæ–°çš„æ–‡ä»¶æ›´æ”¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e 74199ce commit F</span><br></pre></td></tr></table></figure></li><li><p>ä¿å­˜é€€å‡ºã€‚</p></li></ol><p>æ¥ä¸‹æ¥ä¼šæŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºä¾æ¬¡æ‰§è¡Œæˆ‘ä»¬å¯¹æ¯ä¸€ä¸ªæäº¤æ‰€ä¿®æ”¹æˆ–ä¿ç•™çš„å‘½ä»¤ï¼š</p><ol><li><p>å¯¹æäº¤ B çš„ <code>pick</code> å‘½ä»¤ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œå› æ­¤ä¸éœ€è¦äº¤äº’ã€‚</p></li><li><p>æ¥ç€æ‰§è¡Œå¯¹æäº¤ C çš„ <code>squash</code> å‘½ä»¤ï¼Œä¼šè¿›å…¥ä¸€ä¸ªæ–°çš„ç¼–è¾‘å™¨ç•Œé¢å…è®¸æˆ‘ä»¬ä¿®æ”¹åˆå¹¶äº†Bã€C ä¹‹åçš„æäº¤ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™æ˜¯ä¸€ä¸ª 2 ä¸ªæäº¤çš„ç»„åˆã€‚</span></span><br><span class="line"><span class="comment"># è¿™æ˜¯ç¬¬ä¸€ä¸ªæäº¤è¯´æ˜ï¼š</span></span><br><span class="line"></span><br><span class="line">commit B</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™æ˜¯æäº¤è¯´æ˜ #2ï¼š</span></span><br><span class="line"></span><br><span class="line">commit C</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°† <code>commit B</code> è¿™ä¸€è¡Œåˆ é™¤åä¿å­˜é€€å‡ºï¼Œèåˆä¹‹åçš„æäº¤å°†ä½¿ç”¨ <code>commit C</code> ä½œä¸ºæäº¤ä¿¡æ¯ã€‚</p></li><li><p>å¯¹æäº¤ D çš„ <code>drop</code> æ“ä½œä¹Ÿä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œæ²¡æœ‰äº¤äº’æ­¥éª¤ã€‚</p></li><li><p>æ‰§è¡Œ <code>rebase</code> çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‘ç”Ÿå†²çªï¼Œè¿™æ—¶å€™ <code>rebase</code> ä¼šæš‚æ—¶ä¸­æ­¢ï¼Œéœ€è¦æˆ‘ä»¬ç¼–è¾‘å†²çªçš„æ–‡ä»¶å»æ‰‹åŠ¨åˆå¹¶å†²çªã€‚è§£å†³å†²çªåé€šè¿‡ <code>git add/rm &lt;conflicted_files&gt;</code> å°†å…¶æ ‡è®°ä¸ºå·²è§£å†³ï¼Œç„¶åæ‰§è¡Œ <code>git rebase --continue</code> å¯ä»¥ç»§ç»­ä¹‹åçš„ <code>rebase</code> æ­¥éª¤ï¼›æˆ–è€…ä¹Ÿå¯ä»¥æ‰§è¡Œ <code>git rebase --abort</code> æ”¾å¼ƒ <code>rebase</code> æ“ä½œå¹¶æ¢å¤åˆ°æ“ä½œä¹‹å‰çš„çŠ¶æ€ã€‚</p></li><li><p>ç”±äºæˆ‘ä»¬ä¸Šç§»äº†æäº¤ F çš„ä½ç½®ï¼Œå› æ­¤æ¥ä¸‹æ¥å°†æ‰§è¡Œå¯¹ F çš„ <code>edit</code> æ“ä½œã€‚è¿™æ—¶å°†è¿›å…¥ä¸€ä¸ªæ–°çš„ Shell ä¼šè¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">åœæ­¢åœ¨ 74199ce... commit F</span><br><span class="line">æ‚¨ç°åœ¨å¯ä»¥ä¿®è¡¥è¿™ä¸ªæäº¤ï¼Œä½¿ç”¨</span><br><span class="line"></span><br><span class="line">  git commit --amend </span><br><span class="line"></span><br><span class="line">å½“æ‚¨å¯¹å˜æ›´æ„Ÿåˆ°æ»¡æ„ï¼Œæ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">  git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ–°çš„ä»£ç æ–‡ä»¶å¹¶æ‰§è¡Œ <code>git commit --amend</code> å°†å…¶åˆå¹¶åˆ°å½“å‰çš„ä¸Šä¸€ä¸ªæäº¤ï¼ˆå³ Fï¼‰ï¼Œç„¶ååœ¨ç¼–è¾‘å™¨ç•Œé¢ä¸­å°†å…¶æäº¤ä¿¡æ¯ä¿®æ”¹ä¸º <code>commit G</code>ï¼Œæœ€åæ‰§è¡Œ <code>git rebase --continue</code> ç»§ç»­ <code>rebase</code> æ“ä½œã€‚</p></li><li><p>æœ€åæ‰§è¡Œå¯¹æäº¤ E çš„ <code>reword</code> æ“ä½œï¼Œåœ¨ç¼–è¾‘å™¨ç•Œé¢ä¸­å°†å…¶æäº¤ä¿¡æ¯ä¿®æ”¹ä¸º <code>commit H</code> ã€‚</p></li></ol><p>å¤§åŠŸå‘Šæˆï¼æœ€åè®©æˆ‘ä»¬ç¡®è®¤ä¸€ä¸‹ <code>rebase</code> ä¹‹åçš„æäº¤å†å²ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">64710dc88ef4fbe8fe7aac206ec2e3ef12e7bca9 (HEAD -&gt; feature) commit H</span><br><span class="line">8ab4506a672dac5c1a55db34779a185f045d7dd3 commit G</span><br><span class="line">1e186f890710291aab5b508a4999134044f6f846 commit C</span><br><span class="line">ef1372522cdad136ce7e6dc3e02aab4d6ad73f79 commit A</span><br></pre></td></tr></table></figure><p>å®Œå…¨ç¬¦åˆé¢„æœŸï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥çœ‹åˆ°æäº¤ Aä¹‹åçš„æ‰€æœ‰æäº¤ ID éƒ½å·²ç»å‘ç”Ÿäº†æ”¹å˜ï¼Œè¿™ä¹Ÿå°è¯äº†æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„ Git é‡æ–°åˆ›å»ºäº†è¿™äº›æäº¤ã€‚</p><h2 id="Rebase-çš„è¿›é˜¶ç”¨æ³•"><a href="#Rebase-çš„è¿›é˜¶ç”¨æ³•" class="headerlink" title="Rebase çš„è¿›é˜¶ç”¨æ³•"></a>Rebase çš„è¿›é˜¶ç”¨æ³•</h2><h3 id="åˆå¹¶ä¹‹å‰æ‰§è¡Œ-rebase"><a href="#åˆå¹¶ä¹‹å‰æ‰§è¡Œ-rebase" class="headerlink" title="åˆå¹¶ä¹‹å‰æ‰§è¡Œ rebase"></a>åˆå¹¶ä¹‹å‰æ‰§è¡Œ rebase</h3><p>å¦ä¸€ç§ä½¿ç”¨ <code>rebase</code> çš„å¸¸è§åœºæ™¯æ˜¯åœ¨æ¨é€åˆ°è¿œç¨‹è¿›è¡Œåˆå¹¶ä¹‹å‰æ‰§è¡Œ <code>rebase</code>ï¼Œä¸€èˆ¬è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†ç¡®ä¿æäº¤å†å²çš„æ•´æ´ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆåœ¨è‡ªå·±çš„åŠŸèƒ½åˆ†æ”¯é‡Œè¿›è¡Œå¼€å‘ï¼Œå½“å¼€å‘å®Œæˆæ—¶éœ€è¦å…ˆå°†å½“å‰åŠŸèƒ½åˆ†æ”¯ <code>rebase</code> åˆ°æœ€æ–°çš„ä¸»åˆ†æ”¯ä¸Šï¼Œæå‰è§£å†³å¯èƒ½å‡ºç°çš„å†²çªï¼Œç„¶åå†å‘è¿œç¨‹æäº¤ä¿®æ”¹ã€‚ è¿™æ ·çš„è¯ï¼Œè¿œç¨‹ä»“åº“çš„ä¸»åˆ†æ”¯ç»´æŠ¤è€…å°±ä¸å†éœ€è¦è¿›è¡Œæ•´åˆä¸”åˆ›å»ºä¸€æ¡é¢å¤–çš„ <code>merge</code> æäº¤ï¼Œåªéœ€è¦æ‰§è¡Œå¿«è¿›åˆå¹¶å³å¯ã€‚å³ä½¿æ˜¯åœ¨å¤šä¸ªåˆ†æ”¯å¹¶è¡Œå¼€å‘çš„æƒ…å†µï¼Œæœ€ç»ˆä¹Ÿèƒ½å¾—åˆ°ä¸€æ¡å®Œå…¨çº¿æ€§çš„æäº¤å†å²ã€‚</p><h3 id="rebase-åˆ°å…¶ä»–åˆ†æ”¯"><a href="#rebase-åˆ°å…¶ä»–åˆ†æ”¯" class="headerlink" title="rebase åˆ°å…¶ä»–åˆ†æ”¯"></a>rebase åˆ°å…¶ä»–åˆ†æ”¯</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>rebase</code> å¯¹ä¸¤ä¸ªåˆ†æ”¯è¿›è¡Œå¯¹æ¯”ï¼Œå–å‡ºç›¸åº”çš„ä¿®æ”¹ï¼Œç„¶ååº”ç”¨åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    F---G patch</span><br><span class="line">   /</span><br><span class="line">  D---E feature</span><br><span class="line"> /</span><br><span class="line">A---B---C master</span><br></pre></td></tr></table></figure><p>å‡è®¾æˆ‘ä»¬åŸºäº <code>feature</code> åˆ†æ”¯çš„æäº¤ D åˆ›å»ºäº†åˆ†æ”¯ <code>patch</code>ï¼Œå¹¶ä¸”æ–°å¢äº†æäº¤ Fã€Gï¼Œç°åœ¨æˆ‘ä»¬æƒ³å°† <code>patch</code> æ‰€åšçš„æ›´æ”¹åˆå¹¶åˆ° <code>master</code> å¹¶å‘å¸ƒï¼Œä½†æš‚æ—¶è¿˜ä¸æƒ³åˆå¹¶ <code>feature</code> ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ <code>rebase</code> çš„ <code>--onto &lt;branch&gt;</code> é€‰é¡¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase â€”onto master feature patch</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ“ä½œå°†å–å‡º <code>patch</code> åˆ†æ”¯ï¼Œå¯¹æ¯”å®ƒåŸºäº <code>feature</code> æ‰€åšçš„æ›´æ”¹ï¼Œ ç„¶åæŠŠè¿™äº›æ›´æ”¹åœ¨ <code>master</code> åˆ†æ”¯ä¸Šé‡æ–°åº”ç”¨ï¼Œè®© <code>patch</code> çœ‹èµ·æ¥å°±åƒç›´æ¥åŸºäº <code>master</code> è¿›è¡Œæ›´æ”¹ä¸€æ ·ã€‚æ‰§è¡Œåçš„ <code>patch</code> å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A---B---C---F<span class="string">&#x27;---G&#x27;</span> patch</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ° <code>master</code> åˆ†æ”¯ï¼Œå¹¶å¯¹ <code>patch</code> æ‰§è¡Œå¿«è¿›åˆå¹¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge patch</span><br></pre></td></tr></table></figure><h3 id="é€šè¿‡-rebase-ç­–ç•¥æ‰§è¡Œ-git-pull"><a href="#é€šè¿‡-rebase-ç­–ç•¥æ‰§è¡Œ-git-pull" class="headerlink" title="é€šè¿‡ rebase ç­–ç•¥æ‰§è¡Œ git pull"></a>é€šè¿‡ rebase ç­–ç•¥æ‰§è¡Œ <code>git pull</code></h3><p>Git åœ¨æœ€è¿‘çš„æŸä¸ªç‰ˆæœ¬èµ·ï¼Œç›´æ¥è¿è¡Œ <code>git pull</code> ä¼šæœ‰å¦‚ä¸‹æç¤ºæ¶ˆæ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">warning: ä¸å»ºè®®åœ¨æ²¡æœ‰ä¸ºåç¦»åˆ†æ”¯æŒ‡å®šåˆå¹¶ç­–ç•¥æ—¶æ‰§è¡Œ pull æ“ä½œã€‚ æ‚¨å¯ä»¥åœ¨æ‰§è¡Œä¸‹ä¸€æ¬¡ pull æ“ä½œä¹‹å‰æ‰§è¡Œä¸‹é¢ä¸€æ¡å‘½ä»¤æ¥æŠ‘åˆ¶æœ¬æ¶ˆæ¯ï¼š</span><br><span class="line"></span><br><span class="line">  git config pull.rebase <span class="literal">false</span>  <span class="comment"># åˆå¹¶ï¼ˆç¼ºçœç­–ç•¥ï¼‰</span></span><br><span class="line">  git config pull.rebase <span class="literal">true</span>   <span class="comment"># å˜åŸº</span></span><br><span class="line">  git config pull.ff only       <span class="comment"># ä»…å¿«è¿›</span></span><br><span class="line"></span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>åŸæ¥ <code>git pull</code> æ—¶ä¹Ÿå¯ä»¥é€šè¿‡ <code>rebase</code> æ¥è¿›è¡Œåˆå¹¶ï¼Œè¿™æ˜¯å› ä¸º <code>git pull</code> å®é™…ä¸Šç­‰äº <code>git fetch</code> + <code>git merge</code> ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¬¬äºŒæ­¥ç›´æ¥ç”¨ <code>git rebase</code> æ›¿æ¢ <code>git merge</code>æ¥åˆå¹¶ <code>fetch</code> å–å¾—çš„å˜æ›´ï¼Œä½œç”¨åŒæ ·æ˜¯é¿å…é¢å¤–çš„ <code>merge</code> æäº¤ä»¥ä¿æŒçº¿æ€§çš„æäº¤å†å²ã€‚</p><p>ä¸¤è€…çš„åŒºåˆ«åœ¨ä¸Šæ–‡ä¸­å·²è¿›è¡Œè¿‡å¯¹æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¯¹æ¯”ç¤ºä¾‹ä¸­çš„ <code>Matser</code> åˆ†æ”¯å½“æˆè¿œç¨‹åˆ†æ”¯ï¼ŒæŠŠ <code>Feature</code> åˆ†æ”¯å½“æˆæœ¬åœ°åˆ†æ”¯ï¼Œå½“æˆ‘ä»¬åœ¨æœ¬åœ°æ‰§è¡Œ <code>git pull</code> æ—¶ï¼Œå…¶å®å°±æ˜¯æ‹‰å– <code>Master</code> çš„æ›´æ”¹ç„¶ååˆå¹¶åˆ° <code>Feature</code> åˆ†æ”¯ã€‚å¦‚æœä¸¤ä¸ªåˆ†æ”¯éƒ½æœ‰ä¸åŒçš„æäº¤ï¼Œé»˜è®¤çš„ <code>git merge</code> æ–¹å¼ä¼šç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„ merge æäº¤ä»¥æ•´åˆè¿™äº›æäº¤ï¼›è€Œä½¿ç”¨ <code>git rebase</code> åˆ™ç›¸å½“äºåŸºäºè¿œç¨‹åˆ†æ”¯çš„æœ€æ–°æäº¤é‡æ–°åˆ›å»ºæœ¬åœ°åˆ†æ”¯ï¼Œç„¶åå†é‡æ–°åº”ç”¨æœ¬åœ°æ‰€æ·»åŠ çš„æäº¤ã€‚</p><p>å…·ä½“çš„ä½¿ç”¨æ–¹å¼æœ‰å¤šç§ï¼š</p><ul><li>æ¯æ¬¡æ‰§è¡Œ pull å‘½ä»¤æ—¶æ·»åŠ ç‰¹å®šé€‰é¡¹ï¼š <code>git pull --rebase</code> ã€‚</li><li>ä¸ºå½“å‰ä»“åº“è®¾å®šé…ç½®é¡¹ï¼š <code>git config pull.rebase true</code>ï¼Œåœ¨ <code>git config</code> åæ·»åŠ  <code>--global</code> é€‰é¡¹å¯ä»¥ä½¿è¯¥é…ç½®é¡¹å¯¹æ‰€æœ‰ä»“åº“ç”Ÿæ•ˆã€‚</li></ul><h2 id="æ½œåœ¨å¼Šç«¯å’Œåå¯¹æ„è§"><a href="#æ½œåœ¨å¼Šç«¯å’Œåå¯¹æ„è§" class="headerlink" title="æ½œåœ¨å¼Šç«¯å’Œåå¯¹æ„è§"></a>æ½œåœ¨å¼Šç«¯å’Œåå¯¹æ„è§</h2><p>ä»ä»¥ä¸Šåœºæ™¯æ¥çœ‹ <code>rebase</code> åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œä½†æˆ‘ä»¬ä¹Ÿéœ€è¦æ„è¯†åˆ°å®ƒä¸æ˜¯ä¸‡èƒ½çš„ï¼Œç”šè‡³å¯¹æ–°æ‰‹æ¥è¯´æœ‰äº›å±é™©ï¼Œç¨æœ‰ä¸æ…å°±ä¼šå‘ç° <code>git log</code> é‡Œçš„æäº¤ä¸è§äº†ï¼Œæˆ–è€…å¡åœ¨ <code>rebase</code> çš„æŸä¸ªæ­¥éª¤ä¸çŸ¥é“å¦‚ä½•æ¢å¤ã€‚</p><p>æˆ‘ä»¬ä¸Šé¢å·²ç»æåˆ°äº† <code>rebase</code> æœ‰ä¿æŒæ•´æ´çš„çº¿æ€§æäº¤å†å²çš„ä¼˜ç‚¹ï¼Œä½†ä¹Ÿéœ€è¦æ„è¯†åˆ°å®ƒæœ‰ä»¥ä¸‹æ½œåœ¨çš„å¼Šç«¯ï¼š</p><ul><li>å¦‚æœæ¶‰åŠåˆ°å·²ç»æ¨é€è¿‡çš„æäº¤ï¼Œéœ€è¦å¼ºåˆ¶æ¨é€æ‰èƒ½å°†æœ¬åœ° <code>rebase</code> åçš„æäº¤æ¨é€åˆ°è¿œç¨‹ã€‚å› æ­¤ç»å¯¹ä¸è¦åœ¨ä¸€ä¸ªå…¬å…±åˆ†æ”¯ï¼ˆä¹Ÿå°±æ˜¯è¯´è¿˜æœ‰å…¶ä»–äººåŸºäºè¿™ä¸ªåˆ†æ”¯è¿›è¡Œå¼€å‘ï¼‰æ‰§è¡Œ <code>rebase</code>ï¼Œå¦åˆ™å…¶ä»–äººä¹‹åæ‰§è¡Œ <code>git pull</code> ä¼šåˆå¹¶å‡ºä¸€æ¡ä»¤äººå›°æƒ‘çš„æœ¬åœ°æäº¤å†å²ï¼Œè¿›ä¸€æ­¥æ¨é€å›è¿œç¨‹åˆ†æ”¯ååˆä¼šå°†è¿œç¨‹çš„æäº¤å†å²æ‰“ä¹±ï¼ˆè¯¦è§ <a href="https://www.daolf.com/posts/git-series-part-2/">Rebase and the golden rule explained</a>ï¼‰ï¼Œè¾ƒä¸¥é‡çš„æƒ…å†µä¸‹å¯èƒ½ä¼šå¯¹ä½ çš„äººèº«å®‰å…¨å¸¦æ¥é£é™©ã€‚</li><li>å¯¹æ–°æ‰‹ä¸å‹å¥½ï¼Œæ–°æ‰‹å¾ˆæœ‰å¯èƒ½åœ¨äº¤äº’æ¨¡å¼ä¸­è¯¯æ“ä½œã€Œä¸¢å¤±ã€æŸäº›æäº¤ï¼ˆä½†å…¶å®æ˜¯èƒ½å¤Ÿæ‰¾å›çš„ï¼‰ã€‚</li><li>å‡å¦‚ä½ é¢‘ç¹çš„ä½¿ç”¨ <code>rebase</code> æ¥é›†æˆä¸»åˆ†æ”¯çš„æ›´æ–°ï¼Œä¸€ä¸ªæ½œåœ¨çš„åæœæ˜¯ä½ ä¼šé‡åˆ°è¶Šæ¥è¶Šå¤šéœ€è¦åˆå¹¶çš„å†²çªã€‚å°½ç®¡ä½ å¯ä»¥åœ¨ <code>rebase</code> è¿‡ç¨‹ä¸­å¤„ç†è¿™äº›å†²çªï¼Œä½†è¿™å¹¶éé•¿ä¹…ä¹‹è®¡ï¼Œæ›´æ¨èçš„åšæ³•æ˜¯é¢‘ç¹çš„åˆå…¥ä¸»åˆ†æ”¯ç„¶ååˆ›å»ºæ–°çš„åŠŸèƒ½åˆ†æ”¯ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¸€ä¸ªé•¿æ—¶é—´å­˜åœ¨çš„åŠŸèƒ½åˆ†æ”¯ã€‚</li></ul><p>å¦å¤–æœ‰ä¸€äº›è§‚ç‚¹æ˜¯æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…é‡å†™æäº¤å†å²ï¼š</p><blockquote><p>æœ‰ä¸€ç§è§‚ç‚¹è®¤ä¸ºï¼Œä»“åº“çš„æäº¤å†å²å³æ˜¯ è®°å½•å®é™…å‘ç”Ÿè¿‡ä»€ä¹ˆã€‚ å®ƒæ˜¯é’ˆå¯¹å†å²çš„æ–‡æ¡£ï¼Œæœ¬èº«å°±æœ‰ä»·å€¼ï¼Œä¸èƒ½ä¹±æ”¹ã€‚ ä»è¿™ä¸ªè§’åº¦çœ‹æ¥ï¼Œæ”¹å˜æäº¤å†å²æ˜¯ä¸€ç§äºµæ¸ï¼Œä½ ä½¿ç”¨ è°è¨€ æ©ç›–äº†å®é™…å‘ç”Ÿè¿‡çš„äº‹æƒ…ã€‚ å¦‚æœç”±åˆå¹¶äº§ç”Ÿçš„æäº¤å†å²æ˜¯ä¸€å›¢ç³Ÿæ€ä¹ˆåŠï¼Ÿ æ—¢ç„¶äº‹å®å°±æ˜¯å¦‚æ­¤ï¼Œé‚£ä¹ˆè¿™äº›ç—•è¿¹å°±åº”è¯¥è¢«ä¿ç•™ä¸‹æ¥ï¼Œè®©åäººèƒ½å¤ŸæŸ¥é˜…ã€‚</p></blockquote><p>ä»¥åŠé¢‘ç¹çš„ä½¿ç”¨ <code>rebase</code> å¯èƒ½ä¼šä½¿ä»å†å²æäº¤ä¸­å®šä½ bug å˜å¾—æ›´åŠ å›°éš¾ï¼Œè¯¦è§ <a href="https://medium.com/@fredrikmorken/why-you-should-stop-using-git-rebase-5552bee4fed1">Why you should stop using Git rebase</a>ã€‚</p><h2 id="æ‰¾å›ä¸¢å¤±çš„æäº¤"><a href="#æ‰¾å›ä¸¢å¤±çš„æäº¤" class="headerlink" title="æ‰¾å›ä¸¢å¤±çš„æäº¤"></a>æ‰¾å›ä¸¢å¤±çš„æäº¤</h2><p>åœ¨äº¤äº’å¼æ¨¡å¼ä¸‹è¿›è¡Œ <code>rebase</code> å¹¶å¯¹æäº¤æ‰§è¡Œ <code>squash</code> æˆ– <code>drop</code> ç­‰å‘½ä»¤åï¼Œä¼šä»åˆ†æ”¯çš„ <code>git log</code> ä¸­ç›´æ¥åˆ é™¤æäº¤ã€‚å¦‚æœä½ ä¸å°å¿ƒæ“ä½œå¤±è¯¯ï¼Œä¼šä»¥ä¸ºè¿™äº›æäº¤å·²ç»æ°¸ä¹…æ¶ˆå¤±äº†è€Œå“å‡ºä¸€èº«å†·æ±—ã€‚</p><p>ä½†è¿™äº›æäº¤å¹¶æ²¡æœ‰çœŸæ­£åœ°è¢«åˆ é™¤ï¼Œå¦‚ä¸Šæ‰€è¯´ï¼ŒGit å¹¶ä¸ä¼šä¿®æ”¹ï¼ˆæˆ–åˆ é™¤ï¼‰åŸæ¥çš„æäº¤ï¼Œè€Œæ˜¯é‡æ–°åˆ›å»ºäº†ä¸€æ‰¹æ–°çš„æäº¤ï¼Œå¹¶å°†å½“å‰åˆ†æ”¯é¡¶ç«¯æŒ‡å‘äº†æ–°æäº¤ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>git reflog</code> æ‰¾åˆ°å¹¶ä¸”é‡æ–°æŒ‡å‘åŸæ¥çš„æäº¤æ¥æ¢å¤å®ƒä»¬ï¼Œè¿™ä¼šæ’¤é”€æ•´ä¸ª <code>rebase</code>ã€‚æ„Ÿè°¢ Git ï¼Œå³ä½¿ä½ æ‰§è¡Œ <code>rebase</code> æˆ–è€… <code>commit --amend</code> ç­‰é‡å†™æäº¤å†å²çš„æ“ä½œï¼Œå®ƒä¹Ÿä¸ä¼šçœŸæ­£åœ°ä¸¢å¤±ä»»ä½•æäº¤ã€‚</p><h3 id="git-reflog-å‘½ä»¤"><a href="#git-reflog-å‘½ä»¤" class="headerlink" title="git reflog å‘½ä»¤"></a><code>git reflog</code> å‘½ä»¤</h3><p>reflogs æ˜¯ Git ç”¨æ¥è®°å½•æœ¬åœ°ä»“åº“åˆ†æ”¯é¡¶ç«¯çš„æ›´æ–°çš„ä¸€ç§æœºåˆ¶ï¼Œå®ƒä¼šè®°å½•æ‰€æœ‰åˆ†æ”¯é¡¶ç«¯æ›¾ç»æŒ‡å‘è¿‡çš„æäº¤ï¼Œå› æ­¤ reflogs å…è®¸æˆ‘ä»¬æ‰¾åˆ°å¹¶åˆ‡æ¢åˆ°ä¸€ä¸ªå½“å‰æ²¡æœ‰è¢«ä»»ä½•åˆ†æ”¯æˆ–æ ‡ç­¾å¼•ç”¨çš„æäº¤ã€‚</p><p>æ¯å½“åˆ†æ”¯é¡¶ç«¯ç”±äºä»»ä½•åŸå› è¢«æ›´æ–°ï¼ˆé€šè¿‡åˆ‡æ¢åˆ†æ”¯ã€æ‹‰å–æ–°çš„å˜æ›´ã€é‡å†™å†å²æˆ–è€…æ·»åŠ æ–°çš„æäº¤ï¼‰ï¼Œä¸€æ¡æ–°çš„è®°å½•å°†è¢«æ·»åŠ åˆ° reflogs ä¸­ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°æ‰€åˆ›å»ºè¿‡çš„æ¯ä¸€æ¬¡æäº¤éƒ½ä¸€å®šä¼šè¢«è®°å½•åœ¨ reflogs ä¸­ã€‚å³ä½¿åœ¨é‡å†™äº†æäº¤å†å²ä¹‹åï¼Œ reflogs ä¹Ÿä¼šåŒ…å«å…³äºåˆ†æ”¯çš„æ—§çŠ¶æ€çš„ä¿¡æ¯ï¼Œå¹¶å…è®¸æˆ‘ä»¬åœ¨éœ€è¦æ—¶æ¢å¤åˆ°è¯¥çŠ¶æ€ã€‚</p><p>æ³¨æ„ reflogs å¹¶ä¸ä¼šæ°¸ä¹…ä¿å­˜ï¼Œå®ƒæœ‰ 90 å¤©çš„è¿‡æœŸæ—¶é—´ã€‚</p><h3 id="è¿˜åŸæäº¤å†å²"><a href="#è¿˜åŸæäº¤å†å²" class="headerlink" title="è¿˜åŸæäº¤å†å²"></a>è¿˜åŸæäº¤å†å²</h3><p>æˆ‘ä»¬ä»ä¸Šä¸€ä¸ªä¾‹å­ç»§ç»­ï¼Œå‡è®¾æˆ‘ä»¬æƒ³æ¢å¤ <code>feature</code> åˆ†æ”¯åœ¨ <code>rebase</code> ä¹‹å‰çš„ Aâ†’Bâ†’Câ†’Dâ†’Eâ†’F æäº¤å†å²ï¼Œä½†è¿™æ—¶å€™çš„ <code>git log</code> ä¸­å·²ç»æ²¡æœ‰åé¢ 5 ä¸ªæäº¤ï¼Œæ‰€ä»¥éœ€è¦ä» reflogs ä¸­å¯»æ‰¾ï¼Œè¿è¡Œ <code>git reflog</code> ç»“æœå¦‚ä¸‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">64710dc (HEAD -&gt; feature) HEAD@&#123;0&#125;: rebase (<span class="built_in">continue</span>) (finish): returning to refs/heads/feature</span><br><span class="line">64710dc (HEAD -&gt; feature) HEAD@&#123;1&#125;: rebase (<span class="built_in">continue</span>): commit H</span><br><span class="line">8ab4506 HEAD@&#123;2&#125;: rebase (<span class="built_in">continue</span>): commit G</span><br><span class="line">1e186f8 HEAD@&#123;3&#125;: rebase (squash): commit C</span><br><span class="line">c50221f HEAD@&#123;4&#125;: rebase (start): checkout ef1372522cdad136ce7e6dc3e02aab4d6ad73f79</span><br><span class="line">74199ce HEAD@&#123;5&#125;: checkout: moving from master to feature</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p><code>reflogs</code> å®Œæ•´çš„è®°å½•äº†æˆ‘ä»¬åˆ‡æ¢åˆ†æ”¯å¹¶è¿›è¡Œ <code>rebase</code> çš„å…¨è¿‡ç¨‹ï¼Œç»§ç»­å‘ä¸‹æ£€ç´¢ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ä» <code>git log</code> ä¸­æ¶ˆå¤±çš„æäº¤ F:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">74199ce HEAD@&#123;15&#125;: commit: commit F</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ <code>git reset</code> å°† <code>feature</code> åˆ†æ”¯çš„é¡¶ç«¯é‡æ–°æŒ‡å‘åŸæ¥çš„æäº¤ Fï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æˆ‘ä»¬æƒ³å°†å·¥ä½œåŒºä¸­çš„æ–‡ä»¶ä¹Ÿä¸€å¹¶è¿˜åŸï¼Œå› æ­¤ä½¿ç”¨äº†--hardé€‰é¡¹   </span></span><br><span class="line">$ git reset --hard 74199ce                                      </span><br><span class="line">HEAD ç°åœ¨ä½äº 74199ce commit F</span><br></pre></td></tr></table></figure><p>å†è¿è¡Œ <code>git log</code> ä¼šå‘ç°ä¸€åˆ‡åˆå›åˆ°äº†ä»å‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">74199cebdd34d107bb67b6da5533a2e405f4c330 (HEAD -&gt; feature) commit F</span><br><span class="line">e7c7111d807c1d5209b97a9c75b09da5cd2810d4 commit E</span><br><span class="line">d9623b0ef9d722b4a83d58a334e1ce85545ea524 commit D</span><br><span class="line">73deeedaa944ef459b17d42601677c2fcc4c4703 commit C</span><br><span class="line">c50221f93a39f3474ac59228d69732402556c93b commit B</span><br><span class="line">ef1372522cdad136ce7e6dc3e02aab4d6ad73f79 commit A</span><br></pre></td></tr></table></figure><blockquote><p><strong>å‚è€ƒé“¾æ¥</strong><br><a href="https://www.atlassian.com/git/tutorials/rewriting-history/git-rebase"><em>git rebase - Atlassian Git Tutorial</em></a><br><a href="https://www.atlassian.com/git/tutorials/rewriting-history"><em>git amend - Atlassian Git Tutorial</em></a><br><a href="https://www.atlassian.com/git/tutorials/syncing/git-pull"><em>Git Pull - Atlassian Git Tutorial</em></a><br><a href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA"><em>Git - å˜åŸº</em></a><br><a href="https://git-scm.com/docs/git-rebase"><em>Git - git-rebase Documentation</em></a><br><a href="https://git-scm.com/docs/git-reflog"><em>Git - git-reflog Documentation</em></a><br><a href="https://medium.com/@fredrikmorken/why-you-should-stop-using-git-rebase-5552bee4fed1"><em>Why you should stop using Git rebase</em></a><br><a href="https://medium.com/@fabisiakradoslaw/understand-how-does-git-rebase-work-and-compare-with-git-merge-and-git-interactive-rebase-cce2c9775e43"><em>Understand how does git rebase work and compare with git merge and git interactive rebase</em></a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub+jsDelivr+PicGoæ­å»ºå…è´¹å›¾åºŠ</title>
      <link href="/posts/d97654d1/"/>
      <url>/posts/d97654d1/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>å› ä¸ºå«Œéº»çƒ¦ä¸”ä¸æƒ³èŠ±é’±ğŸ¥±ï¼Œæ‰€ä»¥é€‰æ‹©ä½¿ç”¨ <em><strong>GitHub + jsDelivr + PicGo</strong></em> æ­å»ºå›¾åºŠâ€¦â€¦</p><p>ä¸‹é¢æ˜¯æ­¥éª¤ï¼Œå¾ˆç®€å•ğŸˆ</p><h3 id="æ–°å»º-Github-ä»“åº“"><a href="#æ–°å»º-Github-ä»“åº“" class="headerlink" title="æ–°å»º Github ä»“åº“"></a>æ–°å»º Github ä»“åº“</h3><p>æ‰“å¼€ <a href="https://github.com/">https://github.com</a>ï¼Œç™»å½•åæ–°å»ºä»“åº“ç”¨äºå­˜æ”¾å›¾ç‰‡</p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302011554079.png" alt="æ–°å»ºgithubä»“åº“" /><p>ä»“åº“åˆ›å»ºå¥½ä¹‹åï¼Œæ‰“å¼€ <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>ï¼Œç”Ÿæˆä¸€ä¸ªtokenç”¨äºPicGoæ“ä½œä½ çš„ä»“åº“</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302011554081.png" alt="ç”Ÿæˆtoken"></p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302011554082.png" alt="ç”Ÿæˆtoken"></p><p>ç„¶åç‚¹å‡»é¡µé¢æœ€åº•éƒ¨çš„ç»¿è‰² <span style="display: inline-block; padding: 0 16px; background: #2da44e; border-radius: 6px; color: white;">Generate token</span> æŒ‰é’®ï¼Œå°±èƒ½çœ‹åˆ°ç”Ÿæˆçš„tokenäº†ã€‚</p><p><strong><span style="color: red;">æ³¨æ„ï¼šè¿™ä¸ªtokenåªæ˜¾ç¤ºä¸€æ¬¡ï¼æŠŠè¿™ä¸ªtokenå¤åˆ¶ä¸€ä¸‹ï¼Œç­‰ä¸‹è¦ç”¨ã€‚</span></strong></p><h3 id="é…ç½®-PicGo"><a href="#é…ç½®-PicGo" class="headerlink" title="é…ç½® PicGo"></a>é…ç½® PicGo</h3><p>PicGoä¸‹è½½åœ°å€: <a href="https://github.com/Molunerfinn/PicGo/releases">https://github.com/Molunerfinn/PicGo/releases</a></p><p>ä¸‹è½½å®‰è£…åæ‰“å¼€è¿›è¡Œé…ç½®; </p><ul><li><p>ç‚¹å‡»<code>å›¾åºŠè®¾ç½® -&gt; Github</code></p></li><li><p>ä»“åº“åæ ¼å¼ä¸º <code>githubç”¨æˆ·å/ä»“åº“å</code></p></li><li><p>åˆ†æ”¯ä¸€èˆ¬é€‰æ‹©ä¸»åˆ†æ”¯å³å¯</p></li><li><p>ç²˜è´´åˆšåˆšç”Ÿæˆçš„ token</p></li><li><p>è®¾å®šè‡ªå®šä¹‰åŸŸå, å› ä¸ºGitHubå›½å†…è®¿é—®å—é™, æ‰€ä»¥éœ€è¦ä½¿ç”¨ jsDelivr åŠ é€Ÿè®¿é—®, </p><p>è‡ªå®šä¹‰åŸŸåè®¾ç½®ä¸º: <code>https://cdn.jsdelivr.net/gh/githubç”¨æˆ·å/ä»“åº“å</code></p></li></ul><p>æˆ‘çš„GitHubç”¨æˆ·åæ˜¯ zxyongyo, å­˜æ”¾å›¾ç‰‡çš„ä»“åº“åæ˜¯ pictures, å›¾ç‰‡å­˜æ”¾åœ¨ä»“åº“çš„ blog æ–‡ä»¶å¤¹ä¸‹, é…ç½®å°±æ˜¯ä¸‹é¢è¿™æ ·, å¯ä»¥å‚è€ƒä¸€ä¸‹:</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202302011631119.png" alt="é…ç½®PicGo"></p><blockquote><p>ğŸ”— <strong>é“¾æ¥</strong><br><a href="https://picgo.github.io/PicGo-Doc/">PicGo å®˜ç½‘ - <em>https://picgo.github.io/PicGo-Doc</em></a><br><a href="https://www.jsdelivr.com/">jsDelivr å®˜ç½‘ - <em>https://www.jsdelivr.com</em></a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å…¶ä»– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css-grid ç½‘æ ¼å¸ƒå±€</title>
      <link href="/posts/69e2d9c7/"/>
      <url>/posts/69e2d9c7/</url>
      
        <content type="html"><![CDATA[<h3 id="å®¹å™¨å±æ€§"><a href="#å®¹å™¨å±æ€§" class="headerlink" title="å®¹å™¨å±æ€§"></a>å®¹å™¨å±æ€§</h3><ul><li><code>display: grid</code> - æŒ‡å®šä¸€ä¸ªå®¹å™¨ä½¿ç”¨ç½‘æ ¼å¸ƒå±€</li></ul><br><ul><li><code>grid-template-columns</code> - æŒ‡å®šæ¯ä¸€åˆ—çš„åˆ—å®½</li><li><code>grid-template-rows</code> - æŒ‡å®šæ¯ä¸€è¡Œçš„è¡Œé«˜</li><li><code>grid-template</code> - ä»¥ä¸Šä¸¤ä¸ªå±æ€§çš„ç®€å†™   </li></ul><br><ul><li><p><code>row-gap</code> - è®¾ç½®è¡Œä¸è¡Œçš„é—´éš”ï¼ˆè¡Œé—´è·ï¼‰</p></li><li><p><code>column-gap</code> - è®¾ç½®åˆ—ä¸åˆ—çš„é—´éš”ï¼ˆåˆ—é—´è·ï¼‰</p></li><li><p><code>gap</code> - ä»¥ä¸Šä¸¤ä¸ªå±æ€§çš„ç®€å†™å½¢å¼  <code>gap: &lt;row-gap&gt; &lt;column-gap&gt;</code></p></li></ul><br><ul><li><p><code>grid-template-areas</code> - å®šä¹‰åŒºåŸŸ</p></li><li><p><code>grid-auto-flow</code> - é¡¹ç›®æ”¾ç½®é¡ºåºï¼›é»˜è®¤å€¼æ˜¯ <code>row</code> è¡¨ç¤ºå…ˆè¡Œååˆ—ï¼Œ <code>column</code>è¡¨ç¤ºå…ˆåˆ—åè¡Œ</p></li></ul><br><ul><li><p><code>justify-items</code> - å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®</p></li><li><p><code>align-items</code> - å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®</p></li><li><p><code>place-items</code> - ä»¥ä¸Šä¸¤ä¸ªå±æ€§çš„ç®€å†™å½¢å¼  <code>place-items: &lt;align-items&gt; &lt;justify-items&gt;</code></p></li></ul><br><ul><li><p><code>justify-content</code> - æ•´ä¸ªå†…å®¹åŒºåŸŸåœ¨å®¹å™¨ä¸­çš„æ°´å¹³ä½ç½®</p></li><li><p><code>align-centent</code> - æ•´ä¸ªå†…å®¹åŒºåŸŸåœ¨å®¹å™¨ä¸­çš„å‚ç›´ä½ç½®</p></li><li><p><code>place-centent</code> - ä»¥ä¸Šä¸¤ä¸ªå±æ€§çš„ç®€å†™å½¢å¼ <code>place-content: &lt;align-content&gt; &lt;justify-content&gt;</code></p></li><li><p><code>grid-auto-columns</code> - è®¾ç½®æµè§ˆå™¨è‡ªåŠ¨åˆ›å»ºçš„å¤šä½™ç½‘æ ¼çš„åˆ—å®½</p></li><li><p><code>grid-auto-rows</code> - è®¾ç½®æµè§ˆå™¨è‡ªåŠ¨åˆ›å»ºçš„å¤šä½™ç½‘æ ¼çš„è¡Œé«˜</p></li></ul><h3 id="é¡¹ç›®å±æ€§"><a href="#é¡¹ç›®å±æ€§" class="headerlink" title="é¡¹ç›®å±æ€§"></a>é¡¹ç›®å±æ€§</h3><ul><li><p><code>grid-column-start</code> - å·¦è¾¹ç½‘æ ¼çº¿æ‰€åœ¨çš„å‚ç›´ç½‘æ ¼çº¿</p></li><li><p><code>grid-column-end</code> - å³è¾¹ç½‘æ ¼çº¿æ‰€åœ¨çš„å‚ç›´ç½‘æ ¼çº¿</p></li><li><p><code>grid-column</code> - ä»¥ä¸Šä¸¤ä¸ªå±æ€§çš„ç®€å†™å½¢å¼ <code>grid-column: &lt;start-line&gt; / &lt;end-line&gt;</code></p></li></ul><br><ul><li><p><code>grid-row-start</code> - ä¸Šè¾¹ç½‘æ ¼çº¿æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿</p></li><li><p><code>grid-row-end</code> - ä¸‹è¾¹ç½‘æ ¼çº¿æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿</p></li><li><p><code>grid-row</code> - ä»¥ä¸Šä¸¤ä¸ªå±æ€§çš„ç®€å†™å½¢å¼ <code>grid-row: &lt;start-line&gt; / &lt;end-line&gt;</code></p></li></ul><br><ul><li><p><code>grid-area</code> - æŒ‡å®šé¡¹ç›®æ”¾åœ¨å“ªä¸€ä¸ªåŒºåŸŸï¼Œ</p><p>ä¹Ÿèƒ½ç”¨ä½œç®€å†™å½¢å¼ <code>grid-area: &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt;</code></p></li></ul><br><ul><li><p><code>justify-self</code> - è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®</p></li><li><p><code>align-self</code> - è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®</p></li><li><p><code>place-self</code> - å‰é¢ä¸¤ä¸ªå±æ€§çš„ç®€å†™å½¢å¼  <code>place-self: &lt;align-self&gt; &lt;justify-self&gt;</code></p></li></ul><h3 id="å‡½æ•°ä¸å…³é”®å­—"><a href="#å‡½æ•°ä¸å…³é”®å­—" class="headerlink" title="å‡½æ•°ä¸å…³é”®å­—"></a>å‡½æ•°ä¸å…³é”®å­—</h3><ul><li><p><code>repeat()</code> - ç”¨äºç®€åŒ–é‡å¤å€¼ï¼Œè¯¥å‡½æ•°å¯ä»¥ç”¨äº <code>grid-template-columns</code> å’Œ <code>grid-template-rows</code> </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">100px</span> <span class="number">50px</span> <span class="number">100px</span>);</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">100px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>auto-fill</code> - è‡ªåŠ¨å¡«å……è‡³æ¯è¡Œæœ€å¤§å¯å®¹çº³çš„å•å…ƒæ ¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, <span class="number">100px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>fr</code> - grid å®¹å™¨ä¸­çš„å¯å˜é•¿åº¦å•ä½ï¼ŒæŒ‰æ¯”ä¾‹åˆ†é…å‰©ä½™ç©ºé—´ï¼Œåœ¨<code>grid-template-columns</code>ã€<code>grid-template-rows</code>åŠç›¸å…³å±æ€§ä¸­ä½¿ç”¨</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">150px</span> <span class="number">1</span>fr <span class="number">2</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>minmax()</code> - å®šä¹‰ä¸€ä¸ªé•¿åº¦é—­åŒºé—´ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºæœ€å°å€¼å’Œæœ€å¤§å€¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr <span class="built_in">minmax</span>(<span class="number">100px</span>, <span class="number">1</span>fr);</span><br></pre></td></tr></table></figure></li></ul><blockquote><p><a href="https://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html">CSS Grid ç½‘æ ¼å¸ƒå±€æ•™ç¨‹ - é˜®ä¸€å³°</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitå­¦ä¹ ä½¿ç”¨ç¬”è®°</title>
      <link href="/posts/4bae23a1/"/>
      <url>/posts/4bae23a1/</url>
      
        <content type="html"><![CDATA[<p><strong>æœ¬æ–‡è®°å½•æˆ‘å­¦ä¹ å’Œä½¿ç”¨  <code>git</code> çš„ç¬”è®°ï¼Œè®°å½•å­¦ä¹ å’Œä½¿ç”¨ <code>git</code> æ—¶é‡åˆ°çš„é—®é¢˜å’ŒæŠ€å·§ã€‚(æŒç»­æ›´æ–°â€¦)</strong></p><h3 id="åˆ†æ”¯æ“ä½œ"><a href="#åˆ†æ”¯æ“ä½œ" class="headerlink" title="åˆ†æ”¯æ“ä½œ"></a>åˆ†æ”¯æ“ä½œ</h3><ul><li><p>æ‹‰å–è¿œç¨‹æŒ‡å®šåˆ†æ”¯ <code>$ git clone -b branch_name git@github.com:xxx</code></p></li><li><p>æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ <code>$ git branch -a</code></p></li><li><p>åˆ‡æ¢åˆ°æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ <code>$ git switch -c branch_name origin/branch-name</code></p></li><li><p>åˆ é™¤è¿œç¨‹æŒ‡å®šåˆ†æ”¯ <code>$ git push origin -d [branch_name]</code></p></li></ul><h3 id="git-stash-å‚¨è—å½“å‰å·¥ä½œåŒº"><a href="#git-stash-å‚¨è—å½“å‰å·¥ä½œåŒº" class="headerlink" title="git-stash å‚¨è—å½“å‰å·¥ä½œåŒº"></a>git-stash å‚¨è—å½“å‰å·¥ä½œåŒº</h3><ul><li><code>git stash</code>å‘½ä»¤ç”¨äºå°†å½“å‰æœªæäº¤ï¼ˆå·¥ä½œåŒºå’Œæš‚å­˜åŒºï¼‰çš„æ”¹åŠ¨å‚¨è—èµ·æ¥ï¼Œç­‰å¤„ç†å®Œå…¶å®ƒå·¥ä½œä¹‹åå†æ¢å¤ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰å·¥ä½œåŒº</span></span><br><span class="line">$ git status</span><br><span class="line">On branch dev</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        modified:   app.js</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">&quot;git add&quot;</span> and/or <span class="string">&quot;git commit -a&quot;</span>)</span><br><span class="line"><span class="comment"># å‚¨è—å½“å‰å·¥ä½œåŒº</span></span><br><span class="line">$ git stash</span><br><span class="line">Saved working directory and index state WIP on dev: e146062 edit app.js</span><br><span class="line"><span class="comment"># æŸ¥çœ‹ stash è®°å½•</span></span><br><span class="line">$ git stash list</span><br><span class="line">stash@&#123;0&#125;: WIP on dev: e146062 edit app.js</span><br><span class="line"><span class="comment"># æ­¤æ—¶å¯ä»¥åˆ‡æ¢åˆ†æ”¯æˆ–è¿›è¡Œå…¶ä»–å·¥ä½œ</span></span><br><span class="line"><span class="comment"># æ¢å¤æœ€è¿‘ä¸€æ¬¡çš„ stashï¼Œ å¹¶åˆ é™¤æœ¬æ¬¡ stash è®°å½•</span></span><br><span class="line">$ git stash pop</span><br><span class="line">On branch dev</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        modified:   app.js</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">&quot;git add&quot;</span> and/or <span class="string">&quot;git commit -a&quot;</span>)</span><br><span class="line">Dropped refs/stash@&#123;0&#125; (771daab2d3e6c5adcff439e7856e89891b35b5f3)</span><br></pre></td></tr></table></figure><ul><li>å¯ä»¥å¤šæ¬¡<code>stash</code>ï¼Œæ¢å¤çš„æ—¶å€™ä½¿ç”¨<code>git stash list</code>æŸ¥çœ‹ stash è®°å½•ï¼Œç„¶åæ¢å¤æŒ‡å®šçš„ stash</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å‚¨è—è®°å½•</span></span><br><span class="line">$ git stash list</span><br><span class="line">stash@&#123;0&#125;: WIP on dev: e146062 edit app.js</span><br><span class="line">stash@&#123;1&#125;: WIP on dev: e146062 edit app.js</span><br><span class="line"><span class="comment"># æ¢å¤ stash@&#123;0&#125;</span></span><br><span class="line">$ git stash apply stash@&#123;0&#125;</span><br><span class="line">On branch dev</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        modified:   README.md</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">&quot;git add&quot;</span> and/or <span class="string">&quot;git commit -a&quot;</span>)</span><br><span class="line"><span class="comment"># åˆ é™¤ stash@&#123;0&#125; è¿™æ¡è®°å½•</span></span><br><span class="line">$ git stash drop stash@&#123;0&#125;</span><br><span class="line">Dropped stash@&#123;0&#125; (72bddc948a1fa80b9e84a072a6ab1f412c9f3b22)</span><br><span class="line"><span class="comment"># ä»¥ä¸Šä¸¤æ¡å‘½ä»¤ç­‰åŒäº git stash pop stash@&#123;0&#125;</span></span><br></pre></td></tr></table></figure><ul><li>å¯ä»¥çœ‹åˆ°ä»¥ä¸Šä¸¤ä¸ªå‚¨è—è®°å½•çš„æ ‡è¯†ä¿¡æ¯å®Œå…¨ä¸€æ ·ï¼Œå®¹æ˜“åˆ†ä¸æ¸…æ¯æ¬¡å‚¨è—çš„ä»€ä¹ˆå†…å®¹ï¼Œåœ¨ä½¿ç”¨ stash æ—¶å¯ä»¥ç”¨<code>-m|--message</code>æ ‡è¯†æœ¬æ¬¡ stash</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash -m <span class="string">&quot;stash message&quot;</span></span><br></pre></td></tr></table></figure><ul><li><code>git stash</code>é»˜è®¤ä¸ä¼šå‚¨è—æœªè·Ÿè¸ªï¼ˆuntrackedï¼‰çš„æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨<code>-u|--include-untracked</code>å‚¨è—åŒ…æ‹¬æœªè·Ÿè¸ªçš„æ–‡ä»¶ï¼›æˆ–è€…ä½¿ç”¨<code>-a|--all</code>å‚¨è—åŒ…æ‹¬æœªè·Ÿè¸ªå’Œå¿½ç•¥ï¼ˆ.gitignoreä¸­æŒ‡å®šï¼‰çš„æ–‡ä»¶</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git stash -um &quot;add index.js&quot; åŒ…æ‹¬æœªè·Ÿè¸ªçš„æ–‡ä»¶</span></span><br><span class="line">$ git stash --include-untracked --message <span class="string">&quot;add index.js&quot;</span></span><br><span class="line">Saved working directory and index state On dev: add index.js</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line"><span class="comment"># git stash -am &quot;add index.js&quot; åŒ…æ‹¬æœªè·Ÿè¸ªå’Œå¿½ç•¥çš„æ–‡ä»¶</span></span><br><span class="line">$ git stash --all --message <span class="string">&quot;add index.js&quot;</span></span><br><span class="line">Saved working directory and index state On dev: add index.js</span><br></pre></td></tr></table></figure><h3 id="git-rebase-å˜åŸº"><a href="#git-rebase-å˜åŸº" class="headerlink" title="git rebase å˜åŸº"></a>git rebase å˜åŸº</h3><p>ğŸ‘‰ <a href="../dfe0e190">git rebase ç”¨æ³•è¯¦è§£ä¸å·¥ä½œåŸç†</a></p><h3 id="åˆå¹¶å¤šä¸ªcommit"><a href="#åˆå¹¶å¤šä¸ªcommit" class="headerlink" title="åˆå¹¶å¤šä¸ªcommit"></a>åˆå¹¶å¤šä¸ªcommit</h3><ul><li><code>git rebase</code> å‘½ä»¤ç”¨æ¥åœ¨å¦ä¸€ä¸ªåˆ†æ”¯åŸºç¡€ä¹‹ä¸Šé‡æ–°åº”ç”¨æäº¤ï¼Œç”¨äºæŠŠä¸€ä¸ªåˆ†æ”¯çš„ä¿®æ”¹åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚</li><li>ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ä¸ªå‘½ä»¤æ¥åˆå¹¶å¤šä¸ªæŸä¸ªåˆ†æ”¯çš„å¤šæ¡ commitã€‚</li></ul><p>ä¾‹å¦‚æˆ‘çš„ git å†å²æäº¤ä¸­æœ‰è¿™æ ·çš„ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">a9753cc (HEAD -&gt; master) edit app.js</span><br><span class="line">eb6604c edit app.js</span><br><span class="line">8239289 edit app.js</span><br><span class="line">2bb4ff1 create app.js</span><br><span class="line">c81bd04 edit README.md</span><br><span class="line">0a38a95 edit README.md</span><br><span class="line">e87226d edit README.md</span><br><span class="line">c30085a create README.md</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤š commit çš„ä¿¡æ¯éƒ½æ˜¯é‡å¤çš„ã€‚</p><p>è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é‡æ–°ç¼–è¾‘ä»¥å¾€7æ¬¡çš„ commit å†å²ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»HEADç‰ˆæœ¬å¼€å§‹å¾€è¿‡å»æ•°7ä¸ªç‰ˆæœ¬(åŒ…å«HEADç‰ˆæœ¬)</span></span><br><span class="line">$ git rebase -i HEAD~7</span><br><span class="line"><span class="comment"># æŒ‡å®šç‰ˆæœ¬å·å‰çš„æ‰€æœ‰ç‰ˆæœ¬(ä¸åŒ…å«æ­¤ç‰ˆæœ¬)</span></span><br><span class="line">$ git rebase -i c30085a</span><br></pre></td></tr></table></figure><blockquote><p><code>-iï¼ˆ--interactiveï¼‰</code>ï¼šå¼¹å‡ºäº¤äº’å¼çš„ç•Œé¢è¿›è¡Œç¼–è¾‘åˆå¹¶</p></blockquote><p>è¾“å…¥å‘½ä»¤ï¼ŒæŒ‰ä¸‹å›è½¦åä¼šå¼¹å‡º vimï¼Œè®©ä½ ç¼–è¾‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i HEAD~7</span><br><span class="line">pick e87226d edit README.md</span><br><span class="line">pick 0a38a95 edit README.md</span><br><span class="line">pick c81bd04 edit README.md</span><br><span class="line">pick 2bb4ff1 create app.js</span><br><span class="line">pick 8239289 edit app.js</span><br><span class="line">pick eb6604c edit app.js</span><br><span class="line">pick a9753cc edit app.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># Rebase c30085a..a9753cc onto c30085a (7 commands)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Commands:</span></span><br><span class="line"><span class="comment"># p, pick &lt;commit&gt; = æ­£å¸¸é€‰ä¸­</span></span><br><span class="line"><span class="comment"># r, reword &lt;commit&gt; = é€‰ä¸­ï¼Œå¹¶ä¸”ä¿®æ”¹æäº¤ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># e, edit &lt;commit&gt; = é€‰ä¸­ï¼Œrebaseæ—¶ä¼šæš‚åœï¼Œå…è®¸ä½ ä¿®æ”¹è¿™ä¸ªcommit</span></span><br><span class="line"><span class="comment"># s, squash &lt;commit&gt; = é€‰ä¸­ï¼Œä¼šå°†å½“å‰commitä¸ä¸Šä¸€ä¸ªcommitåˆå¹¶ï¼Œä¿ç•™æ‰€æœ‰commitä¿¡æ¯</span></span><br><span class="line"><span class="comment"># f, fixup [-C | -c] &lt;commit&gt; = ä¸squashç›¸åŒï¼Œä½†ä¸ä¼šä¿å­˜å½“å‰commitçš„æäº¤ä¿¡æ¯, </span></span><br><span class="line"><span class="comment">#                    unless -C is used, in which case</span></span><br><span class="line"><span class="comment">#                    keep only this commit&#x27;s message; -c is same as -C but</span></span><br><span class="line"><span class="comment">#                    opens the editor</span></span><br><span class="line"><span class="comment"># x, exec &lt;command&gt; = æ‰§è¡Œå…¶ä»–shellå‘½ä»¤</span></span><br><span class="line"><span class="comment"># b, break = åœåœ¨è¿™é‡Œï¼Œå¯ä»¥ä½¿ç”¨&#x27;git rebase --continue&#x27;ç»§ç»­rebase</span></span><br><span class="line"><span class="comment"># d, drop &lt;commit&gt; = åˆ é™¤è¿™ä¸ªcommitï¼Œè¿™æ¬¡æäº¤çš„æ‰€æœ‰æ›´æ”¹ä¹Ÿä¼šä¸¢å¼ƒ</span></span><br><span class="line"><span class="comment"># l, label &lt;label&gt; = label current HEAD with a name</span></span><br></pre></td></tr></table></figure><p>ç¼–è¾‘å¦‚ä¸‹ï¼Œç„¶å <code>:wq</code> ä¿å­˜é€€å‡º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŠŠ c81bd04 å’Œ 0a38a95 åˆå¹¶åˆ° e87226d,ä¸ä¿ç•™ 0a38a95 å’Œ c81bd04 çš„ commit message</span></span><br><span class="line">pick e87226d edit README.md</span><br><span class="line">f 0a38a95 edit README.md</span><br><span class="line">f c81bd04 edit README.md</span><br><span class="line">pick 2bb4ff1 create app.js</span><br><span class="line"><span class="comment"># æŠŠ a9753cc å’Œ eb6604c åˆå¹¶åˆ° 8239289,ä¿ç•™æ‰€æœ‰ commit message</span></span><br><span class="line">pick 8239289 edit app.js</span><br><span class="line">s eb6604c edit app.js</span><br><span class="line">s a9753cc edit app.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># ...</span></span><br></pre></td></tr></table></figure><p>ç„¶ååˆä¼šå¼¹å‡ºä¸€ä¸ª vim è®©ç¼–è¾‘ commit messageï¼Œç¼–è¾‘å¦‚ä¸‹ï¼Œç„¶å <code>:wq</code> ä¿å­˜é€€å‡º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This is a combination of 3 commits.</span></span><br><span class="line"><span class="comment"># This is the 1st commit message:</span></span><br><span class="line">edit app.js</span><br><span class="line"><span class="comment"># This is the commit message #2:</span></span><br><span class="line">add main fn</span><br><span class="line"><span class="comment"># This is the commit message #3:</span></span><br><span class="line">update server port</span><br><span class="line"></span><br><span class="line"><span class="comment"># ...</span></span><br></pre></td></tr></table></figure><p>è¿™æ—¶å†æŸ¥çœ‹åˆå¹¶åçš„ logï¼Œä¸€ä¸‹å°±ç®€æ´äº†å¥½å¤š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">714f406 (HEAD -&gt; master) edit app.js</span><br><span class="line">e17c8ac create app.js</span><br><span class="line">949598c edit README.md</span><br><span class="line">c30085a create README.md</span><br></pre></td></tr></table></figure><p><strong>è§£å†³å†²çª</strong></p><ul><li>åœ¨ <code>git rebase</code> æ—¶å¯èƒ½ä¼šå‘ç”Ÿå†²çªï¼Œè¿™æ—¶å°±éœ€è¦å…ˆå»è§£å†³å†²çªã€‚</li><li>è§£å†³å®Œå†²çªåå† <code>git add .</code>ï¼Œç„¶åç»§ç»­ rebase <code>git rebase --continue</code></li><li>å¦‚æœè¢«åˆå¹¶çš„ commitï¼Œåˆå¹¶å‰å·²ç»æ¨é€åˆ°äº†è¿œç¨‹åº“ï¼Œå¯èƒ½æ— æ³•æ­£å¸¸æ¨é€åˆ°è¿œç¨‹åº“ï¼Œå¯ä»¥ä½¿ç”¨ <code>--force</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœæ˜¯å¤šäººåä½œå¼€å‘ä¸å»ºè®®ä½¿ç”¨</span></span><br><span class="line">$ git push --force origin master</span><br></pre></td></tr></table></figure><hr><h3 id="ä¿®æ”¹-commit-çš„ä¿¡æ¯"><a href="#ä¿®æ”¹-commit-çš„ä¿¡æ¯" class="headerlink" title="ä¿®æ”¹ commit çš„ä¿¡æ¯"></a>ä¿®æ”¹ commit çš„ä¿¡æ¯</h3><p><strong>ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤çš„ commit ä¿¡æ¯ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git commit --amend --message=<span class="string">&quot;commit message&quot;</span></span><br></pre></td></tr></table></figure><p><strong>ä¿®æ”¹å†å²æäº¤çš„ commit ä¿¡æ¯</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">a2cf832 (HEAD -&gt; master) edit app.js</span><br><span class="line">8e5130d insert one line from app.js</span><br><span class="line">4968028 delete one line from app.js</span><br><span class="line">e17c8ac create app.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ 8e5130d å’Œ 4968028 çš„ commit message</span></span><br><span class="line">$ git rebase -i HEAD~3 <span class="comment"># æˆ–è€… git rebase -i e17c8ac</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠè¦ä¿®æ”¹çš„ commit å‰çš„ pick æ”¹ä¸º r æˆ– reword</span></span><br><span class="line">r 4968028 delete one line from app.js</span><br><span class="line">r 8e5130d insert one line from app.js</span><br><span class="line">pick a2cf832 edit app.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># :wq ä¿å­˜å¹¶é€€å‡ºï¼Œç„¶åä¾æ¬¡ä¿®æ”¹ commit messageï¼Œ:wq ä¿å­˜å¹¶é€€å‡º</span></span><br><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">e146062 (HEAD -&gt; master) edit app.js</span><br><span class="line">c1fe1bf ä» app.js ä¸­æ–°å¢ä¸€è¡Œ</span><br><span class="line">91ea1e8 ä» app.js ä¸­åˆ é™¤ä¸€è¡Œ</span><br><span class="line">e17c8ac create app.js</span><br><span class="line"><span class="comment"># å°±ä¿®æ”¹æˆåŠŸäº†</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tså®ç”¨ç±»å‹</title>
      <link href="/posts/ded4ef6d/"/>
      <url>/posts/ded4ef6d/</url>
      
        <content type="html"><![CDATA[<p><strong>TypeSciprt æä¾›äº†å‡ ç§å®ç”¨ç±»å‹ï¼Œæ–¹ä¾¿å¸¸è§çš„ç±»å‹è½¬æ¢ã€‚è¿™äº›ç±»å‹åœ¨å…¨å±€å¯ç”¨ã€‚</strong></p><blockquote><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://www.typescriptlang.org/docs/handbook/utility-types.html"><em>https://www.typescriptlang.org/docs/handbook/utility-types.html</em></a></p></blockquote><h3 id="Awaited-lt-Type-gt"><a href="#Awaited-lt-Type-gt" class="headerlink" title="Awaited&lt;Type&gt;"></a>Awaited&lt;Type&gt;</h3><p>æ¨¡æ‹Ÿ <code>async function</code> ä¸­çš„ <code>await</code> æˆ– <code>Promises</code> çš„ <code>.then()</code> æ–¹æ³•ç­‰æ“ä½œï¼Œç¡®åˆ‡æ¥è¯´ï¼Œå°±æ˜¯é€’å½’å±•å¼€<code>Promises </code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> A = <span class="title class_">Awaited</span>&lt;<span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt;&gt; <span class="comment">// type A = string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> B = <span class="title class_">Awaited</span>&lt;<span class="title class_">Promise</span>&lt;<span class="title class_">Promise</span>&lt;<span class="built_in">number</span>&gt;&gt;&gt;  <span class="comment">// type B = number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> C = <span class="title class_">Awaited</span>&lt;<span class="built_in">boolean</span> | <span class="title class_">Promise</span>&lt;<span class="built_in">number</span>&gt;&gt; <span class="comment">// type C = boolean | number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params"></span>): <span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;success&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> D = <span class="title class_">Awaited</span>&lt;<span class="keyword">typeof</span> fn1&gt; <span class="comment">// type D = string</span></span><br></pre></td></tr></table></figure><h3 id="Partial-lt-Type-gt"><a href="#Partial-lt-Type-gt" class="headerlink" title="Partial&lt;Type&gt;"></a>Partial&lt;Type&gt;</h3><p>æ„é€ ä¸€ä¸ªå°†ç»™å®šç±»å‹<code>Type</code>çš„æ‰€æœ‰å±æ€§è®¾ç½®ä¸ºå¯é€‰çš„ç±»å‹ï¼Œè¯¥å®ç”¨ç±»å‹è¿”å›ç»™å®šç±»å‹çš„æ‰€æœ‰å­é›†çš„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Todo</span> &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">description</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateTodo</span>(<span class="params">todo: Todo, fieldsToUpdate: Partial&lt;Todo&gt;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; ...todo, ...fieldsToUpdate &#125;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> todo1 = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&quot;organize desk&quot;</span>,</span><br><span class="line">  <span class="attr">description</span>: <span class="string">&quot;clear clutter&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> todo2 = <span class="title function_">updateTodo</span>(todo1, &#123;</span><br><span class="line">  <span class="attr">description</span>: <span class="string">&quot;throw out trash&quot;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="Required-lt-Type-gt"><a href="#Required-lt-Type-gt" class="headerlink" title="Required&lt;Type&gt;"></a>Required&lt;Type&gt;</h3><p>æ„é€ ä¸€ä¸ªå°†ç»™å®šç±»å‹<code>Type</code>çš„æ‰€æœ‰å±æ€§è®¾ç½®ä¸ºå¿…éœ€çš„ç±»å‹ï¼Œå’Œ<code>Partial</code>ç›¸åã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Props</span> &#123;</span><br><span class="line">  a?: <span class="built_in">number</span>;</span><br><span class="line">  b?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: <span class="title class_">Props</span> = &#123; <span class="attr">a</span>: <span class="number">5</span> &#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj2</span>: <span class="title class_">Required</span>&lt;<span class="title class_">Props</span>&gt; = &#123; <span class="attr">a</span>: <span class="number">5</span> &#125;;</span><br><span class="line"><span class="comment">// Property &#x27;b&#x27; is missing in type &#x27;&#123; a: number; &#125;&#x27; but required in type &#x27;Required&lt;Props&gt;&#x27;.</span></span><br></pre></td></tr></table></figure><h3 id="Readonly-lt-Type-gt"><a href="#Readonly-lt-Type-gt" class="headerlink" title="Readonly&lt;Type&gt;"></a>Readonly&lt;Type&gt;</h3><p>æ„é€ ä¸€ä¸ªå°†ç»™å®šç±»å‹<code>Type</code>çš„æ‰€æœ‰å±æ€§è®¾ç½®ä¸ºåªè¯»çš„ç±»å‹ã€‚å°†ä¸èƒ½é‡æ–°ç»™æ‰€æ„é€ ç±»å‹çš„å±æ€§åˆ†é…å€¼ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Todo</span> &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="attr">todo</span>: <span class="title class_">Readonly</span>&lt;<span class="title class_">Todo</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&quot;Delete inactive users&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">todo.<span class="property">title</span> = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="comment">// Cannot assign to &#x27;title&#x27; because it is a read-only property.</span></span><br></pre></td></tr></table></figure><h3 id="Record-lt-Keys-Type-gt"><a href="#Record-lt-Keys-Type-gt" class="headerlink" title="Record&lt;Keys, Type&gt;"></a>Record&lt;Keys, Type&gt;</h3><p>æ„é€ ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œå…¶é”®çš„å±æ€§ä¸º<code>Keys</code>ï¼Œå€¼çš„å±æ€§ä¸º<code>Type</code>ã€‚è¿™ä¸ªå·¥å…·ç±»å‹å¯ä»¥ç”¨äºå°†ä¸€ä¸ªç±»å‹çš„å±æ€§æ˜ å°„åˆ°å¦ä¸€ä¸ªç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">CatInfo</span> &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">breed</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">type</span> <span class="title class_">CatName</span> = <span class="string">&quot;miffy&quot;</span> | <span class="string">&quot;boris&quot;</span> | <span class="string">&quot;mordred&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="attr">cats</span>: <span class="title class_">Record</span>&lt;<span class="title class_">CatName</span>, <span class="title class_">CatInfo</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">miffy</span>: &#123; <span class="attr">age</span>: <span class="number">10</span>, <span class="attr">breed</span>: <span class="string">&quot;Persian&quot;</span> &#125;,</span><br><span class="line">  <span class="attr">boris</span>: &#123; <span class="attr">age</span>: <span class="number">5</span>, <span class="attr">breed</span>: <span class="string">&quot;Maine Coon&quot;</span> &#125;,</span><br><span class="line">  <span class="attr">mordred</span>: &#123; <span class="attr">age</span>: <span class="number">16</span>, <span class="attr">breed</span>: <span class="string">&quot;British Shorthair&quot;</span> &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Pick-lt-Type-Keys-gt"><a href="#Pick-lt-Type-Keys-gt" class="headerlink" title="Pick&lt;Type, Keys&gt;"></a>Pick&lt;Type, Keys&gt;</h3><p>é€šè¿‡ä»ç»™å®šçš„ç±»å‹<code>Type</code>ä¸­é€‰æ‹©ä¸€ç»„å±æ€§<code>Keys</code>ï¼ˆå­—ç¬¦ä¸²å­—é¢é‡æˆ–å­—ç¬¦ä¸²å­—é¢é‡çš„è”åˆï¼‰æ„å»ºä¸€ä¸ªç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Todo</span> &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">description</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">completed</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">type</span> <span class="title class_">TodoPreview</span> = <span class="title class_">Pick</span>&lt;<span class="title class_">Todo</span>, <span class="string">&quot;title&quot;</span> | <span class="string">&quot;completed&quot;</span>&gt;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="attr">todo</span>: <span class="title class_">TodoPreview</span> = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&quot;Clean room&quot;</span>,</span><br><span class="line">  <span class="attr">completed</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Omit-lt-Type-Keys-gt"><a href="#Omit-lt-Type-Keys-gt" class="headerlink" title="Omit&lt;Type, Keys&gt;"></a>Omit&lt;Type, Keys&gt;</h3><p>é€šè¿‡ä»ç»™å®šç±»å‹<code>Tpye</code>ä¸­ç§»é™¤<code>Keys</code>ï¼ˆå­—ç¬¦ä¸²å­—é¢é‡æˆ–å­—ç¬¦ä¸²å­—é¢é‡çš„è”åˆï¼‰æ„é€ ä¸€ä¸ªç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Todo</span> &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">description</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">completed</span>: <span class="built_in">boolean</span>;</span><br><span class="line">  <span class="attr">createdAt</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">TodoPreview</span> = <span class="title class_">Omit</span>&lt;<span class="title class_">Todo</span>, <span class="string">&#x27;description&#x27;</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">todo</span>: <span class="title class_">TodoPreview</span> = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;Clean room&#x27;</span>,</span><br><span class="line">  <span class="attr">completed</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">createdAt</span>: <span class="number">1615544252770</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">TodoInfo</span> = <span class="title class_">Omit</span>&lt;<span class="title class_">Todo</span>, <span class="string">&#x27;completed&#x27;</span> | <span class="string">&#x27;createdAt&#x27;</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">todoInfo</span>: <span class="title class_">TodoInfo</span> = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;Pick up kids&#x27;</span>,</span><br><span class="line">  <span class="attr">description</span>: <span class="string">&#x27;Kindergarten closes at 5pm&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Exclude-lt-UnionType-ExcludedMembers-gt"><a href="#Exclude-lt-UnionType-ExcludedMembers-gt" class="headerlink" title="Exclude&lt;UnionType, ExcludedMembers&gt;"></a>Exclude&lt;UnionType, ExcludedMembers&gt;</h3><p>é€šè¿‡ä»<code>UnionType</code>ä¸­æ’é™¤å¯åˆ†é…ç»™<code>ExcludedMembers</code>çš„æ‰€æœ‰è”åˆæˆå‘˜æ„é€ ä¸€ä¸ªç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// type T0 = &#x27;b&#x27; | &#x27;c&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">Exclude</span>&lt;<span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T1 = &#x27;c&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Exclude</span>&lt;<span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T2 = string | number</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">Exclude</span>&lt;<span class="built_in">string</span> | <span class="built_in">number</span> | (<span class="function">() =&gt;</span> <span class="built_in">void</span>), <span class="title class_">Function</span>&gt;;</span><br></pre></td></tr></table></figure><h3 id="Extract-lt-Type-Union-gt"><a href="#Extract-lt-Type-Union-gt" class="headerlink" title="Extract&lt;Type, Union&gt;"></a>Extract&lt;Type, Union&gt;</h3><p>é€šè¿‡ä»ç»™å®šç±»å‹<code>Type</code>ä¸­æå–å¯åˆ†é…ç»™<code>Union</code>çš„æ‰€æœ‰è”åˆæˆå‘˜æ¥æ„é€ ä¸€ä¸ªç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// type T0 = &quot;a&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">Extract</span>&lt;<span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;f&#x27;</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T1 = () =&gt; void</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Extract</span>&lt;<span class="built_in">string</span> | <span class="built_in">number</span> | (<span class="function">() =&gt;</span> <span class="built_in">void</span>), <span class="title class_">Function</span>&gt;;</span><br></pre></td></tr></table></figure><h3 id="NonNullable-lt-Type-gt"><a href="#NonNullable-lt-Type-gt" class="headerlink" title="NonNullable&lt;Type&gt;"></a>NonNullable&lt;Type&gt;</h3><p>é€šè¿‡ä»ç»™å®šç±»å‹<code>Type</code>ä¸­æ’é™¤<code>null</code>å’Œundefined`æ¥æ„é€ ä¸€ä¸ªç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// type T0 = string | number</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">NonNullable</span>&lt;<span class="built_in">string</span> | <span class="built_in">number</span> | <span class="literal">undefined</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T1 = string[]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">NonNullable</span>&lt;<span class="built_in">string</span>[] | <span class="literal">null</span> | <span class="literal">undefined</span>&gt;;</span><br></pre></td></tr></table></figure><h3 id="Parameters-lt-Type-gt"><a href="#Parameters-lt-Type-gt" class="headerlink" title="Parameters&lt;Type&gt;"></a>Parameters&lt;Type&gt;</h3><p>ä»ç»™å®šçš„å‡½æ•°ç±»å‹<code>Type</code>çš„å½¢å‚ä¸­ä½¿ç”¨çš„ç±»å‹æ„é€ ä¸€ä¸ªå…ƒç»„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params">arg: &#123; a: <span class="built_in">number</span>; b: <span class="built_in">string</span> &#125;</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T0 = []</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">Parameters</span>&lt;<span class="function">() =&gt;</span> <span class="built_in">string</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T1 = [s: string]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Parameters</span>&lt;<span class="function">(<span class="params">s: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T2 = [arg: unknown]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">Parameters</span>&lt;&lt;T&gt;<span class="function">(<span class="params">arg: T</span>) =&gt;</span> T&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T3 = [arg: &#123; a: number; b: string &#125;]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">Parameters</span>&lt;<span class="keyword">typeof</span> f1&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T4 = unknown[]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T4</span> = <span class="title class_">Parameters</span>&lt;<span class="built_in">any</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T5 = never</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T5</span> = <span class="title class_">Parameters</span>&lt;<span class="built_in">never</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Type &#x27;string&#x27; does not satisfy the constraint &#x27;(...args: any) =&gt; any&#x27;.</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T6</span> = <span class="title class_">Parameters</span>&lt;<span class="built_in">string</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Type &#x27;Function&#x27; does not satisfy the constraint &#x27;(...args: any) =&gt; any&#x27;.</span></span><br><span class="line"><span class="comment">// Type &#x27;Function&#x27; provides no match for the signature &#x27;(...args: any): any&#x27;.</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T7</span> = <span class="title class_">Parameters</span>&lt;<span class="title class_">Function</span>&gt;;</span><br></pre></td></tr></table></figure><h3 id="ConstructorParameters-lt-Type-gt"><a href="#ConstructorParameters-lt-Type-gt" class="headerlink" title="ConstructorParameters&lt;Type&gt;"></a>ConstructorParameters&lt;Type&gt;</h3><p>ç”¨ç»™å®šçš„æ„é€ å‡½æ•°çš„ç±»å‹<code>Type</code>æ„é€ å…ƒç»„æˆ–æ•°ç»„ã€‚ç”Ÿæˆä¸€ä¸ªå…·æœ‰æ‰€æœ‰å½¢å‚ç±»å‹çš„å…ƒç»„ç±»å‹ï¼ˆå¦‚æœ<code>Type</code>ä¸æ˜¯å‡½æ•°ï¼Œè¯¥ç±»å‹ä¸º<code>never</code>ï¼‰ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// type T0 = [message?: string | undefined, options?: ErrorOptions | undefined]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">ConstructorParameters</span>&lt;<span class="title class_">ErrorConstructor</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T1 = string[]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ConstructorParameters</span>&lt;<span class="title class_">FunctionConstructor</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T2 = [pattern: string | RegExp, flags?: string | undefined]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">ConstructorParameters</span>&lt;<span class="title class_">RegExpConstructor</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T3 = unknown[]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">ConstructorParameters</span>&lt;<span class="built_in">any</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Type &#x27;Function&#x27; does not satisfy the constraint &#x27;abstract new (...args: any) =&gt; any&#x27;.</span></span><br><span class="line"><span class="comment">// Type &#x27;Function&#x27; provides no match for the signature &#x27;new (...args: any): any&#x27;.</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T4</span> = <span class="title class_">ConstructorParameters</span>&lt;<span class="title class_">Function</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="ReturnType-lt-Type-gt"><a href="#ReturnType-lt-Type-gt" class="headerlink" title="ReturnType&lt;Type&gt;"></a>ReturnType&lt;Type&gt;</h3><p>æ„é€ ä¸€ä¸ªç”±ç»™å®šå‡½æ•°ç±»å‹<code>Type</code>çš„è¿”å›ç±»å‹ç»„æˆçš„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">f1</span> = (<span class="params"></span>) =&gt; (&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="string">&#x27;&#x27;</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T0 = string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">ReturnType</span>&lt;<span class="function">() =&gt;</span> <span class="built_in">string</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T1 = void</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ReturnType</span>&lt;<span class="function">(<span class="params">s: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T2 = unknown</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">ReturnType</span>&lt;&lt;T&gt;<span class="function">() =&gt;</span> T&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T3 = number[]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">ReturnType</span>&lt;&lt;T <span class="keyword">extends</span> U, U <span class="keyword">extends</span> <span class="built_in">number</span>[]&gt;<span class="function">() =&gt;</span> T&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T4 = &#123; a: number; b: string; &#125;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T4</span> = <span class="title class_">ReturnType</span>&lt;<span class="keyword">typeof</span> f1&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T5 = any</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T5</span> = <span class="title class_">ReturnType</span>&lt;<span class="built_in">any</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T6 = never</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T6</span> = <span class="title class_">ReturnType</span>&lt;<span class="built_in">never</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Type &#x27;string&#x27; does not satisfy the constraint &#x27;(...args: any) =&gt; any&#x27;.</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T7</span> = <span class="title class_">ReturnType</span>&lt;<span class="built_in">string</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Type &#x27;Function&#x27; does not satisfy the constraint &#x27;(...args: any) =&gt; any&#x27;.</span></span><br><span class="line"><span class="comment">Type &#x27;Function&#x27; provides no match for the signature &#x27;(...args: any): any&#x27;. */</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T8</span> = <span class="title class_">ReturnType</span>&lt;<span class="title class_">Function</span>&gt;;</span><br></pre></td></tr></table></figure><h3 id="InstanceType-lt-Type-gt"><a href="#InstanceType-lt-Type-gt" class="headerlink" title="InstanceType&lt;Type&gt;"></a>InstanceType&lt;Type&gt;</h3><p>æ„é€ ä¸€ä¸ªç±»å‹ï¼Œç”±<code>Type</code>ä¸­æ„é€ å‡½æ•°å®åŠ›ç±»å‹ç»„æˆã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> &#123;</span><br><span class="line">  x = <span class="number">0</span></span><br><span class="line">  y = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T0 = C</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T0</span> = <span class="title class_">InstanceType</span>&lt;<span class="keyword">typeof</span> C&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T1 = any</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">InstanceType</span>&lt;<span class="built_in">any</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type T2 = never</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">InstanceType</span>&lt;<span class="built_in">never</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Type &#x27;string&#x27; does not satisfy the constraint &#x27;abstract new (...args: any) =&gt; any&#x27;.</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">InstanceType</span>&lt;<span class="built_in">string</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Type &#x27;Function&#x27; does not satisfy the constraint &#x27;abstract new (...args: any) =&gt; any&#x27;.</span></span><br><span class="line"><span class="comment">  Type &#x27;Function&#x27; provides no match for the signature &#x27;new (...args: any): any&#x27;. */</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T4</span> = <span class="title class_">InstanceType</span>&lt;<span class="title class_">Function</span>&gt;;</span><br></pre></td></tr></table></figure><h3 id="ThisParameterType-lt-Type-gt"><a href="#ThisParameterType-lt-Type-gt" class="headerlink" title="ThisParameterType&lt;Type&gt;"></a>ThisParameterType&lt;Type&gt;</h3><p>æå–å‡½æ•°ç±»å‹<code>Type</code>çš„<code>thiså½¢å‚</code>çš„ç±»å‹ï¼Œå¦‚æœ<code>Type</code>æ²¡æœ‰æ­¤å½¢å‚ï¼Œåˆ™ä¸º<code>unknown</code></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">toHex</span>(<span class="params"><span class="variable language_">this</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">toString</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">numberToString</span>(<span class="params">n: ThisParameterType&lt;<span class="keyword">typeof</span> toHex&gt;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> toHex.<span class="title function_">apply</span>(n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="OmitThisParameter-lt-Type-gt"><a href="#OmitThisParameter-lt-Type-gt" class="headerlink" title="OmitThisParameter&lt;Type&gt;"></a>OmitThisParameter&lt;Type&gt;</h3><p>ä»å‡½æ•°ç±»å‹<code>Type</code>ä¸­ç§»é™¤<code>thiså½¢å‚</code>ã€‚å¦‚æœ<code>Type</code>æ²¡æœ‰æ˜¾å¼å£°æ˜<code>this</code>å½¢å‚ï¼Œç»“æœå°±æ˜¯<code>Type</code>ã€‚å¦åˆ™ï¼Œå°†ä¾ç…§<code>Type</code>åˆ›å»ºä¸€ä¸ªä¸å¸¦æ­¤å½¢å‚çš„æ–°å‡½æ•°ã€‚æ³›å‹è¢«åˆ é™¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªé‡è½½ç­¾åè¢«ä¼ åˆ°æ–°çš„å‡½æ•°ç±»å‹ä¸­ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">toHex</span>(<span class="params"><span class="variable language_">this</span>: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">toString</span>(<span class="number">16</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">fiveToHex</span>: <span class="title class_">OmitThisParameter</span>&lt;<span class="keyword">typeof</span> toHex&gt; = toHex.<span class="title function_">bind</span>(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fiveToHex</span>())</span><br></pre></td></tr></table></figure><h3 id="ThisType-lt-Type-gt"><a href="#ThisType-lt-Type-gt" class="headerlink" title="ThisType&lt;Type&gt;"></a>ThisType&lt;Type&gt;</h3><p>è¯¥å®ç”¨ç±»å‹ä¸è¿”å›è½¬æ¢åçš„ç±»å‹ã€‚å®ƒæ˜¯ä¸Šä¸‹æ–‡<code>this</code>ç±»å‹çš„æ ‡è®°ã€‚è¦ä½¿ç”¨è¿™ä¸ªå®ç”¨ç±»å‹ï¼Œå¿…é¡»å¯ç”¨<code>noImplicitThis</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ObjectDescriptor</span>&lt;D, M&gt; = &#123;</span><br><span class="line">  data?: D;</span><br><span class="line">  methods?: M &amp; <span class="title class_">ThisType</span>&lt;D &amp; M&gt;; <span class="comment">// Type of &#x27;this&#x27; in methods is D &amp; M</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> makeObject&lt;D, M&gt;(<span class="attr">desc</span>: <span class="title class_">ObjectDescriptor</span>&lt;D, M&gt;): D &amp; M &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">data</span>: <span class="built_in">object</span> = desc.<span class="property">data</span> || &#123;&#125;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">methods</span>: <span class="built_in">object</span> = desc.<span class="property">methods</span> || &#123;&#125;</span><br><span class="line">  <span class="keyword">return</span> &#123; ...data, ...methods &#125; <span class="keyword">as</span> D &amp; M</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = <span class="title function_">makeObject</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">moveBy</span>(<span class="params">dx: <span class="built_in">number</span>, dy: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">x</span> += dx <span class="comment">// Strongly typed this</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">y</span> += dy <span class="comment">// Strongly typed this</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">obj.<span class="property">x</span> = <span class="number">10</span></span><br><span class="line">obj.<span class="property">y</span> = <span class="number">20</span></span><br><span class="line">obj.<span class="title function_">moveBy</span>(<span class="number">5</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure><h3 id="Uppercase-lt-StringType-gt"><a href="#Uppercase-lt-StringType-gt" class="headerlink" title="Uppercase&lt;StringType&gt;"></a>Uppercase&lt;StringType&gt;</h3><p>å°†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Greeting</span> = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// type ShoutyGreeting = &quot;HELLO WORLD&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ShoutyGreeting</span> = <span class="title class_">Uppercase</span>&lt;<span class="title class_">Greeting</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ASCIICacheKey</span>&lt;<span class="title class_">Str</span> <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = <span class="string">`ID-<span class="subst">$&#123;Uppercase&lt;Str&gt;&#125;</span>`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// type MainID = &quot;ID-MY_APP&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MainID</span> = <span class="title class_">ASCIICacheKey</span>&lt;<span class="string">&#x27;my_app&#x27;</span>&gt;</span><br></pre></td></tr></table></figure><p>Lowercase&lt;StringType&gt;</p><p>å°†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Greeting</span> = <span class="string">&#x27;Hello World&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// type ShoutyGreeting = &quot;hello world&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ShoutyGreeting</span> = <span class="title class_">Lowercase</span>&lt;<span class="title class_">Greeting</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ASCIICacheKey</span>&lt;<span class="title class_">Str</span> <span class="keyword">extends</span> <span class="built_in">string</span>&gt; = <span class="string">`ID-<span class="subst">$&#123;Lowercase&lt;Str&gt;&#125;</span>`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// type MainID = &quot;ID-my_app&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MainID</span> = <span class="title class_">ASCIICacheKey</span>&lt;<span class="string">&#x27;my_app&#x27;</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="Capitalize-lt-StringType-gt"><a href="#Capitalize-lt-StringType-gt" class="headerlink" title="Capitalize&lt;StringType&gt;"></a>Capitalize&lt;StringType&gt;</h3><p>å°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬ä¸ºå¤§å†™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">LowercaseGreeting</span> = <span class="string">&quot;hello, world&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type Greeting = &quot;Hello, world&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Greeting</span> = <span class="title class_">Capitalize</span>&lt;<span class="title class_">LowercaseGreeting</span>&gt;;</span><br></pre></td></tr></table></figure><h3 id="Uncapitalize-lt-StringType-gt"><a href="#Uncapitalize-lt-StringType-gt" class="headerlink" title="Uncapitalize&lt;StringType&gt;"></a>Uncapitalize&lt;StringType&gt;</h3><p>å°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬ä¸ºå°å†™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">UppercaseGreeting</span> = <span class="string">&quot;HELLO WORLD&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type UncomfortableGreeting = &quot;hELLO WORLD&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">UncomfortableGreeting</span> = <span class="title class_">Uncapitalize</span>&lt;<span class="title class_">UppercaseGreeting</span>&gt;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> TS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> TS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cssåˆ‡è§’æ•ˆæœ</title>
      <link href="/posts/1f5ea842/"/>
      <url>/posts/1f5ea842/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20220310163254.jpg" alt="ç®­å¤´"></p><p>å¦‚ä¸Šå›¾ğŸ‘†è¿™ç§ï¼Œåˆ‡æ‰ä¸€ä¸ªçŸ©å½¢çš„ä¸€ä¸ªæˆ–å¤šä¸ªè§’çš„è®¾è®¡æ•ˆæœï¼Œå‰ç«¯åœ¨åˆ‡å›¾æ—¶ä¼šç»å¸¸é‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼Œå¦‚ä½•ä½¿ç”¨cssè½»æ˜“å®ç°è¿™ç§æ•ˆæœï¼Ÿ</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><ul><li>ä½¿ç”¨cssçš„<strong>æ¸å˜</strong>å°±èƒ½å®ç°è¿™ç§æ•ˆæœã€‚å‡è®¾æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå³ä¸‹è§’è¢«åˆ‡æ‰çš„æ•ˆæœï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ª<strong>ä»å³ä¸‹è§’åˆ°å·¦ä¸Šè§’ï¼ˆ-45degï¼‰çš„çº¿æ€§æ¸å˜</strong>ï¼Œä»é€æ˜è‰²å¼€å§‹æ¸å˜ï¼Œç„¶ååœ¨ç›¸åŒçš„ä½ç½®è®¾ç½®å¦ä¸€ä¸ªè‰²å€¼å°±èƒ½å®ç°ã€‚ï¼ˆå‡è®¾åˆ‡è§’æ·±åº¦ä¸º35pxï¼‰ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, transparent <span class="number">35px</span>, <span class="number">#C02A79</span> <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20220310170839.jpg" alt="åˆ‡è§’"></p><ul><li>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æŠŠå®ƒå˜æˆä¸€ä¸ªå‘å³ç®­å¤´çš„æ ·å­ï¼Œåªéœ€è¦å†ä¸ºå®ƒåŠ ä¸€å±‚æ¸å˜ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: </span><br><span class="line">    <span class="built_in">linear-gradient</span>(-<span class="number">135deg</span>, transparent <span class="number">35px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) top,</span><br><span class="line">    <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, transparent <span class="number">35px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) bottom;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ è¿è¡Œäº†ä¸Šé¢çš„ä»£ç ä½ å°±ä¼šå‘ç°ï¼Œç»“æœæ˜¯è¿™ä¸ªæ ·å­çš„ğŸ˜±ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20220310171612.jpg"></p><ul><li>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†ä¸¤å±‚æ¸å˜ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸¤å±‚æ¸å˜éƒ½ä¼šå¡«æ»¡æ•´ä¸ªå…ƒç´ ï¼Œä¼šç›¸äº’è¦†ç›–ï¼Œè€Œä¸”ä¸¤å±‚æ¸å˜éƒ½ä¼šé»˜è®¤å¹³é“ºæ•´ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¾ç½®<code>background-size</code>è®©æ¯å±‚æ¸å˜åªå æ®å…ƒç´ çš„ä¸€åŠï¼Œå¹¶å…³æ‰<code>background-repeat</code>ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: </span><br><span class="line">    <span class="built_in">linear-gradient</span>(-<span class="number">135deg</span>, transparent <span class="number">35px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) top,</span><br><span class="line">    <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, transparent <span class="number">35px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) bottom;</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">background-repeat</span>: no-repeat;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20220310172416.jpg" alt="ç®­å¤´"></p><ul><li>çœ‹åˆ°è¿™é‡Œä½ åº”è¯¥ä¹ŸçŸ¥é“æ€ä¹ˆåšå‡º4ä¸ªåˆ‡è§’çš„æ•ˆæœäº†ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: </span><br><span class="line">    <span class="built_in">linear-gradient</span>(<span class="number">135deg</span>, transparent <span class="number">15px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) top left,</span><br><span class="line">    <span class="built_in">linear-gradient</span>(-<span class="number">135deg</span>, transparent <span class="number">15px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) top right,</span><br><span class="line">    <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, transparent <span class="number">15px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) bottom right,</span><br><span class="line">    <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, transparent <span class="number">15px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) bottom left;</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">background-repeat</span>: no-repeat;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20220310173032.jpg" alt="4ä¸ªåˆ‡è§’"></p><ul><li>è™½ç„¶å®ç°äº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œä½†æ˜¯ä¸Šé¢çš„ä»£ç éå¸¸è‡ƒè‚¿åˆ‡éš¾ä»¥ç»´æŠ¤ï¼Œæ¯å½“æˆ‘ä»¬éœ€è¦ä¿®æ”¹èƒŒæ™¯é¢œè‰²æˆ–åˆ‡è§’å°ºå¯¸æ—¶ï¼Œéƒ½éœ€è¦ä¿®æ”¹4å¤„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>cssé¢„å¤„ç†å™¨</strong>å‡å°‘ä»£ç çš„é‡å¤åº¦ã€‚ä¾‹å¦‚ä½¿ç”¨<strong>scss</strong>ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> beveled-corners(<span class="variable">$bg</span>, <span class="variable">$tl</span>:<span class="number">0</span>, <span class="variable">$tr</span>:<span class="variable">$tl</span>, <span class="variable">$br</span>:<span class="variable">$tl</span>, <span class="variable">$bl</span>:<span class="variable">$tr</span>) &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$bg</span>;</span><br><span class="line">    <span class="attribute">background</span>:</span><br><span class="line">      <span class="built_in">linear-gradient</span>(<span class="number">135deg</span>, transparent <span class="variable">$tl</span>, <span class="variable">$bg</span> <span class="number">0</span>) top left,</span><br><span class="line">      <span class="built_in">linear-gradient</span>(<span class="number">225deg</span>, transparent <span class="variable">$tr</span>, <span class="variable">$bg</span> <span class="number">0</span>) top right,</span><br><span class="line">      <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, transparent <span class="variable">$br</span>, <span class="variable">$bg</span> <span class="number">0</span>) bottom right,</span><br><span class="line">      <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, transparent <span class="variable">$bl</span>, <span class="variable">$bg</span> <span class="number">0</span>) bottom left;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨éœ€è¦çš„æ—¶å€™å°±å¯ä»¥ç›´æ¥è°ƒç”¨å®ƒï¼Œä¼ å…¥2-5ä¸ªå‚æ•°ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@include</span> beveled-corners(<span class="number">#C02A79</span>, <span class="number">15px</span>); <span class="comment">// 4ä¸ª15pxçš„åˆ‡è§’ </span></span><br><span class="line"><span class="keyword">@include</span> beveled-corners(<span class="number">#C02A79</span>, <span class="number">0</span>ï¼Œ <span class="number">15px</span>, <span class="number">15px</span>, <span class="number">0</span>); <span class="comment">// åªæœ‰å·¦ä¸Šå’Œå·¦ä¸‹15pxçš„åˆ‡è§’ </span></span><br></pre></td></tr></table></figure><h2 id="å¼§å½¢åˆ‡è§’"><a href="#å¼§å½¢åˆ‡è§’" class="headerlink" title="å¼§å½¢åˆ‡è§’"></a>å¼§å½¢åˆ‡è§’</h2><ul><li>æœ‰äº†ä¸Šé¢å®ç°åˆ‡è§’çš„ç»éªŒï¼Œå¦‚æœæƒ³è¦å®ç°å¼§å½¢åˆ‡è§’çš„è¯ä¹Ÿå°±å¾ˆå®¹æ˜“äº†ã€‚åªéœ€è¦æŠŠä¸Šé¢çš„çº¿æ€§æ¸å˜æ¢æˆå¾„å‘æ¸å˜å³å¯ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>:</span><br><span class="line">    <span class="built_in">radial-gradient</span>(circle at top left, transparent <span class="number">15px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) top left,</span><br><span class="line">    <span class="built_in">radial-gradient</span>(circle at top right, transparent <span class="number">15px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) top right,</span><br><span class="line">    <span class="built_in">radial-gradient</span>(circle at bottom right, transparent <span class="number">15px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) bottom right,</span><br><span class="line">    <span class="built_in">radial-gradient</span>(circle at bottom left, transparent <span class="number">15px</span>, <span class="number">#C02A79</span> <span class="number">0</span>) bottom left;</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">background-repeat</span>: no-repeat;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20220311110911.jpg" alt="csså¼§å½¢åˆ‡è§’"></p><ul><li>ä»¥åå†é‡åˆ°ç±»ä¼¼è¿™ç§çš„åˆ‡è§’æ•ˆæœå°±ä¸ç”¨éº»çƒ¦UIå°å§å§ğŸ¤¦åˆ‡å›¾å•¦ã€‚ï¼ˆä¸‹å›¾å®Œæ•´ä»£ç çœ‹<a href="https://codepen.io/pen?template=WNdewEE">ğŸ‘‰è¿™é‡ŒğŸ‘ˆ</a>ï¼‰</li></ul><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20220311145050.jpg" alt="ä¼˜æƒ åˆ¸"></p><h2 id="å¦ä¸€ç§è§£å†³æ–¹æ¡ˆ-clip-path"><a href="#å¦ä¸€ç§è§£å†³æ–¹æ¡ˆ-clip-path" class="headerlink" title="å¦ä¸€ç§è§£å†³æ–¹æ¡ˆ(clip-path)"></a>å¦ä¸€ç§è§£å†³æ–¹æ¡ˆ(clip-path)</h2><ul><li>ä½¿ç”¨cssçš„<code>clip-path</code>å±æ€§çš„<code>polygon</code>å‡½æ•°ï¼Œä¹Ÿèƒ½å¤Ÿå®ç°åŒæ ·çš„æ•ˆæœï¼Œä¾‹å¦‚å°†ä¸€ä¸ªå…ƒç´ åˆ‡å‡º4ä¸ª20pxçš„æ–œé¢åˆ‡è§’ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: deepskyblue;</span><br><span class="line"><span class="attribute">clip-path</span>: <span class="built_in">polygon</span>(</span><br><span class="line">    <span class="number">20px</span> <span class="number">0</span>, <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>) <span class="number">0</span>, </span><br><span class="line">    <span class="number">100%</span> <span class="number">20px</span>, <span class="number">100%</span> <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>), </span><br><span class="line">    <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>) <span class="number">100%</span>, <span class="number">20px</span> <span class="number">100%</span>, </span><br><span class="line">    <span class="number">0</span> <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>), <span class="number">0</span> <span class="number">20px</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20220311152912.jpg" alt="ä½¿ç”¨clip-pathå®ç°åˆ‡è§’"></p><ul><li>è¿™ç§æ–¹æ³•çš„ä»£ç ç¡®å®çŸ­äº†å¾ˆå¤šï¼Œä½†æ˜¯å®ƒå†™èµ·æ¥å´å¹¶ä¸æ¯”ä½¿ç”¨æ¸å˜ç®€å•ï¼Œè€Œä¸”ä¸å®¹æ˜“ç»´æŠ¤ï¼Œå‡å¦‚æˆ‘ä»¬è¦æ”¹åŠ¨åˆ‡è§’çš„å°ºå¯¸ï¼Œé‚£éœ€è¦æ”¹åŠ¨å…«å¤„ï¼è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥å¯¹ä»»æ„ç±»å‹çš„èƒŒæ™¯ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰è¿›è¡Œè£åˆ‡ã€‚</li></ul><h2 id="é™„-çº¿æ€§æ¸å˜è§’åº¦"><a href="#é™„-çº¿æ€§æ¸å˜è§’åº¦" class="headerlink" title="é™„ - çº¿æ€§æ¸å˜è§’åº¦"></a>é™„ - çº¿æ€§æ¸å˜è§’åº¦</h2><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20220311162257.jpg" alt="çº¿æ€§æ¸å˜è§’åº¦"></p><ul><li>å¦‚ä¸Šå›¾<code>0deg</code>ä»£è¡¨æ¸å˜æ–¹å‘ä¸º<strong>ä»ä¸‹åˆ°ä¸Š</strong>ï¼Œ<code>45deg</code>ä»£è¡¨ä»<strong>å·¦ä¸‹åˆ°å³ä¸Š</strong>,<code>90deg</code>ä»£è¡¨<strong>ä»å·¦å‘å³</strong>ï¼Œè¯¸å¦‚æ­¤ç±»æ­£è§’åº¦ä»£è¡¨é¡ºæ—¶é’ˆæ–¹å‘ï¼Œè´Ÿè§’åº¦ä»£è¡¨é€†æ—¶é’ˆæ–¹å‘ï¼›å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¦ä¸€ç§æ–¹æ³•æŒ‡å®šæ¸å˜çš„æ–¹å‘ï¼š</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to top right, blue, pink);</span><br><span class="line">// ç­‰åŒäº</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, blue, pink);</span><br></pre></td></tr></table></figure><blockquote><p>å†…å®¹æ¥è‡ª<a href="https://book.douban.com/subject/26745943/"><em>ã€Šcssæ­ç§˜ã€‹</em></a>ä¸€ä¹¦ï¼›<br>å¯¹cssæ¸å˜ä¸ç†Ÿæ‚‰çš„åŒå­¦å¯ä»¥å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Images/Using_CSS_gradients"><em>MDN-cssæ¸å˜</em></a>ï¼›</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼€å§‹ä½¿ç”¨gitç®¡ç†æ‚¨çš„ä»£ç </title>
      <link href="/posts/524f855e/"/>
      <url>/posts/524f855e/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h2><ul><li><p>git å®‰è£…åœ°å€ï¼š <a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></p></li><li><p>å®‰è£…å®Œæˆåï¼Œåœ¨æ¡Œé¢å³é”®èœå•æ‰¾åˆ°â€œGit Bashâ€ï¼Œç‚¹å‡»è¹¦å‡ºä¸€ä¸ªç±»ä¼¼å‘½ä»¤è¡Œçª—å£çš„ä¸œè¥¿ï¼Œå°±è¯´æ˜Gitå®‰è£…æˆåŠŸï¼</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210507162251.png" alt="git"></p></li><li><p>ç¡®è®¤å®‰è£…æˆåŠŸåï¼Œè¿˜éœ€è¦æœ€åä¸€æ­¥è®¾ç½®ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">$ git config --global user.email <span class="string">&quot;email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p><em>è¯´æ˜ï¼šgit config â€“list  å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰Gitç¯å¢ƒæ‰€æœ‰é…ç½®</em></p></li></ul><h2 id="æ³¨å†ŒGitHubåŠåˆ›å»ºè¿œç¨‹ä»“åº“"><a href="#æ³¨å†ŒGitHubåŠåˆ›å»ºè¿œç¨‹ä»“åº“" class="headerlink" title="æ³¨å†ŒGitHubåŠåˆ›å»ºè¿œç¨‹ä»“åº“"></a>æ³¨å†ŒGitHubåŠåˆ›å»ºè¿œç¨‹ä»“åº“</h2><ul><li><p>æ³¨å†ŒGitHubï¼š <a href="https://github.com/">https://github.com</a> </p><p>æ³¨å†Œå¹¶ç™»å½•æˆåŠŸä¹‹åï¼Œè¿›åˆ°GitHubä¸»é¡µï¼Œåœ¨é¡µé¢å³ä¸Šæ–¹ç”¨æˆ·èœå•ä¸Šé€‰æ‹© â€œ+â€-&gt;New repository åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210507162810.png" alt="åˆ›å»ºä»“åº“"></p><p>ç»™ä»“åº“å–ä¸€ä¸ªåå­—ï¼Œç‚¹å‡»åˆ›å»ºä»“åº“æŒ‰é’® ä½ å°†æˆåŠŸåˆ›å»ºä¸€ä¸ªä»“åº“ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210507163033.png" alt="æ–°å»ºä»“åº“"></p></li></ul><h2 id="åˆ›å»ºæœ¬åœ°ä»“åº“"><a href="#åˆ›å»ºæœ¬åœ°ä»“åº“" class="headerlink" title="åˆ›å»ºæœ¬åœ°ä»“åº“"></a>åˆ›å»ºæœ¬åœ°ä»“åº“</h2><ul><li>åœ¨ä½ è‡ªå·±çš„ç”µè„‘åˆé€‚çš„åœ°æ–¹åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œè¿›åˆ°è¿™ä¸ªç›®å½•ï¼Œæ‰“å¼€ Git Bash é€šè¿‡ <code>git init</code> å‘½ä»¤æŠŠè¿™ä¸ªç›®å½•å˜æˆGitå¯ä»¥ç®¡ç†çš„ä»“åº“ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202303111644173.png" alt="åˆ›å»ºæœ¬åœ°ä»“åº“"></p><h2 id="å°†æœ¬åœ°ä»“åº“å’Œè¿œç¨‹åº“å…³è”"><a href="#å°†æœ¬åœ°ä»“åº“å’Œè¿œç¨‹åº“å…³è”" class="headerlink" title="å°†æœ¬åœ°ä»“åº“å’Œè¿œç¨‹åº“å…³è”"></a>å°†æœ¬åœ°ä»“åº“å’Œè¿œç¨‹åº“å…³è”</h2><p>ç”±äºä½  æœ¬åœ°çš„Gitä»“åº“ å’Œ Githubä»“åº“ ä¹‹é—´çš„ä¼ è¾“æ˜¯é€šè¿‡ <a href="https://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html">SSH</a> åŠ å¯†çš„ï¼Œæ‰€ä»¥åœ¨å…³è”è¿œç¨‹åº“ä¹‹å‰è¿˜éœ€è¦ä¸€äº›è®¾ç½®ã€‚</p><ul><li><p>åœ¨ Git Bash ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥ç”ŸæˆSSH å¯†é’¥ï¼ˆæŠŠé‚®ç®±æ›¿æ¢ä¸ºä½ çš„ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t ed25519 -C <span class="string">&quot;your_email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p>ç„¶åæŒ‰ç…§æç¤ºå®Œæˆä¸‰æ¬¡å›è½¦ï¼Œå¦‚æœåˆ›å»ºæˆåŠŸï¼Œæœ¬åœ°ç”¨æˆ·ä¸»ç›®å½•ä¸‹å°±ä¼šæœ‰ä¸€ä¸ª <code>.ssh</code> æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ <code>id_ed25519</code> å’Œ <code>id_ed25519.pub</code> ä¸¤ä¸ªæ–‡ä»¶ã€‚<code>id_ed25519</code> æ˜¯ç§é’¥ï¼Œä¸èƒ½æ³„éœ²å‡ºå»ï¼Œ<code>id_ed25519.pub</code> æ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> ~/.ssh</span><br><span class="line">id_ed25519  id_ed25519.pub</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æŠŠä½ çš„å…¬é’¥ï¼Œä¹Ÿå°±æ˜¯ <code>id_ed25519.pub</code> æ–‡ä»¶çš„å†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ clip &lt; ~/.ssh/id_ed25519.pub</span><br></pre></td></tr></table></figure><p><a href="https://github.com/settings/ssh/new">ç‚¹å‡»è¿™é‡Œ</a>æŠŠå¤åˆ¶çš„å…¬é’¥çš„å†…å®¹æ·»åŠ åˆ° Githubï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/202303111645089.png" alt="æ·»åŠ ssh key"></p></li><li><p>æ¥ä¸‹æ¥å°±å¯ä»¥æŠŠ GitHubä»“åº“ å’Œ æœ¬åœ°ä»“åº“ å…³è”äº†</p><p>åœ¨æœ¬åœ°ä»“åº“ä¸‹æ‰“å¼€ Git bash è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆæŠŠä»“åº“åœ°å€æ›¿æ¢ä¸ºä½ çš„ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add origin git@github.com:zxyongyo/test.git</span><br></pre></td></tr></table></figure><p>ä½ çš„ä»“åº“åœ°å€åœ¨è¿™å“¦</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210507164636.png" alt="å…³è”è¿œç¨‹ä»“åº“"></p><p>ç°åœ¨ï¼Œä½ å°±å¯ä»¥æŠŠæœ¬åœ°ä»“åº“çš„æ‰€æœ‰å†…å®¹æ¨é€åˆ°è¿œç¨‹åº“ä¸Šäº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u origin master</span><br><span class="line">Everything up-to-date</span><br><span class="line">Branch <span class="string">&#x27;master&#x27;</span> <span class="built_in">set</span> up to track remote branch <span class="string">&#x27;master&#x27;</span> from <span class="string">&#x27;origin&#x27;</span>.</span><br></pre></td></tr></table></figure></li></ul><h2 id="ä»è¿œç¨‹åº“å…‹éš†"><a href="#ä»è¿œç¨‹åº“å…‹éš†" class="headerlink" title="ä»è¿œç¨‹åº“å…‹éš†"></a>ä»è¿œç¨‹åº“å…‹éš†</h2><h3 id="å…‹éš†ï¼ˆcloneï¼‰"><a href="#å…‹éš†ï¼ˆcloneï¼‰" class="headerlink" title="å…‹éš†ï¼ˆcloneï¼‰"></a>å…‹éš†ï¼ˆcloneï¼‰</h3><p>åœ¨å®é™…å¼€å‘ä¸­,å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬æ²¡æœ‰æœºä¼šä»å¤´initä»“åº“ï¼Œè€Œæ˜¯è¿œç¨‹ä»“åº“å·²ç»å­˜åœ¨ï¼Œæˆ‘ä»¬è¦å‚ä¸åˆ°é¡¹ç›®ä¸­ï¼Œè¿™æ—¶åªéœ€è¦å°†è¿œç¨‹ä»“åº“cloneä¸‹æ¥å°±å¥½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> ä»“åº“åœ°å€</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦ clone éé»˜è®¤åˆ†æ”¯ï¼Œä½¿ç”¨ <code>-b</code> æŒ‡å®šåˆ†æ”¯åï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> -b dev ä»“åº“åœ°å€</span><br></pre></td></tr></table></figure><h3 id="åˆ†æ”¯ï¼ˆbranchï¼‰"><a href="#åˆ†æ”¯ï¼ˆbranchï¼‰" class="headerlink" title="åˆ†æ”¯ï¼ˆbranchï¼‰"></a>åˆ†æ”¯ï¼ˆbranchï¼‰</h3><p>é€šå¸¸æƒ…å†µä¸‹, æˆ‘ä»¬è‡ªå·±åœ¨ååŠ©å¼€å‘, éœ€è¦æ·»åŠ ä¸€ä¸ªæ–°åŠŸèƒ½çš„æ—¶å€™, æ˜¯ä¸èƒ½åœ¨ä¸»åˆ†æ”¯ä¸Šç›´æ¥ä¿®æ”¹çš„, éœ€è¦æˆ‘ä»¬è‡ªå·±å†åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯, ç­‰æ–°åŠŸèƒ½å¼€å‘å®Œæˆåå†åˆå¹¶åˆ°ä¸»åˆ†æ”¯ ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªdebugåˆ†æ”¯</span></span><br><span class="line">$ git branch debug</span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°debugåˆ†æ”¯</span></span><br><span class="line">$ git switch debug</span><br><span class="line">Switched to branch <span class="string">&#x27;debug&#x27;</span></span><br><span class="line"><span class="comment"># ä»¥ä¸Šä¸¤æ¡å‘½ä»¤å¯ç®€å†™ä¸º git switch -c debug</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ†æ”¯ï¼Œå½“å‰å·²ç»åœ¨debugåˆ†æ”¯ä¸Šé¢</span></span><br><span class="line">$ git branch</span><br><span class="line">* debug</span><br><span class="line">  master</span><br><span class="line"><span class="comment"># debugè§£å†³åï¼ŒæŠŠä¿®æ”¹åˆå¹¶åˆ°masterï¼Œå¹¶åˆ é™¤debugåˆ†æ”¯</span></span><br><span class="line">$ git switch master</span><br><span class="line">$ git merge debug</span><br><span class="line">$ git branch -d debug</span><br></pre></td></tr></table></figure><h3 id="æ‹‰å–åˆ«äººçš„æäº¤"><a href="#æ‹‰å–åˆ«äººçš„æäº¤" class="headerlink" title="æ‹‰å–åˆ«äººçš„æäº¤"></a>æ‹‰å–åˆ«äººçš„æäº¤</h3><p>åœ¨æˆ‘ä»¬å®Œæˆäº†æŸé¡¹åŠŸèƒ½çš„ä¿®æ”¹ï¼Œéœ€è¦pushåˆ°è¿œç¨‹çš„æ—¶å€™ï¼Œå…¶ä»–åä½œè€…å¯èƒ½å·²ç»æäº¤äº†ä»–ä»¬çš„ä¿®æ”¹ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæŠŠæœ€æ–°çš„æäº¤æ‹‰å–ä¸‹æ¥ï¼ŒåŠ å…¥æˆ‘ä»¬çš„ä¿®æ”¹ï¼Œå†é‡æ–°æäº¤ä¸Šå»ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git push</span><br><span class="line"><span class="comment"># pushè¢«é©³å›äº†ï¼Œå› ä¸ºæœ‰å…¶ä»–äººå·²ç»æäº¤äº†æ›´æ–°</span></span><br><span class="line"> ! [rejected]        master -&gt; master (fetch first)</span><br><span class="line">error: failed to push some refs to <span class="string">&#x27;git@github.com:JavyZheng/git_demo.git&#x27;</span></span><br><span class="line">hint: Updates were rejected because the remote contains work that you <span class="keyword">do</span></span><br><span class="line">hint: not have locally. This is usually caused by another repository pushing</span><br><span class="line">hint: to the same ref. You may want to first integrate the remote changes</span><br><span class="line">hint: (e.g., <span class="string">&#x27;git pull ...&#x27;</span>) before pushing again.</span><br><span class="line">hint: See the <span class="string">&#x27;Note about fast-forwards&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;git push --help&#x27;</span> <span class="keyword">for</span> details </span><br><span class="line"><span class="comment"># æ‹‰å–è¿œç¨‹æäº¤å†…å®¹å¹¶åˆå¹¶åˆ°å½“å‰å·¥ä½œåŒº</span></span><br><span class="line">$ git pull</span><br><span class="line"><span class="comment"># é‡æ–°pushåˆ°è¿œç¨‹</span></span><br><span class="line">$ git push</span><br></pre></td></tr></table></figure><h3 id="è§£å†³å†²çª"><a href="#è§£å†³å†²çª" class="headerlink" title="è§£å†³å†²çª"></a>è§£å†³å†²çª</h3><p>å½“æ‹‰å–åä½œè€…çš„æäº¤æ—¶ï¼Œå¾ˆå¯èƒ½ä¸åŒå¼€å‘è€…ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€éƒ¨åˆ†ï¼Œè¿™æ—¶å€™ï¼Œå°±ä¼šå‡ºç°å†²çªï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è§£å†³è¿™äº›å†²çªï¼Œå†é‡æ–°æäº¤ä¸Šå»ã€‚</p><p><strong>ä¾‹å¦‚å†²çªä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; <span class="variable constant_">HEAD</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;This is master branch.&#x27;</span>);</span><br><span class="line">=======</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;This is developOne1 branch.&#x27;</span>);</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; developOne</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¹æ®éœ€æ±‚æˆ‘ä»¬æ‰‹åŠ¨å°†ä»£ç æ”¹ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">&#x27;This is master branch.&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æäº¤å°±æ²¡æœ‰é—®é¢˜äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å½»åº•å¼„æ‡‚ js ä¸­äº‹ä»¶å†’æ³¡å’Œæ•è·ğŸˆ</title>
      <link href="/posts/81781fa3/"/>
      <url>/posts/81781fa3/</url>
      
        <content type="html"><![CDATA[<h2 id="äº‹ä»¶è§¦å‘ç»å†çš„ä¸‰ä¸ªé˜¶æ®µ"><a href="#äº‹ä»¶è§¦å‘ç»å†çš„ä¸‰ä¸ªé˜¶æ®µ" class="headerlink" title="äº‹ä»¶è§¦å‘ç»å†çš„ä¸‰ä¸ªé˜¶æ®µ"></a>äº‹ä»¶è§¦å‘ç»å†çš„ä¸‰ä¸ªé˜¶æ®µ</h2><ol><li>é¦–å…ˆæˆ‘ä»¬è¦å¼„æ¸…æ¥šå½“ä¸€ä¸ªdomäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå®ƒä¸ä»…ä»…æ˜¯å•çº¯åœ°åœ¨è‡ªèº«å¯¹è±¡ä¸Šè§¦å‘ä¸€æ¬¡ï¼Œè€Œæ˜¯ç»å†äº†ä¸‰ä¸ªä¸åŒçš„é˜¶æ®µï¼šğŸ‘‡</li></ol><ul><li><strong>æ•è·é˜¶æ®µ</strong>ï¼šäº‹ä»¶å¯¹è±¡ä» <code>window</code> å¼€å§‹ä¾æ¬¡å‘ä¸‹ä¼ é€’ï¼Œç›´åˆ°ç›®æ ‡çš„çˆ¶çº§å…ƒç´ ï¼Œä»å¤–å‘å†…æ•è·äº‹ä»¶å¯¹è±¡ï¼›</li><li><strong>ç›®æ ‡é˜¶æ®µ</strong>ï¼šåˆ°è¾¾ç›®æ ‡äº‹ä»¶ä½ç½®ï¼Œè§¦å‘äº‹ä»¶ï¼›</li><li><strong>å†’æ³¡é˜¶æ®µ</strong>ï¼šä»ç›®æ ‡çš„çˆ¶çº§å¼€å§‹ä¾æ¬¡å‘ä¸Šä¼ é€’ï¼Œç›´åˆ° <code>window</code> åœæ­¢ï¼Œä»å†…å‘å¤–å†’æ³¡äº‹ä»¶å¯¹è±¡ã€‚</li></ul><ol start="2"><li>ä¸‹é¢æ˜¯ <a href="https://www.w3.org/TR/DOM-Level-3-Events/#event-flow" title="w3cäº‹ä»¶æµ">w3cè§£é‡Šäº‹ä»¶æµ</a> çš„å›¾ï¼š<br><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210428110115.jpg" alt="äº‹ä»¶æµ" title="äº‹ä»¶æµ"></li></ol><h2 id="å†’æ³¡å’Œæ•è·"><a href="#å†’æ³¡å’Œæ•è·" class="headerlink" title="å†’æ³¡å’Œæ•è·"></a>å†’æ³¡å’Œæ•è·</h2><ol><li><p>å½“æˆ‘ä»¬æ³¨å†Œä¸€ä¸ªäº‹ä»¶æ—¶ï¼Œäº‹ä»¶é»˜è®¤ä½¿ç”¨å†’æ³¡äº‹ä»¶æµï¼Œä¸ä½¿ç”¨æ•è·äº‹ä»¶æµã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">addEventListener</span>(type, listener);</span><br><span class="line"><span class="title function_">addEventListener</span>(type, listener, useCapture);</span><br><span class="line"><span class="title function_">addEventListener</span>(type, listener, options);</span><br></pre></td></tr></table></figure><p><strong>eventï¼š</strong> <strong>å¿…é¡»</strong>ã€‚å­—ç¬¦ä¸²ï¼ŒæŒ‡å®š <a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" title="äº‹ä»¶å‚è€ƒ|MDN">äº‹ä»¶ç±»å‹</a>ã€‚<br><strong>listenerï¼š</strong> <strong>å¿…é¡»</strong>ã€‚ä¸€ä¸ªå®ç°äº† <code>EventListener</code> æ¥å£çš„å¯¹è±¡ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ã€‚<br><strong>useCaptureï¼š</strong>å¯é€‰ã€‚å¸ƒå°”å€¼ï¼ŒæŒ‡å®šäº‹ä»¶æ˜¯å¦åœ¨æ•è·æˆ–å†’æ³¡é˜¶æ®µæ‰§è¡Œã€‚<strong>ï¼ˆé»˜è®¤ <code>false</code>ï¼‰</strong></p><p><strong>optionsï¼š</strong> å¯é€‰ï¼Œä¸€ä¸ªå¯¹è±¡ï¼Œå¯ç”¨å±æ€§å¦‚ä¸‹ğŸ‘‡</p><ul><li>captureï¼šåŒ useCapture</li><li>onceï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤º <code>listener</code> è¢«æ·»åŠ åæœ€å¤šåªè°ƒç”¨ä¸€æ¬¡ã€‚å¦‚æœä¸º <code>true</code>ï¼Œ<code>listener</code> ä¼šåœ¨å…¶è¢«è°ƒç”¨ä¹‹åè‡ªåŠ¨ç§»é™¤ã€‚</li><li>passiveï¼šå¸ƒå°”å€¼ï¼Œä¸º <code>true</code> æ—¶ï¼Œè¡¨ç¤º <code>listener</code> æ°¸è¿œä¸ä¼šè°ƒç”¨ <code>preventDefault()</code>ï¼›è¯¦ç»†è¯·æŸ¥çœ‹ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener#%E4%BD%BF%E7%94%A8_passive_%E6%94%B9%E5%96%84%E6%BB%9A%E5%B1%8F%E6%80%A7%E8%83%BD">ä½¿ç”¨ passive æ”¹å–„æ»šå±æ€§èƒ½</a>ã€‚</li></ul></li><li><p>ä¸‹é¢åœ¨ä»£ç ä¸­éªŒè¯ï¼Œç›´æ¥é™„ä¸Šå…¨éƒ¨ä»£ç ã€‚ï¼ˆå¯ä»¥ç²˜åˆ°è‡ªå·±ç¼–è¾‘å™¨ä¸­è¿è¡Œã€å°è¯•ä¸€ä¸‹ï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>event<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#one</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#two</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#three</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: deepskyblue;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;one&quot;</span>&gt;</span>one</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;two&quot;</span>&gt;</span>two</span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;three&quot;</span>&gt;</span>three<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> one = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;one&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> two = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;two&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> three = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;three&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    one.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;oneæ•è·&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="literal">true</span>)</span></span><br><span class="line"><span class="language-javascript">    two.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;twoæ•è·&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="literal">true</span>)</span></span><br><span class="line"><span class="language-javascript">    three.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;threeæ•è·&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="literal">true</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    one.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;oneå†’æ³¡&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript">    two.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;twoå†’æ³¡&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript">    three.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;threeå†’æ³¡&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>å½“æˆ‘ä»¬ç‚¹å‡»threeæ—¶ï¼Œå¯ä»¥çœ‹åˆ°ç¡®å®æ˜¯å…ˆç”±å¤–å‘å†…äº‹ä»¶æ•è·ï¼Œä¸€ç›´åˆ°äº‹å‘å…ƒç´ ï¼Œå†ç”±å†…å‘å¤–å†’æ³¡åˆ°æ ¹èŠ‚ç‚¹ä¸Šã€‚<br><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210428110353.png" alt="jsäº‹ä»¶" title="å†’æ³¡&amp;æ•è·"></p></li><li><p>å¦‚æœä¸€ä¸ªå…ƒç´ æ—¢æ³¨å†Œäº†å†’æ³¡äº‹ä»¶ï¼Œä¹Ÿæ³¨å†Œäº†æ•è·äº‹ä»¶ï¼Œåˆ™æŒ‰ç…§æ³¨å†Œé¡ºåºæ‰§è¡Œã€‚<br>æˆ‘ä»¬ä¿®æ”¹ä»£ç æŠŠå†’æ³¡äº‹ä»¶æ”¾åœ¨æ•è·äº‹ä»¶ä¹‹å‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">one.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;oneå†’æ³¡&#x27;</span>)</span><br><span class="line">&#125;, <span class="literal">false</span>)</span><br><span class="line">two.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;twoå†’æ³¡&#x27;</span>)</span><br><span class="line">&#125;, <span class="literal">false</span>)</span><br><span class="line">three.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;threeå†’æ³¡&#x27;</span>)</span><br><span class="line">&#125;, <span class="literal">false</span>)</span><br><span class="line">   </span><br><span class="line">one.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;oneæ•è·&#x27;</span>)</span><br><span class="line">&#125;, <span class="literal">true</span>)</span><br><span class="line">two.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;twoæ•è·&#x27;</span>)</span><br><span class="line">&#125;, <span class="literal">true</span>)</span><br><span class="line">three.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;threeæ•è·&#x27;</span>)</span><br><span class="line">&#125;, <span class="literal">true</span>)</span><br></pre></td></tr></table></figure><p>å†ç‚¹å‡»threeï¼Œå¯ä»¥çœ‹åˆ°è¿™æ¬¡threeå…ˆæ˜¯å…ˆå†’æ³¡åæ•è·çš„ï¼Œç”±æ­¤å¯è§ä¸€ä¸ªå…ƒç´ åŒæ—¶æ³¨å†Œäº†å†’æ³¡å’Œæ•è·äº‹ä»¶ï¼Œåˆ™ä¼šæŒ‰ç…§æ³¨å†Œé¡ºåºæ‰§è¡Œã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210428110502.png" alt="jsäº‹ä»¶" title="å†’æ³¡&amp;æ•è·"></p></li></ol><h2 id="é˜»æ­¢äº‹ä»¶å†’æ³¡"><a href="#é˜»æ­¢äº‹ä»¶å†’æ³¡" class="headerlink" title="é˜»æ­¢äº‹ä»¶å†’æ³¡"></a>é˜»æ­¢äº‹ä»¶å†’æ³¡</h2><ul><li><p>åœ¨å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¹¶ä¸éœ€è¦å…ƒç´ ç»‘å®šçš„äº‹ä»¶å‘å¤–å†’æ³¡ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚<br>æˆ‘ä»¬å†æ¬¡ä¿®æ”¹ä»£ç ï¼Œé˜»æ­¢threeçš„äº‹ä»¶å†’æ³¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">three.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;threeå†’æ³¡&#x27;</span>)</span><br><span class="line">  <span class="comment">// é˜»æ­¢å†’æ³¡</span></span><br><span class="line">  e.<span class="title function_">stopPropagation</span>()</span><br><span class="line">&#125;, <span class="literal">false</span>)</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹å®Œä»£ç åæˆ‘ä»¬å†æ¬¡ç‚¹å‡»threeï¼Œå¯ä»¥çœ‹åˆ°threeçš„ç‚¹å‡»äº‹ä»¶è§¦å‘åå°±åœæ­¢ç»§ç»­å‘å¤–å†’æ³¡äº†ï¼›</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210428110554.png" alt="jsäº‹ä»¶" title="å†’æ³¡&amp;æ•è·"></p></li></ul><h2 id="äº‹ä»¶å§”æ‰˜"><a href="#äº‹ä»¶å§”æ‰˜" class="headerlink" title="äº‹ä»¶å§”æ‰˜"></a>äº‹ä»¶å§”æ‰˜</h2><ul><li><p>äº†è§£äº†JavaScriptä¸­äº‹ä»¶çš„å†’æ³¡å’Œæ•è·åï¼Œæˆ‘å°±å¯ä»¥åˆ©ç”¨jsçš„è¿™ç§æœºåˆ¶å®Œæˆä¸€äº›ä»£ç ä¸Šçš„ä¼˜åŒ–äº†ã€‚</p><p>ä¾‹å¦‚ç°åœ¨æœ‰è¿™æ ·çš„ä¸€æ®µä»£ç ğŸ‘‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦ç»™ä¸€ä¸ªæœ‰å¾ˆå¤šå­å…ƒç´ çš„åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ª<code>li</code>ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥æ‰‹åŠ¨ç»™æ¯ä¸ª<code>li</code>ç»‘å®šäº‹ä»¶ï¼Œä¸ä»…éå¸¸çš„éº»çƒ¦ğŸ¤®ï¼Œè€Œä¸”ä¹Ÿä¼šé€ æˆå¾ˆå¤§çš„èµ„æºæµªè´¹ã€‚</p><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨<font color='red'>äº‹ä»¶å†’æ³¡æœºåˆ¶</font>å°†ç›‘å¬äº‹ä»¶åªç»‘å®šåœ¨çˆ¶å…ƒç´ <code>ul</code>ä¸Šé¢ï¼Œå½“äº‹ä»¶è§¦å‘æ—¶å†åˆ¤æ–­è§¦å‘äº‹ä»¶çš„ç›®æ ‡å…ƒç´ ï¼Œæ¥å®Œæˆæˆ‘ä»¬çš„æ“ä½œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;list&#x27;</span>)</span><br><span class="line">list.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> target = event.<span class="property">target</span></span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ˜¯ä¸æ˜¯ç›®æ ‡å…ƒç´ </span></span><br><span class="line">  <span class="keyword">if</span>(target.<span class="property">nodeName</span>.<span class="title function_">toLowerCase</span>() === <span class="string">&#x27;li&#x27;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(target.<span class="property">innerHTML</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™æ ·å½“<code>#list</code>ä¸‹çš„<code>li</code>è¢«ç‚¹å‡»åæˆ‘ä»¬å°±å¯ä»¥è·å–åˆ°è¢«ç‚¹å‡»çš„<code>li</code>å®Œæˆæˆ‘ä»¬çš„æ“ä½œäº†ğŸ¤—ã€‚</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsæ•°ç»„å’Œå¯¹è±¡éå†æ–¹æ³•</title>
      <link href="/posts/bee75f83/"/>
      <url>/posts/bee75f83/</url>
      
        <content type="html"><![CDATA[<h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i === <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="keyword">break</span> <span class="comment">// è·³å‡ºå¾ªç¯</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">2</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">continue</span> <span class="comment">// è·³è¿‡æœ¬æ¬¡å¾ªç¯</span></span><br><span class="line">  &#125;</span><br><span class="line">  str += i</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str) <span class="comment">// &quot;13579&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;g&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arr[i]) <span class="comment">// z, x, y, o, n, g</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="for-â€¦-in"><a href="#for-â€¦-in" class="headerlink" title="for â€¦ in"></a>for â€¦ in</h3><ul><li>ä»¥ä»»æ„é¡ºåºè¿­ä»£ä¸€ä¸ªå¯¹è±¡çš„é™¤<code>Symbol</code>ä»¥å¤–çš„å¯æšä¸¾å±æ€§ï¼ŒåŒ…æ‹¬ç»§æ‰¿çš„å¯æšä¸¾å±æ€§ã€‚ï¼ˆ<em>for â€¦ inæ˜¯ä¸ºéå†å¯¹è±¡å±æ€§è€Œæ„å»ºçš„ï¼Œä¸å»ºè®®ä¸æ•°ç»„ä¸€èµ·ä½¿ç”¨</em>ï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> &#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> k <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;obj.&#x27;</span> + k + <span class="string">&#x27; = &#x27;</span> + k)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &quot;obj.a = a&quot;  </span></span><br><span class="line"><span class="comment">// &quot;obj.b = b&quot;  </span></span><br><span class="line"><span class="comment">// &quot;obj.c = c&quot;</span></span><br></pre></td></tr></table></figure><hr><h3 id="for-â€¦-of"><a href="#for-â€¦-of" class="headerlink" title="for â€¦ of"></a>for â€¦ of</h3><ul><li>åœ¨å¯è¿­ä»£å¯¹è±¡ä¸Šåˆ›å»ºä¸€ä¸ªè¿­ä»£å¾ªç¯ï¼Œè°ƒç”¨è‡ªå®šä¹‰è¿­ä»£é’©å­ï¼Œä¸ºæ¯ä¸ªä¸åŒå±æ€§çš„å€¼æ‰§è¡Œè¯­å¥</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> v <span class="keyword">of</span> arr) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(v)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &quot;a&quot;</span></span><br><span class="line"><span class="comment">// &quot;b&quot;</span></span><br><span class="line"><span class="comment">// &quot;c&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of#for...of%E4%B8%8Efor...in%E7%9A%84%E5%8C%BA%E5%88%AB"><code>for ... in</code> ä¸ <code>for ... of</code>çš„åŒºåˆ« âœ¨</a></strong></p></blockquote><hr><h3 id="Array-prototype-forEach"><a href="#Array-prototype-forEach" class="headerlink" title="Array.prototype.forEach()"></a>Array.prototype.forEach()</h3><ul><li>forEach å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼ˆå›è°ƒå‡½æ•°, å›è°ƒå‡½æ•°ä¸­thisçš„å€¼ï¼‰ï¼Œ<strong>å¦‚æœä½¿ç”¨ç®­å¤´å‡½æ•°ï¼ŒthisArgå‚æ•°ä¼šè¢«å¿½ç•¥</strong></li><li>callbackå¯ä»¥æ¥æ”¶ä¸‰ä¸ªå‚æ•° ï¼ˆå½“å‰å…ƒç´ ï¼Œå½“å‰å…ƒç´ çš„ç´¢å¼•ï¼Œå½“å‰æ•°ç»„ï¼‰</li><li>åœ¨forEachæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé™¤æŠ›å‡ºå¼‚å¸¸å¤–ï¼Œæ²¡æœ‰åŠæ³•ç»ˆæ­¢æˆ–è·³å‡ºå¾ªç¯</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;g&#x27;</span>]</span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">value, index, array</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value)  <span class="comment">// z, x, o, n, g</span></span><br><span class="line">  <span class="keyword">if</span> (value === <span class="string">&#x27;x&#x27;</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">shift</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, arr)</span><br></pre></td></tr></table></figure><hr><h3 id="Array-prototype-map"><a href="#Array-prototype-map" class="headerlink" title="Array.prototype.map()"></a>Array.prototype.map()</h3><ul><li>mapæ–¹æ³•å’ŒforEachç±»ä¼¼ï¼Œæ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æ•°ç»„æ‰€æœ‰æˆå‘˜ä¸€æ¬¡ä¼ å…¥å‡½æ•°ï¼Œ</li><li>ç„¶åæŠŠæ¯æ¬¡çš„æ‰§è¡Œç»“æœç»„æˆä¸€ä¸ªæ–°æ•°ç»„è¿”å›ï¼Œ<strong>å¦‚æœä¸æ˜¯ä¸ºäº†ä½¿ç”¨è¿”å›å€¼ï¼Œå°±ä¸è¦ç”¨map</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;g&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> newArr = arr.<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">value, index, array</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> value.<span class="title function_">charCodeAt</span>(<span class="number">0</span>)</span><br><span class="line">&#125;, arr)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newArr) <span class="comment">// [122, 120, 121, 111, 110, 103]</span></span><br></pre></td></tr></table></figure><hr><h3 id="Array-prototype-filter"><a href="#Array-prototype-filter" class="headerlink" title="Array.prototype.filter()"></a>Array.prototype.filter()</h3><ul><li>filteræ–¹æ³•ç”¨æ¥è¿‡æ»¤æ•°ç»„ï¼Œè¿”å›æ»¡è¶³æ¡ä»¶æˆå‘˜ç»„æˆçš„ä¸€ä¸ªæ–°æ•°ç»„</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;g&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> newArr = arr.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">value, index, array</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> value.<span class="title function_">charCodeAt</span>(<span class="number">0</span>) &gt;= <span class="number">120</span></span><br><span class="line">&#125;, arr)</span><br><span class="line"><span class="comment">// const newArr = arr.filter(value =&gt; value.charCodeAt(0) &gt;= 120)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newArr) <span class="comment">// [&#x27;z&#x27;, &#x27;x&#x27;, &#x27;y&#x27;]</span></span><br></pre></td></tr></table></figure><hr><h3 id="Array-prototype-some-amp-Array-prototype-every"><a href="#Array-prototype-some-amp-Array-prototype-every" class="headerlink" title="Array.prototype.some() &amp; Array.prototype.every()"></a>Array.prototype.some() &amp; Array.prototype.every()</h3><ul><li>someã€everyæ–¹æ³•åŠŸèƒ½å’Œç”¨æ³•éƒ½ç›¸ä¼¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ•°ç»„æˆå‘˜æ˜¯å¦ç¬¦åˆæŸç§æ¡ä»¶</li><li>some å½“æœ‰ä¸€ä¸ªæ•°ç»„æˆå‘˜ç¬¦åˆæ¡ä»¶å°±è¿”å›trueï¼›every å½“å…¨éƒ¨æ•°ç»„æˆå‘˜ç¬¦åˆæ¡ä»¶æ‰è¿”å›trueï¼Œå¦åˆ™è¿”å›false</li><li><strong>å¯¹äºç©ºæ•°ç»„ someè¿”å›falseï¼Œeveryè¿”å›trueï¼Œå›è°ƒå‡½æ•°éƒ½ä¸ä¼šæ‰§è¡Œ</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;g&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> someRes = arr.<span class="title function_">some</span>(<span class="keyword">function</span> (<span class="params">value, index, array</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> value.<span class="title function_">charCodeAt</span>(<span class="number">0</span>) &gt; <span class="number">120</span>  <span class="comment">// åªè¦æœ‰ä¸€ä¸ªcharcodeå¤§äº120å°±è¿”å›true</span></span><br><span class="line">&#125;, arr)</span><br><span class="line"><span class="keyword">const</span> everyRes = arr.<span class="title function_">every</span>(<span class="keyword">function</span> (<span class="params">value, index, array</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> value.<span class="title function_">charCodeAt</span>(<span class="number">0</span>) &gt; <span class="number">120</span>  <span class="comment">// charcodeå¤§äº120æ‰è¿”å›true</span></span><br><span class="line">&#125;, arr)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(someRes, everyRes) <span class="comment">// true, false</span></span><br></pre></td></tr></table></figure><hr><h3 id="Array-prototype-reduce-amp-Array-prototype-reduceRight"><a href="#Array-prototype-reduce-amp-Array-prototype-reduceRight" class="headerlink" title="Array.prototype.reduce() &amp; Array.prototype.reduceRight()"></a>Array.prototype.reduce() &amp; Array.prototype.reduceRight()</h3><ul><li><p>reduce()ï¼ŒreduceRight() ä¾æ¬¡å¤„ç†æ•°ç»„ä¸­æ¯ä¸ªæˆå‘˜ï¼Œæœ€ç»ˆç´¯è®¡ä¸ºä¸€ä¸ªå€¼ï¼›<br>reduceä»å·¦åˆ°å³ï¼ŒreduceRightä»å³åˆ°å·¦</p></li><li><p>æ¥æ”¶ä¸¤ä¸ªå‚æ•°  å›è°ƒå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°çš„é»˜è®¤å€¼</p></li><li><p>å›è°ƒå‡½æ•°æ¥æ”¶å››ä¸ªå‚æ•° å‰ä¸¤ä¸ªå‚æ•°æ˜¯å¿…é¡»çš„ï¼Œåä¸¤ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ ğŸ‘‡</p><p><code>previousValue</code>: ä¸Šä¸€æ¬¡æ‰§è¡Œè¿”å›çš„ç´¯ç§¯å€¼ï¼Œé»˜è®¤ä¸ºæ•°ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜</p><p><code>currentValue</code>: å½“å‰å˜é‡ï¼Œ[å¦‚æœæ²¡æœ‰æŒ‡å®šå‚æ•°1çš„é»˜è®¤å€¼] é»˜è®¤ä¸ºæ•°ç»„çš„ç¬¬äºŒä¸ªæˆå‘˜</p><p><code>currentIndex</code>: å½“å‰ä½ç½®ï¼Œé»˜è®¤0</p><p><code>array</code>: åŸæ•°ç»„</p></li><li><p><strong>å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œæ²¡æœ‰æŒ‡å®šç¬¬ä¸€ä¸ªå‚æ•°çš„é»˜è®¤å€¼ï¼Œå°†æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœæŒ‡å®šäº†ç¬¬ä¸€ä¸ªå‚æ•°çš„é»˜è®¤å€¼ï¼Œcallbackä¸ä¼šæ‰§è¡Œï¼Œè¯¥å‚æ•°ä¼šè¢«ç›´æ¥è¿”å›</strong></p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> reduceRes = arr.<span class="title function_">reduce</span>(<span class="keyword">function</span> (<span class="params">previousValue, currentValue, currentIndex, array</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> previousValue + currentValue</span><br><span class="line">&#125;, <span class="string">&#x27;i am &#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reduceRes) <span class="comment">// &quot;i am zxy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> max = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a &gt; b ? a : b) <span class="comment">// æ‰¾å‡ºæ•°ç»„ä¸­æœ€å¤§å€¼</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(max) <span class="comment">// z</span></span><br></pre></td></tr></table></figure><hr><h3 id="Object-keys-Object-values"><a href="#Object-keys-Object-values" class="headerlink" title="Object.keys, Object.values"></a>Object.keys, Object.values</h3><ul><li>Object.keys(obj)ï¼š è¿”å›ä¸€ä¸ªç”±è¯¥å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§åç»„æˆçš„æ•°ç»„</li><li>Object.values(obj)ï¼š è¿”å›ä¸€ä¸ªç”±è¯¥å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§å€¼ç»„æˆçš„æ•°ç»„</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">10000001</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;zxyong&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(obj).<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">key</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key,<span class="variable language_">this</span>[key])</span><br><span class="line">&#125;, obj)</span><br><span class="line"><span class="comment">// &quot;obj.id = 10000001&quot;</span></span><br><span class="line"><span class="comment">// &quot;obj.name = zxyong&quot;</span></span><br><span class="line"><span class="comment">// &quot;obj.age = 18&quot;</span></span><br></pre></td></tr></table></figure><hr><h3 id="Object-entries"><a href="#Object-entries" class="headerlink" title="Object.entries()"></a>Object.entries()</h3><ul><li>è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">10000001</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;zxyong&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> [k, v] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(obj)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(k + <span class="string">&#x27; =&gt; &#x27;</span> + v)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &quot;a =&gt; 1&quot;</span></span><br><span class="line"><span class="comment">// &quot;b =&gt; 2&quot;</span></span><br><span class="line"><span class="comment">// &quot;c =&gt; 3&quot;</span></span><br></pre></td></tr></table></figure><hr><h3 id="Object-getOwnPropertyNames"><a href="#Object-getOwnPropertyNames" class="headerlink" title="Object.getOwnPropertyNames"></a>Object.getOwnPropertyNames</h3><ul><li>ä¸ Object.keysç±»ä¼¼ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«è‡ªèº«æ‰€æœ‰å±æ€§åçš„æ•°ç»„ï¼Œï¼ˆåŒ…å«ä¸å¯æšä¸¾çš„å±æ€§åï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>]</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">getOwnPropertyNames</span>(arr) <span class="comment">// [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;length&quot;]</span></span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒé“¾æ¥<br><a href="https://wangdoc.com/javascript/">https://wangdoc.com/javascript/</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨hexo+git pageæ­å»ºè‡ªå·±çš„åšå®¢ç½‘ç«™</title>
      <link href="/posts/acb03bb7/"/>
      <url>/posts/acb03bb7/</url>
      
        <content type="html"><![CDATA[<p>ğŸ‘‰ æœ€è¿‘å¶ç„¶åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªéå¸¸æ¼‚äº®çš„ä¸ªäººåšå®¢ç½‘ç«™ï¼Œçªç„¶è§‰å¾—è‡ªå·±ä½œä¸ºä¸€ä¸ªå‰ç«¯æ”»åŸç‹®(å°èœé¸¡)ğŸ™ˆï¼Œä¹Ÿè¦æœ‰ä¸€ä¸ªè¿™æ ·çš„ç½‘ç«™ï¼›<font color="red">â¤</font>åŠ¨ä¸å¦‚è¡ŒåŠ¨ï¼Œé—®äº†åº¦å¨˜åæ‰¾åˆ°äº†æœ€ç®€ä¾¿çš„æ–¹æ³•ï¼Œ<font color="#70a1ff">GitHub+Hexoæ­å»ºé™æ€åšå®¢ç½‘ç«™</font>ï¼Œä¸‹é¢ä»‹ç»æ­å»ºè¿‡ç¨‹ï¼Œåªéœ€ç®€å•çš„å‡ æ­¥ã€‚</p><h2 id="Hexo-ğŸ‘"><a href="#Hexo-ğŸ‘" class="headerlink" title="Hexo ğŸ‘"></a>Hexo ğŸ‘</h2><p>ç”Ÿæˆé™æ€åšå®¢ç½‘é¡µçš„ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œ<a href="https://hexo.io/zh-cn/">hexoå®˜ç½‘</a> çš„apiæ•™ç¨‹ï¼Œæ’ä»¶ï¼Œä¸»é¢˜ä»€ä¹ˆçš„éƒ½éå¸¸ä¸°å¯Œï¼Œæœ‰è€å¿ƒçš„åŒå­¦å¯ä»¥å»è‡ªå·±æ‘¸ç´¢ä¸€ä¸‹ï¼Œæˆ‘è¿™é‡Œåªå†™ä¸€ä¸‹æ€ä¹ˆæä¸€ä¸ªèƒ½è·‘èµ·æ¥çš„åšå®¢ç½‘ç«™ã€‚</p><h2 id="å®‰è£…hexo-ğŸ§°"><a href="#å®‰è£…hexo-ğŸ§°" class="headerlink" title="å®‰è£…hexo ğŸ§°"></a>å®‰è£…hexo ğŸ§°</h2><p>å®‰è£…å‰æ‚¨çš„ç”µè„‘ä¸Šå¿…é¡»å·²ç»å®‰è£…äº† <a href="https://nodejs.org/zh-cn/">Node.js</a> å’Œ <a href="https://git-scm.com/downloads">Git</a>ï¼Œå¦‚æœå·²ç»å®‰è£…è¿™ä¸¤ä¸ªå·¥å…·ï¼ˆä¸ä¼šå®‰è£…çš„è¯·è‡ªè¡Œç™¾åº¦å§ï¼‰ï¼Œé‚£ä¹ˆæ‚¨å°±å¯ä»¥ä½¿ç”¨npmå®‰è£…Hexoäº†ï¼Œåœ¨ä»»æ„ç›®å½•æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-cli -g</span><br></pre></td></tr></table></figure><h2 id="å»ºç«™-âš”ï¸"><a href="#å»ºç«™-âš”ï¸" class="headerlink" title="å»ºç«™ âš”ï¸"></a>å»ºç«™ âš”ï¸</h2><h3 id="åˆå§‹åŒ–Hexoç›®å½•"><a href="#åˆå§‹åŒ–Hexoç›®å½•" class="headerlink" title="åˆå§‹åŒ–Hexoç›®å½•"></a>åˆå§‹åŒ–Hexoç›®å½•</h3><p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init &lt;folder&gt;<span class="comment"># åˆå§‹åŒ–hexoç›®å½•  folder-ç›®å½•å</span></span><br><span class="line">$ <span class="built_in">cd</span> &lt;folder&gt;<span class="comment"># è¿›å…¥hexoç›®å½•</span></span><br><span class="line">$ npm install<span class="comment"># å®‰è£…ä¾èµ–</span></span><br></pre></td></tr></table></figure><h3 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h3><p>å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ­£ç¡®ï¼Œé‚£ä¹ˆæ‚¨ç°åœ¨çš„hexoç›®å½•ç»“æ„åº”è¯¥æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ node_modules</span><br><span class="line">â”œâ”€â”€ _config.yml</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ scaffolds</span><br><span class="line">â”œâ”€â”€ source</span><br><span class="line">|   â”œâ”€â”€ _drafts</span><br><span class="line">|   â””â”€â”€ _posts</span><br><span class="line">â””â”€â”€ themes</span><br></pre></td></tr></table></figure><ul><li><p>_config.ymlï¼šç½‘ç«™çš„ <a href="https://hexo.io/zh-cn/docs/configuration">é…ç½®</a> ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤é…ç½®å¤§éƒ¨åˆ†çš„å‚æ•°ã€‚</p></li><li><p>package.jsonï¼šåº”ç”¨çš„ä¾èµ–ä¿¡æ¯ã€‚</p></li><li><p>scaffoldsï¼š<a href="https://hexo.io/zh-cn/docs/writing">æ¨¡ç‰ˆ</a> æ–‡ä»¶å¤¹ã€‚å½“æ‚¨æ–°å»ºæ–‡ç« æ—¶ï¼ŒHexo ä¼šæ ¹æ® scaffold æ¥å»ºç«‹æ–‡ä»¶ã€‚</p></li><li><p>sourceï¼šèµ„æºæ–‡ä»¶å¤¹æ˜¯å­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹ã€‚é™¤ <code>_posts</code> æ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œå¼€å¤´å‘½åä¸º <code>_</code> (ä¸‹åˆ’çº¿)çš„æ–‡ä»¶ / æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚Markdown å’Œ HTML æ–‡ä»¶ä¼šè¢«è§£æå¹¶æ”¾åˆ° <code>public</code> æ–‡ä»¶å¤¹ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿‡å»ã€‚</p></li><li><p>themesï¼š<a href="https://hexo.io/zh-cn/docs/themes">ä¸»é¢˜</a> æ–‡ä»¶å¤¹ã€‚Hexo ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚</p></li></ul><h2 id="è¿è¡Œ-amp-éƒ¨ç½²-ğŸš€"><a href="#è¿è¡Œ-amp-éƒ¨ç½²-ğŸš€" class="headerlink" title="è¿è¡Œ&amp;éƒ¨ç½² ğŸš€"></a>è¿è¡Œ&amp;éƒ¨ç½² ğŸš€</h2><h3 id="æœ¬åœ°é¢„è§ˆ"><a href="#æœ¬åœ°é¢„è§ˆ" class="headerlink" title="æœ¬åœ°é¢„è§ˆ"></a>æœ¬åœ°é¢„è§ˆ</h3><p>åœ¨ç»ˆç«¯æ‰§è¡Œ<code>hexo server</code>ï¼Œæ‰§è¡ŒæˆåŠŸåï¼Œåœ¨æµè§ˆå™¨è¾“å…¥<code>localhost:4000</code>ï¼Œç„¶åå›è½¦ï¼Œå¦‚æœæˆåŠŸæ‰“å¼€é¡µé¢ï¼Œé‚£ä¹ˆæ­å–œğŸ‰ï¼Œç¬¬ä¸€æ­¥å·²ç»æˆåŠŸ!</p><blockquote><p>å¦‚æœæ‰§è¡Œé‡åˆ°äº†æŠ¥é”™ï¼Œå¯èƒ½æ˜¯å› ä¸ºhexoé»˜è®¤ä½¿ç”¨çš„4000ç«¯å£è¢«å ç”¨äº†ï¼Œå¯ä»¥ä½¿ç”¨<code>hexo server -p 4000</code>æŒ‡å®šç«¯å£è¿è¡Œã€‚</p></blockquote><h3 id="éƒ¨ç½²åˆ°GitHub"><a href="#éƒ¨ç½²åˆ°GitHub" class="headerlink" title="éƒ¨ç½²åˆ°GitHub"></a>éƒ¨ç½²åˆ°GitHub</h3><p>ç°åœ¨ç½‘ç«™åªæ˜¯èƒ½åœ¨æœ¬åœ°æ‰“å¼€ï¼Œå¦‚æœæƒ³è¦éšæ—¶éšåœ°çš„åˆ°å¤„ç‚«è€€ğŸ˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦å°†å®ƒéƒ¨ç½²åˆ°GitHubä¸Šï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹æ‰“å¼€äº†ã€‚</p><ol><li><p>æ–°å»ºgitä»“åº“</p><p>åœ¨è‡ªå·±çš„ <a href="https://github.com/">GitHub</a>ä¸Šæ–°å»ºä¸€ä¸ªä»“åº“*(æ²¡æœ‰çš„è¯·è‡ªè¡Œå»æ³¨å†Œ/ç™»å½•)*ï¼Œ</p><p><img src="https://cdn.jsdelivr.net/gh/zxyongyo/pictures/blog/20210426170628.png" alt="GitHubæ–°å»ºä»“åº“" title="GitHubæ–°å»ºä»“åº“"></p></li><li><p>é…ç½®hexoéƒ¨ç½²åˆ°GitHub</p><p>ç”¨æ‚¨çš„ç¼–è¾‘å™¨æ‰“å¼€hexoæ ¹ç›®å½•çš„<code>_config.yml</code>æ–‡ä»¶ï¼Œæ‰¾åˆ°æœ€ä¸‹é¢çš„<code>deploy</code>é…ç½®ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> </span><br><span class="line">    <span class="attr">github:</span> <span class="string">git@github.com:zxyo/zxyong.git</span> <span class="comment"># æ”¹ä¸ºæ‚¨è‡ªå·±åˆšæ‰å»ºçš„ä»“åº“åœ°å€</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢github: çš„ä»“åº“åœ°å€ä¸€å®šè¦æ”¹ä¸ºæ‚¨è‡ªå·±çš„ä»“åº“sshå…‹éš†çš„åœ°å€ã€‚<br>ä½¿ç”¨sshåœ°å€è€Œä¸ç”¨httpsæ˜¯ä¸ºäº†é¿å…æ¯æ¬¡éƒ¨ç½²çš„æ—¶å€™éƒ½éœ€è¦ç™»å½•githubè´¦æˆ·ã€‚[<a href="">é…ç½®ssh</a>]</p></blockquote></li><li><p>éƒ¨ç½²åˆ°gitee</p><p>ç”±äºå›½å†…å¯¹è®¿é—®GitHubçš„é™åˆ¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åŒæ—¶éƒ¨ç½²åˆ°giteeï¼Œé…ç½®æ–¹æ³•ä¸é…ç½®githubç›¸åŒï¼Œç„¶åæ·»åŠ ä¸€è¡Œï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> </span><br><span class="line">    <span class="attr">github:</span> <span class="string">git@github.com:zxyo/zxyong.git</span> <span class="comment"># æ”¹ä¸ºæ‚¨è‡ªå·±çš„ä»“åº“åœ°å€</span></span><br><span class="line">    <span class="attr">gitee:</span> <span class="string">git@gitee.com:zxyo/zxyong.git</span> <span class="comment"># æ”¹ä¸ºæ‚¨è‡ªå·±çš„ä»“åº“åœ°å€</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure></li><li><p>ç¡®ä¿ä¸€åˆ‡æ— è¯¯åï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤éƒ¨ç½²äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean <span class="comment"># æ¸…é™¤ç¼“å­˜æ–‡ä»¶</span></span><br><span class="line">$ hexo gnerate <span class="comment"># ç”Ÿæˆé™æ€æ–‡ä»¶</span></span><br><span class="line">$ hexo deploy <span class="comment"># éƒ¨ç½²åˆ°_config.ymlä¸­é…ç½®çš„gitä»“åº“ä¸­</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨GitHubæˆ–Giteeçš„ä»“åº“è®¾ç½®é‡Œå¼€å¯git pageï¼Œå°±å¯ä»¥è®¿é—®åˆ°æ‚¨çš„åšå®¢äº†âœŒï¼<br>Giteeæ¯æ¬¡éƒ¨ç½²åéƒ½éœ€è¦å»æ‰‹åŠ¨æ›´æ–°git pageã€‚</p></blockquote></li></ol><h2 id="æ›´æ¢ä¸»é¢˜-ğŸ¨"><a href="#æ›´æ¢ä¸»é¢˜-ğŸ¨" class="headerlink" title="æ›´æ¢ä¸»é¢˜ ğŸ¨"></a>æ›´æ¢ä¸»é¢˜ ğŸ¨</h2><ol><li><p>hexoå®˜ç½‘çš„ <a href="https://hexo.io/themes/">ä¸»é¢˜</a> æœ‰å¾ˆå¤šï¼Œå¯ä»¥è‡ªå·±å»æ‰¾ä¸€ä¸ªå–œæ¬¢çš„ï¼Œæˆ‘ç”¨çš„æ˜¯ <a href="https://butterfly.js.org/posts/21cfbf15/">Butterfly</a> è¿™ä¸ªä¸»é¢˜ã€‚</p></li><li><p>æ‰¾åˆ°è¿™ä¸ªä¸»é¢˜çš„ <a href="https://github.com/jerryc127/hexo-theme-butterfly">GitHubä»“åº“</a> æˆ– <a href="https://gitee.com/iamjerryw/hexo-theme-butterfly">Giteeä»“åº“</a> cloneä¸‹æ¥æ”¾åˆ°ä½ çš„hexoé¡¹ç›®çš„themesç›®å½•ä¸‹ã€‚</p></li><li><p>ä¿®æ”¹<code>_config.yml</code>æ–‡ä»¶ï¼ŒæŠŠä¸»é¢˜æ”¹ä¸ºbutterflyï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…æ’ä»¶ï¼Œå¦‚æœä½ æ²¡æœ‰pugå’Œstylusæ¸²æŸ“å™¨ï¼Œæ‰§è¡Œå‘½ä»¤å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œ<code>hexo clean &amp; hexo d -g</code>é‡æ–°æ‰“å¼€ç½‘é¡µå°±èƒ½çœ‹è§æ›´æ¢åçš„æ ·å­å•¦ï¼</p></li><li><p>ä¸»é¢˜é…ç½®</p><p>åœ¨<code>/themes/butterfly</code>ç›®å½•ä¸‹è¿˜æœ‰ä¸€ä¸ª<code>_config.yml</code>é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯ä½ ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢é…ç½®é¡¹å¾ˆå¤šå¯ä»¥æŸ¥çœ‹ <a href="https://butterfly.js.org/posts/4aa8abbe/">å®˜æ–¹æ–‡æ¡£</a> è¿›è¡Œè‡ªç”±é…ç½®ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å…¶ä»– </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
